<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Pythonçˆ¬è™«å­¦ä¹ ç¬”è®°</title>
      <link href="/python-spider.html"/>
      <url>/python-spider.html</url>
      
        <content type="html"><![CDATA[<blockquote><blockquote><p>çœŸä¸æˆ³ï¼ï¼ï¼ğŸ™„</p></blockquote></blockquote><blockquote><p>ZY.Zhang</p><p>æœ¬æ–‡æ¡£åŸºäº<a href="https://www.bilibili.com/video/BV1Yh411o7Sz?p=1">Bç«™è§†é¢‘æ•™ç¨‹</a></p></blockquote><h1>ä¸€ã€çˆ¬è™«åŸºç¡€ç®€ä»‹</h1><h2 id="1-çˆ¬è™«ç®€ä»‹">1. çˆ¬è™«ç®€ä»‹</h2><p>**ä»€ä¹ˆæ˜¯çˆ¬è™«ï¼š**é€šè¿‡ç¼–å†™ç¨‹åºï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨ä¸Šç½‘ï¼Œç„¶åè®©å…¶å»äº’è”ç½‘ä¸ŠæŠ“å–æ•°æ®çš„è¿‡ç¨‹ã€‚</p><h2 id="2-çˆ¬è™«åˆæ³•æ€§æ¢ç©¶">2. çˆ¬è™«åˆæ³•æ€§æ¢ç©¶</h2><p><strong>çˆ¬è™«ç©¶ç«Ÿæ˜¯åˆæ³•è¿˜æ˜¯è¿æ³•çš„ï¼Ÿ</strong></p><ul><li>åœ¨æ³•å¾‹ä¸­æ˜¯ä¸è¢«ç¦æ­¢çš„</li><li>å…·æœ‰è¿æ³•é£é™©</li><li>å–„æ„çˆ¬è™« &amp; æ¶æ„çˆ¬è™«</li></ul><p><strong>çˆ¬è™«å¸¦æ¥çš„é£é™©å¯ä»¥ä½“ç°åœ¨å¦‚ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š</strong></p><ol><li>çˆ¬è™«å¹²æ‰°äº†è¢«è®¿é—®ç½‘ç«™çš„æ­£å¸¸è¿è¥</li><li>çˆ¬è™«æŠ“å–äº†å—åˆ°æ³•å¾‹ä¿æŠ¤çš„ç‰¹å®šç±»å‹çš„æ•°æ®æˆ–ä¿¡æ¯</li></ol><p><strong>å¦‚ä½•åœ¨ç¼–å†™ä½¿ç”¨çš„è¿‡ç¨‹ä¸­é¿å…è¿›å…¥å±€å­çš„å„è¿ï¼Ÿ</strong></p><ul><li>æ—¶å¸¸ä¼˜åŒ–è‡ªå·±çš„ç¨‹åºï¼Œé¿å…å¹²æ‰°è¢«è®¿é—®ç½‘ç«™çš„æ­£å¸¸è¿è¡Œ</li><li>åœ¨ä½¿ç”¨ï¼Œä¼ æ’­çˆ¬å–åˆ°çš„æ•°æ®æ—¶ï¼Œå®¡æŸ¥æŠ“å–åˆ°çš„å†…å®¹ï¼Œå¦‚æœå‘ç°äº†æ¶‰åŠåˆ°ç”¨æˆ·éšç§æˆ–è€…å•†ä¸šæœºå¯†ç­‰æ•æ„Ÿå†…å®¹ï¼Œéœ€è¦åŠæ—¶åœæ­¢çˆ¬å–æˆ–è€…ä¼ æ’­ã€‚</li></ul><h2 id="3-çˆ¬è™«åˆè¯•æ·±å…¥">3. çˆ¬è™«åˆè¯•æ·±å…¥</h2><p><strong>çˆ¬è™«åœ¨ä½¿ç”¨åœºæ™¯ä¸­çš„åˆ†ç±»ï¼š</strong></p><ul><li><p>**é€šç”¨çˆ¬è™«ï¼š**æŠ“å–ç³»ç»Ÿçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚æŠ“å–çš„æ˜¯ä¸€æ•´å¼ é¡µé¢æ•°æ®ã€‚</p></li><li><p>**èšç„¦çˆ¬è™«ï¼š**æ˜¯å»ºç«‹åœ¨é€šç”¨çˆ¬è™«çš„åŸºç¡€ä¹‹ä¸Šã€‚æŠ“å–çš„æ˜¯é¡µé¢ä¸­ç‰¹å®šçš„å±€éƒ¨å†…å®¹ã€‚</p></li><li><p>**å¢é‡å¼çˆ¬è™«ï¼š**ç›‘æµ‹ç½‘ç«™ä¸­æ•°æ®æ›´æ–°çš„æƒ…å†µã€‚åªä¼šæŠ“å–ç½‘ç«™ä¸­æœ€æ–°æ›´æ–°å‡ºæ¥çš„æ•°æ®ã€‚</p></li></ul><p><strong>çˆ¬è™«çš„çŸ›ä¸ç›¾ï¼š</strong></p><ul><li><p>**åçˆ¬æœºåˆ¶ï¼š**é—¨æˆ·ç½‘ç«™ï¼Œå¯ä»¥é€šè¿‡åˆ¶å®šç›¸åº”çš„ç­–ç•¥æˆ–è€…æŠ€æœ¯æ‰‹æ®µï¼Œé˜²æ­¢çˆ¬è™«ç¨‹åºè¿›è¡Œç½‘ç«™æ•°æ®çš„çˆ¬å–ã€‚</p></li><li><p>**ååçˆ¬ç­–ç•¥ï¼š**çˆ¬è™«ç¨‹åºï¼Œå¯ä»¥é€šè¿‡åˆ¶å®šç›¸å…³çš„ç­–ç•¥æˆ–è€…æŠ€æœ¯æ‰‹æ®µï¼Œç ´è§£é—¨æˆ·ç½‘ç«™ä¸­å…·å¤‡çš„åçˆ¬æœºåˆ¶ï¼Œä»è€Œå¯ä»¥è·å–é—¨æˆ·ç½‘ç«™ä¸­ç›¸å…³çš„æ•°æ®ã€‚</p></li></ul><p>**robots.txtåè®®ï¼š**å›å­åè®®ã€‚è§„å®šäº†ç½‘ç«™ä¸­é‚£äº›æ•°æ®å¯ä»¥è¢«çˆ¬è™«çˆ¬å–ï¼Œé‚£äº›æ•°æ®ä¸å…è®¸è¢«çˆ¬å–ã€‚</p><p>ä¾‹å¦‚ï¼š<a href="https://www.tabao.com/robots.txt">www.tabao.com/robots.txt</a></p><h2 id="4-http-httpsåè®®">4. http&amp;httpsåè®®</h2><h3 id="ï¼ˆ1ï¼‰httpåè®®">ï¼ˆ1ï¼‰httpåè®®</h3><p>**æ¦‚å¿µï¼š**å°±æ˜¯æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„ä¸€ç§å½¢å¼ã€‚</p><p><strong>å¸¸ç”¨è¯·æ±‚å¤´ä¿¡æ¯ï¼š</strong></p><ul><li>**User-Agentï¼š**è¯·æ±‚è½½ä½“çš„èº«ä»½æ ‡è¯†</li><li>**Connectionï¼š**è¯·æ±‚å®Œæ¯•åï¼Œæ˜¯æ–­å¼€è¿æ¥è¿˜æ˜¯ä¿æŒè¿æ¥</li></ul><p><strong>å¸¸ç”¨å“åº”å¤´ä¿¡æ¯ï¼š</strong></p><ul><li>**Content-Typeï¼š**æœåŠ¡å™¨å“åº”å›å®¢æˆ·ç«¯çš„æ•°æ®ç±»å‹</li></ul><h3 id="ï¼ˆ2ï¼‰httpsåè®®">ï¼ˆ2ï¼‰httpsåè®®</h3><p>**æ¦‚å¿µï¼š**å®‰å…¨çš„è¶…æ–‡æœ¬ä¼ è¾“åè®®</p><h3 id="ï¼ˆ3ï¼‰åŠ å¯†æ–¹å¼">ï¼ˆ3ï¼‰åŠ å¯†æ–¹å¼</h3><ul><li><p><strong>å¯¹ç§°ç§˜é’¥åŠ å¯†</strong></p><p><img src="../PythonProjects/Typora_image/image-20210224142616421.png" alt="image-20210224142616421"></p></li><li><p><strong>éå¯¹ç§°ç§˜é’¥åŠ å¯†</strong></p><p>å­˜åœ¨ç¼ºç‚¹ï¼šç¬¬ä¸€ä¸ªæ˜¯å¦‚ä½•ä¿è¯æ¥æ”¶ç«¯å‘å‘é€ç«¯å‘å‡ºå…¬å¼€ç§˜é’¥çš„æ—¶å€™ï¼Œå‘é€ç«¯ç¡®ä¿æ”¶åˆ°çš„æ˜¯é¢„å…ˆè¦å‘é€çš„ï¼Œè€Œä¸ä¼šè¢«æŒŸæŒï¼Œåªè¦æ˜¯å‘é€ç§˜é’¥ï¼Œå°±æœ‰å¯èƒ½æœ‰è¢«æŒŸæŒçš„é£é™©ï¼›ç¬¬äºŒä¸ªæ˜¯éå¯¹ç§°ç§˜é’¥åŠ å¯†æ–¹å¼æ•ˆç‡æ¯”è¾ƒä½ï¼Œå¤„ç†èµ·æ¥æ›´ä¸ºå¤æ‚ï¼Œé€šä¿¡è¿‡ç¨‹ä¸­ä½¿ç”¨å°±æœ‰ä¸€å®šçš„æ•ˆç‡é—®é¢˜è€Œå½±å“é€šä¿¡é€Ÿåº¦ã€‚</p><p><img src="../PythonProjects/Typora_image/image-20210224142728145.png" alt="image-20210224142728145"></p></li><li><p><strong>è¯ä¹¦ç§˜é’¥åŠ å¯†ï¼š</strong></p><ul><li>æœåŠ¡å™¨çš„å¼€å‘è€…æºå¸¦å…¬å¼€å¯†é’¥ï¼Œå‘æ•°å­—è¯ä¹¦è®¤è¯æœºæ„æå‡ºå…¬å¼€å¯†é’¥çš„ç”³è¯·ï¼Œæ•°å­—è¯ä¹¦è®¤è¯æœºæ„åœ¨è®¤æ¸…ç”³è¯·è€…çš„èº«ä»½å®¡æ ¸é€šè¿‡ä»¥åï¼Œä¼šå¯¹å¼€å‘è€…ç”³è¯·çš„å…¬å¼€å¯†é’¥åšæ•°å­—ç­¾åï¼Œç„¶ååˆ†é…è¿™ä¸ªå·²ç­¾åçš„å…¬å¼€å¯†é’¥ï¼Œå¹¶å°†å¯†é’¥æ”¾åœ¨è¯ä¹¦é‡Œé¢ï¼Œç»‘å®šåœ¨ä¸€èµ·ï¼›</li><li>æœåŠ¡å™¨å°†è¿™ä»½æ•°å­—è¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå› ä¸ºå®¢æˆ·ç«¯ä¹Ÿè®¤å¯è¯ä¹¦æœºæ„ï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡æ•°å­—è¯ä¹¦ä¸­çš„æ•°å­—ç­¾åæ¥éªŒè¯å…¬é’¥çš„çœŸä¼ªï¼Œæ¥ç¡®ä¿æœåŠ¡å™¨ä¼ è¿‡æ¥çš„å…¬å¼€å¯†é’¥æ˜¯çœŸå®çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¯ä¹¦çš„æ•°å­—ç­¾åæ˜¯å¾ˆéš¾è¢«ä¼ªé€ çš„ï¼Œè¿™å–å†³äºè®¤è¯æœºæ„çš„å…¬ä¿¡åŠ›ã€‚ä¸€æ—¦ç¡®è®¤ä¿¡æ¯æ— è¯¯ä¹‹åï¼Œå®¢æˆ·ç«¯å°±ä¼šé€šè¿‡å…¬é’¥å¯¹æŠ¥æ–‡è¿›è¡ŒåŠ å¯†å‘é€ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°ä»¥åç”¨è‡ªå·±çš„ç§é’¥è¿›è¡Œè§£å¯†ã€‚</li></ul><p><img src="../PythonProjects/Typora_image/image-20210224143442798.png" alt="image-20210224143442798"></p></li></ul><hr><h1>äºŒã€requestsæ¨¡å—åŸºç¡€</h1><h2 id="1-requestsç¬¬ä¸€è¡€">1. requestsç¬¬ä¸€è¡€</h2><p>**requestsæ¨¡å—ï¼š**Pythonä¸­åŸç”Ÿçš„ä¸€æ¬¾åŸºäºç½‘ç»œè¯·æ±‚çš„æ¨¡å—ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œç®€å•ä¾¿æ·ï¼Œæ•ˆç‡æé«˜ã€‚</p><p>**ä½œç”¨ï¼š**æ¨¡æ‹Ÿæµè§ˆå™¨å‘è¯·æ±‚ã€‚</p><p><strong>å¦‚ä½•ä½¿ç”¨ï¼šï¼ˆrequestsæ¨¡å—çš„ç¼–ç æµç¨‹ï¼‰</strong></p><ul><li>æŒ‡å®š url</li><li>å‘èµ·è¯·æ±‚</li><li>è·å–å“åº”æ•°æ®</li><li>æŒä¹…åŒ–å­˜å‚¨</li></ul><p><strong>ç¯å¢ƒçš„å®‰è£…ï¼š</strong><code>pip install requests</code></p><p><strong>å®æˆ˜ç¼–ç ï¼š</strong></p><ul><li>éœ€æ±‚ï¼šçˆ¬å–æœç‹—é¦–é¡µçš„æ•°æ®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment">#step1 æŒ‡å®šurl</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.sogou.com/&#x27;</span></span><br><span class="line">    <span class="comment">#step2 å‘èµ·è¯·æ±‚</span></span><br><span class="line">    <span class="comment">#getæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå“åº”å¯¹è±¡</span></span><br><span class="line">    response = requests.get(url = url)</span><br><span class="line">    <span class="comment">#step3 è·å–å“åº”æ•°æ®ï¼Œtextè¿”å›çš„æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®</span></span><br><span class="line">    page_text = response.text</span><br><span class="line">    print(page_text)</span><br><span class="line">    <span class="comment">#step4 æŒä¹…åŒ–å­˜å‚¨</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">&#x27;./sogou.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding = <span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(page_text)</span><br><span class="line">    print(<span class="string">&#x27;çˆ¬å–æ•°æ®ç»“æŸï¼&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="2-requestså·©å›ºæ·±å…¥æ¡ˆä¾‹ä»‹ç»">2. requestså·©å›ºæ·±å…¥æ¡ˆä¾‹ä»‹ç»</h2><h3 id="ï¼ˆ1ï¼‰ç®€æ˜“ç½‘é¡µé‡‡é›†å™¨">ï¼ˆ1ï¼‰ç®€æ˜“ç½‘é¡µé‡‡é›†å™¨</h3><ul><li>UAæ£€æµ‹</li><li>UAä¼ªè£…</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#UAï¼šUser-Agentè¯·æ±‚è½½ä½“çš„èº«ä»½æ ‡è¯†</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;UAæ£€æµ‹ï¼šé—¨æˆ·ç½‘ç«™çš„æœåŠ¡å™¨ä¼šç›‘æµ‹å¯¹åº”è¯·æ±‚çš„è½½ä½“èº«ä»½æ ‡è¯†ï¼Œ</span></span><br><span class="line"><span class="string">å¦‚æœæ£€æµ‹åˆ°è¯·æ±‚è½½ä½“èº«ä»½æ ‡è¯†æ˜¯æŸä¸€æ¬¾æµè§ˆå™¨,è¯´æ˜è¯¥è¯·æ±‚æ—¶ä¸€ä¸ªæ­£å¸¸çš„è¯·æ±‚ï¼›</span></span><br><span class="line"><span class="string">ä½†æ˜¯ï¼Œå¦‚æœæ£€æµ‹åˆ°è¯·æ±‚çš„è½½ä½“èº«ä»½ä¸æ˜¯åŸºäºæŸä¸€æ¬¾æµè§ˆå™¨çš„ï¼Œåˆ™è¡¨ç¤ºè¯¥è¯·æ±‚ä¸ºä¸æ­£å¸¸è¯·æ±‚ï¼ˆçˆ¬è™«ï¼‰,</span></span><br><span class="line"><span class="string">åˆ™æœåŠ¡å™¨å¾ˆæœ‰å¯èƒ½æ‹’ç»è¯¥æ¬¡è¯·æ±‚&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#UAä¼ªè£…ï¼šè®©çˆ¬è™«å¯¹åº”çš„è¯·æ±‚è½½ä½“èº«ä»½æ ‡è¯†ä¼ªè£…æˆæŸä¸€æ¬¾æµè§ˆå™¨ï¼Œèº²è¿‡UAæ£€æµ‹</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment">#UAä¼ªè£…ï¼šå°†å¯¹åº”çš„User-Agentå°è£…åˆ°ä¸€ä¸ªå­—å…¸ä¸­</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">#step1 æŒ‡å®šurl query</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.sogou.com/web&#x27;</span></span><br><span class="line">    <span class="comment">#å¤„ç†urlæºå¸¦çš„å‚æ•° å°è£…åˆ°å­—å…¸ä¸­</span></span><br><span class="line">    kw = input(<span class="string">&#x27;Enter a word:&#x27;</span>)</span><br><span class="line">    param =&#123;</span><br><span class="line">        <span class="string">&#x27;query&#x27;</span>:kw</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">#step2 å¯¹æŒ‡å®šçš„urlå‘èµ·è¯·æ±‚ï¼Œå¯¹åº”çš„urlæ˜¯æºå¸¦å‚æ•°çš„ï¼Œå¹¶ä¸”å¤„ç†è¿‡ç¨‹ä¸­å¤„ç†äº†å‚æ•°</span></span><br><span class="line">    response = requests.get(url = url,params = param,headers = headers)</span><br><span class="line">    <span class="comment">#step3</span></span><br><span class="line">    page_text = response.text</span><br><span class="line">    <span class="comment">#step4</span></span><br><span class="line">    fileName = kw + <span class="string">&#x27;.html&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> open(fileName,<span class="string">&#x27;w&#x27;</span>,encoding =<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(page_text)</span><br><span class="line">    print(fileName,<span class="string">&#x27;ä¿å­˜æˆåŠŸï¼ï¼&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ2ï¼‰ç ´è§£ç™¾åº¦ç¿»è¯‘">ï¼ˆ2ï¼‰ç ´è§£ç™¾åº¦ç¿»è¯‘</h3><ul><li>postè¯·æ±‚ï¼ˆæºå¸¦äº†å‚æ•°ï¼‰</li><li>å“åº”æ•°æ®æ˜¯ä¸€ç»„jsonæ•°æ®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment">#step1 æŒ‡å®šURL</span></span><br><span class="line">    post_url = <span class="string">&#x27;https://fanyi.baidu.com/sug&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#step2 è¿›è¡ŒUAä¼ªè£…</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#step3 postè¯·æ±‚å‚æ•°å¤„ç†ï¼ˆåŒgetè¯·æ±‚ç±»ä¼¼ï¼‰</span></span><br><span class="line">    word = input(<span class="string">&#x27;Enter a word:\n&#x27;</span>)</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&#x27;kw&#x27;</span>:word</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#step4 è¯·æ±‚å‘é€</span></span><br><span class="line">    response = requests.post(url = post_url,data = data,headers = headers)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#step5 è·å–å“åº”æ•°æ®:json()æ–¹æ³•è¿”å›çš„æ˜¯obj  (å¦‚æœç¡®è®¤å“åº”æ•°æ®æ˜¯jsonç±»å‹--&gt;é€šè¿‡Content-Typeåˆ†è¾¨ï¼Œæ‰å¯ä»¥ç›´æ¥ç”¨jsonæ–¹æ³•)</span></span><br><span class="line">    dict_obj = response.json()</span><br><span class="line">    print(dict_obj)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#step6 æŒä¹…åŒ–å­˜å‚¨</span></span><br><span class="line">    fileName = word + <span class="string">&#x27;.json&#x27;</span></span><br><span class="line">    fp = open(fileName,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    json.dump(dict_obj,fp = fp,ensure_ascii = <span class="literal">False</span>)</span><br><span class="line">    </span><br><span class="line">    print(<span class="string">&#x27;Over!&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ3ï¼‰è±†ç“£ç”µå½±">ï¼ˆ3ï¼‰è±†ç“£ç”µå½±</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    url = <span class="string">&#x27;https://movie.douban.com/j/chart/top_list&#x27;</span></span><br><span class="line">    param = &#123;</span><br><span class="line">        <span class="string">&#x27;type&#x27;</span>:<span class="string">&#x27;24&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;interval_id&#x27;</span>:<span class="string">&#x27;100:90&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;action&#x27;</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;start&#x27;</span>:<span class="string">&#x27;0&#x27;</span>,<span class="comment">#ä»åº“ä¸­çš„ç¬¬å‡ éƒ¨ç”µå½±å»å–</span></span><br><span class="line">        <span class="string">&#x27;limit&#x27;</span>:<span class="string">&#x27;20&#x27;</span><span class="comment">#ä¸€æ¬¡å–å‡ºçš„ä¸ªæ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">    headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.get(url = url,params = param,headers = headers)</span><br><span class="line">    list_data = response.json()</span><br><span class="line">    fp = open(<span class="string">&#x27;./douban.json&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding = <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    json.dump(list_data,fp = fp,ensure_ascii = <span class="literal">False</span>)</span><br><span class="line">    print(<span class="string">&#x27;Over!&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="3-ä½œä¸šâ€”è‚¯å¾·åŸºé¤å…æŸ¥è¯¢">3. ä½œä¸šâ€”è‚¯å¾·åŸºé¤å…æŸ¥è¯¢</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    post_url = <span class="string">&#x27;https://www.kfc.com.cn/kfccda/ashx/GetStoreList.ashx?op=keyword&#x27;</span></span><br><span class="line">    keyword = input(<span class="string">&#x27;è¯·è¾“å…¥è¦æŸ¥è¯¢çš„åŸå¸‚ï¼š&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    data =&#123;</span><br><span class="line">        <span class="string">&#x27;cname&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;pid&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;keyword&#x27;</span>: keyword,</span><br><span class="line">        <span class="string">&#x27;pageindex&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;pageSize&#x27;</span>: <span class="string">&#x27;10&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.post(url = post_url, data = data, headers = headers)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŒä¹…åŒ–å­˜å‚¨</span></span><br><span class="line">    <span class="comment"># page_text = response.text</span></span><br><span class="line">    <span class="comment"># fileName = keyword + &#x27;.html&#x27;</span></span><br><span class="line">    <span class="comment"># with open(fileName, &#x27;w&#x27;, encoding= &#x27;utf-8&#x27;) as fp:</span></span><br><span class="line">    <span class="comment">#     fp.write(page_text)</span></span><br><span class="line">    <span class="comment"># print(fileName, &#x27;Over!&#x27;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç›´æ¥æ‰“å°å‡ºæ¥</span></span><br><span class="line">    page = response.json()</span><br><span class="line">    <span class="keyword">for</span> dict <span class="keyword">in</span> page[<span class="string">&#x27;Table1&#x27;</span>]:</span><br><span class="line">        StoreName = dict[<span class="string">&#x27;storeName&#x27;</span>]</span><br><span class="line">        address = dict[<span class="string">&#x27;addressDetail&#x27;</span>]</span><br><span class="line">        print(<span class="string">&#x27;StoreName:&#x27;</span> + StoreName, <span class="string">&#x27;address:&#x27;</span> + address + <span class="string">&#x27;\n&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="4-ç»¼åˆç»ƒä¹ â€”è¯ç›‘æ€»å±€">4. ç»¼åˆç»ƒä¹ â€”è¯ç›‘æ€»å±€</h2><ul><li><p>çˆ¬å–å›½å®¶è¯å“ç›‘ç£ç®¡ç†æ€»å±€ä¸­<strong>åŸºäºä¸­åäººæ°‘å…±å’Œå›½åŒ–å¦†å“ç”Ÿäº§è®¸å¯è¯ç›¸å…³æ•°æ®</strong>ï¼ˆ<a href="http://scxk.nmpa.gov.cn:81/xk/%EF%BC%89">http://scxk.nmpa.gov.cn:81/xk/ï¼‰</a></p></li><li><p>**åŠ¨æ€åŠ è½½æ•°æ®ï¼š**é¦–é¡µä¸­å¯¹åº”çš„ä¼ä¸šä¿¡æ¯æ˜¯é€šè¿‡ <code>ajax</code> åŠ¨æ€è¯·æ±‚åˆ°çš„</p></li><li><p>é€šè¿‡å¯¹è¯¦æƒ…é¡µurlçš„è§‚å¯Ÿå‘ç°ï¼š</p><ul><li>urlçš„åŸŸåéƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæœ‰æºå¸¦çš„å‚æ•°ï¼ˆidï¼‰ä¸ä¸€æ ·</li><li>idå€¼å¯ä»¥ä»é¦–é¡µå¯¹åº”çš„ <code>ajax</code> è¯·æ±‚åˆ°çš„ <code>json</code> ä¸²ä¸­è·å–</li><li>åŸŸåå’Œidå€¼æ‹¼æ¥å‡ºä¸€ä¸ªå®Œæ•´çš„ä¼ä¸šå¯¹åº”çš„è¯¦æƒ…é¡µçš„url</li></ul></li><li><p><strong>è¯¦æƒ…é¡µçš„ä¼ä¸šè¯¦æƒ…æ•°æ®ä¹Ÿæ˜¯åŠ¨æ€åŠ è½½å‡ºæ¥çš„ï¼ï¼ï¼</strong></p><ul><li>è§‚å¯Ÿåå‘ç°ï¼Œæ‰€æœ‰ <code>post</code> è¯·æ±‚çš„urléƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæœ‰å‚æ•°idå€¼ä¸åŒ</li><li>å¦‚æœæˆ‘ä»¬å¯ä»¥æ‰¹é‡è·å–å¤šå®¶ä¼ä¸šçš„idåï¼Œå°±å¯ä»¥å°±idå’Œurlå½¢æˆä¸€ä¸ªå®Œæ•´çš„è¯¦æƒ…é¡µå¯¹åº”è¯¦æƒ…æ•°æ®çš„ <code>ajax</code> è¯·æ±‚çš„url</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    id_list = []  <span class="comment"># å­˜å‚¨ä¼ä¸šçš„id</span></span><br><span class="line">    all_data_list = []  <span class="comment"># å­˜å‚¨ä¼ä¸šæ‰€æœ‰çš„è¯¦æƒ…æ•°æ®</span></span><br><span class="line">    <span class="comment"># æ‰¹é‡è·å–ä¸åŒä¼ä¸šçš„idå€¼</span></span><br><span class="line">    url = <span class="string">&#x27;http://scxk.nmpa.gov.cn:81/xk/itownet/portalAction.do?method=getXkzsList&#x27;</span></span><br><span class="line">    <span class="comment"># å‚æ•°çš„å°è£…</span></span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">        page = str(page)</span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&#x27;on&#x27;</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;page&#x27;</span>: page,</span><br><span class="line">            <span class="string">&#x27;pageSize&#x27;</span>: <span class="string">&#x27;15&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;productName&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;conditionType&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;applyname&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;applysn&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    json_ids = requests.post(url=url, headers=headers, data=data).json()</span><br><span class="line">    <span class="comment"># ä» json_ids å­—å…¸ä¸­æ‹¿åˆ° list å¯¹åº”çš„ value å€¼ï¼Œå¯¹ value å€¼åˆ—è¡¨è¿›è¡Œéå†</span></span><br><span class="line">    <span class="keyword">for</span> dic <span class="keyword">in</span> json_ids[<span class="string">&#x27;list&#x27;</span>]:</span><br><span class="line">        id_list.append(dic[<span class="string">&#x27;ID&#x27;</span>])</span><br><span class="line">    <span class="comment"># print(id_list,&#x27;\n&#x27;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–ä¼ä¸šè¯¦æƒ…æ•°æ®,ä¹Ÿæ˜¯åŠ¨æ€åŠ è½½å‡ºæ¥çš„ï¼Œæºå¸¦ä¸€ä¸ªå‚æ•° idï¼Œå…¶å€¼å¯ä»¥é€šè¿‡å‰ä¸€æ­¥ç”Ÿæˆçš„ idåˆ—è¡¨æå–</span></span><br><span class="line">    post_url = <span class="string">&#x27;http://scxk.nmpa.gov.cn:81/xk/itownet/portalAction.do?method=getXkzsById&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> id <span class="keyword">in</span> id_list:</span><br><span class="line">        data = &#123;</span><br><span class="line">        <span class="string">&#x27;id&#x27;</span>: id</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        json_detail = requests.post(url=post_url, data=data, headers=headers).json()</span><br><span class="line">        <span class="comment">#print(json_detail, &#x27;-------------END----------&#x27;)</span></span><br><span class="line">        all_data_list.append(json_detail )</span><br><span class="line">        all_data_list.append(<span class="string">&#x27;---------------------------------------------------------&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŒä¹…åŒ–å­˜å‚¨all_data_list</span></span><br><span class="line">    fp = open(<span class="string">&#x27;./allData.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    json.dump(all_data_list, fp=fp, ensure_ascii=<span class="literal">False</span>, indent= <span class="literal">True</span>)  <span class="comment"># indent è‡ªåŠ¨æ’ç‰ˆ</span></span><br><span class="line">    print(<span class="string">&#x27;Over!&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><h1>ä¸‰ã€æ•°æ®è§£æ</h1><h2 id="1-æ•°æ®è§£ææ¦‚è¿°">1. æ•°æ®è§£ææ¦‚è¿°</h2><ul><li>**èšç„¦çˆ¬è™«ï¼š**çˆ¬å–é¡µé¢ä¸­æŒ‡å®šçš„é¡µé¢å†…å®¹ã€‚<ul><li>ç¼–ç æµç¨‹ï¼š1. æŒ‡å®šURL â†’ 2. å‘èµ·è¯·æ±‚ â†’ 3. è·å–å“åº”æ•°æ® â†’ 4. æ•°æ®è§£æ â†’ 5. æŒä¹…åŒ–å­˜å‚¨</li></ul></li><li><strong>æ•°æ®è§£æåˆ†ç±»ï¼š</strong><ul><li>æ­£åˆ™è¡¨è¾¾å¼</li><li><code>bs4</code> è§£æ</li><li><code>xpath</code> è§£æï¼ˆé‡ç‚¹ï¼‰</li></ul></li><li>**æ•°æ®è§£æåŸç†æ¦‚è¿°ï¼š**è§£æçš„å±€éƒ¨çš„æ–‡æœ¬å†…å®¹éƒ½ä¼šåœ¨æ ‡ç­¾å¯¹åº”çš„å±æ€§ä¸­è¿›è¡Œå­˜å‚¨ã€‚<ul><li>è¿›è¡ŒæŒ‡å®šæ ‡ç­¾çš„å®šä½</li><li>æ ‡ç­¾æˆ–è€…æ ‡ç­¾å¯¹åº”çš„å±æ€§ä¸­å­˜å‚¨çš„æ•°æ®å€¼è¿›è¡Œæå–ï¼ˆè§£æï¼‰</li></ul></li></ul><h2 id="2-å›¾ç‰‡æ•°æ®çˆ¬å–â€”æ­£åˆ™è¡¨è¾¾å¼">2. å›¾ç‰‡æ•°æ®çˆ¬å–â€”æ­£åˆ™è¡¨è¾¾å¼</h2><table><thead><tr><th style="text-align:center"><strong>æ“ä½œç¬¦</strong></th><th style="text-align:center"><strong>è¯´æ˜</strong></th><th style="text-align:center"><strong>å®ä¾‹</strong></th></tr></thead><tbody><tr><td style="text-align:center"><strong>.</strong></td><td style="text-align:center">è¡¨ç¤ºä»»æ„å•ä¸ªå­—ç¬¦</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><strong>[ ]</strong></td><td style="text-align:center">å­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºå–å€¼èŒƒå›´</td><td style="text-align:center">[abc]è¡¨ç¤ºa,b,c,[a-z]è¡¨ç¤ºa-zçš„</td></tr><tr><td style="text-align:center"><strong>[^ ]</strong></td><td style="text-align:center">éå­—ç¬¦é›†ï¼Œå¯¹å•ä¸ªå­—ç¬¦ç»™å‡ºæ’é™¤èŒƒå›´</td><td style="text-align:center">[^abc]è¡¨ç¤ºéaæˆ–bæˆ–cçš„å•ä¸ªå­—ç¬¦</td></tr><tr><td style="text-align:center">*****</td><td style="text-align:center">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–æ— é™æ¬¡æ‰©å±•</td><td style="text-align:center">abc* è¡¨ç¤ºabã€abcã€abccã€abcccç­‰</td></tr><tr><td style="text-align:center"><strong>+</strong></td><td style="text-align:center">å‰ä¸€ä¸ªå­—ç¬¦1æ¬¡æˆ–æ— é™æ¬¡æ‰©å±•</td><td style="text-align:center">abc+ è¡¨ç¤ºabcã€abccã€abcccç­‰</td></tr><tr><td style="text-align:center"><strong>?</strong></td><td style="text-align:center">å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡æ‰©å±•</td><td style="text-align:center">abcï¼Ÿ è¡¨ç¤ºabã€abc</td></tr><tr><td style="text-align:center"><strong>|</strong></td><td style="text-align:center">å·¦å³è¡¨è¾¾å¼ä»»æ„ä¸€ä¸ª</td><td style="text-align:center">abc|def è¡¨ç¤ºabcã€def</td></tr></tbody></table><table><thead><tr><th style="text-align:center"><strong>{m}</strong></th><th style="text-align:center">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mæ¬¡</th><th style="text-align:center">ab{2}cè¡¨ç¤ºabbc</th></tr></thead><tbody><tr><td style="text-align:center"><strong>{m,n}</strong></td><td style="text-align:center">æ‰©å±•å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡ï¼ˆå«nï¼‰</td><td style="text-align:center">ab{1ï¼Œ2}cè¡¨ç¤ºabcã€abbc</td></tr><tr><td style="text-align:center"><strong>^</strong></td><td style="text-align:center">åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´</td><td style="text-align:center">^abcè¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´</td></tr><tr><td style="text-align:center"><strong>$</strong></td><td style="text-align:center">åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾</td><td style="text-align:center">abc$è¡¨ç¤ºabcä¸”åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾</td></tr><tr><td style="text-align:center"><strong>( )</strong></td><td style="text-align:center">åˆ†ç»„æ ‡è®°ï¼Œå†…éƒ¨åªèƒ½ä½¿ç”¨|æ“ä½œç¬¦</td><td style="text-align:center">(abc)è¡¨ç¤ºabcï¼Œ(abc|def)è¡¨ç¤ºabcã€def</td></tr><tr><td style="text-align:center"><strong>\d</strong></td><td style="text-align:center">æ•°å­—ï¼Œç­‰ä»·äº[0-9]</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><strong>\w</strong></td><td style="text-align:center">å•è¯å­—ç¬¦ï¼Œç­‰ä»·äº[A-Za-z0-9_]</td><td style="text-align:center"></td></tr></tbody></table><table><thead><tr><th style="text-align:center">å‡½æ•°</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center"><strong>re.search()</strong></td><td style="text-align:center">åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œ<strong>è¿”å›matchå¯¹è±¡</strong></td></tr><tr><td style="text-align:center"><strong>re.match()</strong></td><td style="text-align:center">ä»å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®èµ·åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œ<strong>è¿”å›matchå¯¹è±¡</strong></td></tr><tr><td style="text-align:center"><strong>re.findall()</strong></td><td style="text-align:center">æœæœå­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨ç±»å‹è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­ä¸²</td></tr><tr><td style="text-align:center"><strong>re.split()</strong></td><td style="text-align:center">å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»“æœè¿›è¡Œåˆ†å‰²ï¼Œ<strong>è¿”å›åˆ—è¡¨ç±»å‹</strong></td></tr><tr><td style="text-align:center"><strong>re.finditer()</strong></td><td style="text-align:center">æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœçš„è¿­ä»£ç±»å‹ï¼Œ<strong>æ¯ä¸ªè¿­ä»£å…ƒç´ æ˜¯matchå¯¹è±¡</strong></td></tr><tr><td style="text-align:center"><strong>re.sub()</strong></td><td style="text-align:center">åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²</td></tr></tbody></table><table><thead><tr><th style="text-align:center">ä¿®é¥°ç¬¦</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center">re.I</td><td style="text-align:center">ä½¿åŒ¹é…å¯¹å¤§å°å†™ä¸æ•æ„Ÿ</td></tr><tr><td style="text-align:center">re.L</td><td style="text-align:center">åšæœ¬åœ°åŒ–è¯†åˆ«åŒ¹é…</td></tr><tr><td style="text-align:center">re.M</td><td style="text-align:center">å¤šè¡ŒåŒ¹é…ï¼Œå½±å“^å’Œ$</td></tr><tr><td style="text-align:center">re.S</td><td style="text-align:center">ä½¿.åŒ¹é…åŒ…æ‹¬æ¢è¡Œåœ¨å†…çš„æ‰€æœ‰å­—ç¬¦</td></tr><tr><td style="text-align:center">re.U</td><td style="text-align:center">æ ¹æ®Unicodeå­—ç¬¦é›†è§£æå­—ç¬¦ï¼Œè¿™ä¸ªæ ‡å¿—å½±å“\w,\W,\b,\B</td></tr><tr><td style="text-align:center">re.X</td><td style="text-align:center">è¯¥æ ‡å¿—é€šè¿‡ç»™äºˆä½ è·Ÿçµæ´»çš„æ ¼å¼ä»¥ä¾¿ä½ å°†æ­£åˆ™è¡¨è¾¾å¼å†™å¾—æ›´æ˜“äºç†è§£</td></tr></tbody></table><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼</span><br><span class="line"></span><br><span class="line">å•å­—ç¬¦ï¼š</span><br><span class="line"><span class="code">.:é™¤æ¢è¡Œä»¥å¤–æ‰€æœ‰å­—ç¬¦</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">[ ]: [aoe]  [a-w] åŒ¹é…é›†åˆä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\d:æ•°å­— [0-9]</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\D:éæ•°å­—</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\w:æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ã€ä¸­æ–‡</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\W:é\w</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\s :æ‰€æœ‰çš„ç©ºç™½å­—ç¬¦åŒ…ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ï¼Œç­‰ä»·äº[ \f \n \r \t \v ]</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\S:éç©ºç™½</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">æ•°é‡ä¿®é¥°ï¼š</span></span><br><span class="line"><span class="code"> \*:ä»»æ„å¤šæ¬¡&gt;=0</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\+:è‡³å°‘ä¸€æ¬¡&gt;=1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">?:å¯æœ‰å¯æ— 0æ¬¡æˆ–è€…1æ¬¡</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;m&#125;:å›ºå®šmæ¬¡hello&#123;3,&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;m,&#125;:è‡³å°‘mæ¬¡</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">&#123;m,n&#125;:m-næ¬¡</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">è¾¹ç•Œï¼š</span></span><br><span class="line"><span class="code">\$:ä»¥æŸæŸç»“å°¾</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">^:ä»¥æŸæŸå¼€å¤´</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">åˆ†ç»„ï¼š</span></span><br><span class="line"><span class="code">(ab)</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">è´ªå©ªæ¨¡å¼ï¼š.\*</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">éè´ªå©ªï¼ˆæƒ°æ€§ï¼‰æ¨¡å¼ï¼š.\*?</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">re.I:å¿½ç•¥å¤§å°å†™</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">re.M:å¤šè¡ŒåŒ¹é…</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">re.S:å•è¡ŒåŒ¹é…</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">re.sub:æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ›¿æ¢å†…å®¹ï¼Œå­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;æ­£åˆ™ç»ƒä¹ &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment">#æå–å‡ºpython</span></span><br><span class="line">key = <span class="string">&quot;javapythonc++php&quot;</span></span><br><span class="line">re.findall(<span class="string">&#x27;python&#x27;</span>, key)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#æå–å‡ºhello world</span></span><br><span class="line">key = <span class="string">&quot;&lt;html&gt;&lt;h1&gt;&lt;hello world&gt;&lt;h1&gt;&lt;/html&gt;&quot;</span></span><br><span class="line">re.findall(<span class="string">&#x27;&lt;h1&gt;(.*)&lt;h1&gt;&#x27;</span>, key)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#æå–170</span></span><br><span class="line">string = <span class="string">&#x27;æˆ‘å–œæ¬¢èº«é«˜ä¸º170çš„å¥³å­©â€™</span></span><br><span class="line"><span class="string">re.findall(&#x27;</span>\d+<span class="string">&#x27;, string)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#æå–å‡ºhttp://å’Œhttps://</span></span><br><span class="line"><span class="string">key = &#x27;</span>http://www.baidu.com <span class="keyword">and</span> https://boob.com<span class="string">&#x27;</span></span><br><span class="line">re.findall(&#x27;https?://&#x27;, key)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æå–å‡ºhello</span></span><br><span class="line">key = <span class="string">&#x27;lalala&lt;hTml&gt;&lt;hello&gt;&lt;/HtMl&gt;hahah&#x27;</span> <span class="comment">#è¾“å‡º&lt;hTml&gt;&lt;hello&gt;&lt;/HtMl&gt;</span></span><br><span class="line">re.findall(<span class="string">&#x27;&lt;[Hh][Tt][mM][lL]&gt;(.*)&lt;/[Hh][Tt][mM][lL]&gt;&#x27;</span>, key)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æå–å‡ºhit.</span></span><br><span class="line">key = <span class="string">&#x27;bobo@hit.edu.com&#x27;</span><span class="comment">#æƒ³è¦åŒ¹é…åˆ°hit</span></span><br><span class="line">re.findall(<span class="string">&#x27;h.*?\.&#x27;</span>, key)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åŒ¹é…saså’Œsaas</span></span><br><span class="line">key = <span class="string">&#x27;sasa and sas and saaas&#x27;</span></span><br><span class="line">re.findall(<span class="string">&#x27;sa&#123;1,2&#125;s&#x27;</span>, key)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment">#å¦‚ä½•çˆ¬å–å›¾ç‰‡</span></span><br><span class="line">    url = <span class="string">&#x27;https://pic.qiushibaike.com/system/pictures/12409/124098453/medium/YNPHJQC101MS31E1.jpg&#x27;</span></span><br><span class="line">    <span class="comment">#contentè¿”å›çš„æ˜¯äºŒè¿›åˆ¶å½¢å¼çš„å›¾ç‰‡æ•°æ®</span></span><br><span class="line">    <span class="comment">#text(å­—ç¬¦ä¸²)  content(äºŒè¿›åˆ¶)json(é˜Ÿå½¢)</span></span><br><span class="line">    img_data = requests.get(url = url).content</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">&#x27;./qiutu.jpg&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(img_data)</span><br></pre></td></tr></table></figure><h2 id="3-æ­£åˆ™è§£ææ¡ˆä¾‹">3. æ­£åˆ™è§£ææ¡ˆä¾‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€æ±‚ï¼šçˆ¬å–ç³—äº‹ç™¾ç§‘ä¸­ç³—å›¾æ¿å—ä¸‹æ‰€æœ‰çš„ç³—å›¾å›¾ç‰‡</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;&lt;div class=&quot;thumb&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;a href=&quot;/article/124098472&quot; target=&quot;_blank&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;img src=&quot;//pic.qiushibaike.com/system/pictures/12409/124098472/medium/HSN2WWN0TP1VUPNG.jpg&quot; alt=&quot;ç³—äº‹#124098472&quot; class=&quot;illustration&quot; width=&quot;100%&quot; height=&quot;auto&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;/a&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¿å­˜æ‰€æœ‰çš„å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;./qiutuLibs&#x27;</span>):</span><br><span class="line">        os.mkdir(<span class="string">&#x27;./qiutuLibs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    url = <span class="string">&#x27;https://www.qiushibaike.com/imgrank/ &#x27;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># ä½¿ç”¨é€šç”¨çˆ¬è™«å¯¹urlå¯¹åº”çš„ä¸€æ•´å¼ é¡µé¢è¿›è¡Œçˆ¬å–</span></span><br><span class="line">    page_text = requests.get(url=url, headers=headers).text</span><br><span class="line">    <span class="comment">#print(page_text)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#ä½¿ç”¨èšç„¦çˆ¬è™«å°†é¡µé¢ä¸­æ‰€æœ‰çš„ç³—å›¾è¿›è¡Œè§£ææå–</span></span><br><span class="line">    ex = <span class="string">&#x27;&lt;div class=&quot;thumb&quot;&gt;.*?&lt;img src=&quot;(.*?)&quot; alt=.*?&lt;/div&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line">    img_src_list = re.findall(ex, page_text, re.S)</span><br><span class="line">    print(img_src_list)</span><br><span class="line">    <span class="keyword">for</span> src <span class="keyword">in</span> img_src_list:</span><br><span class="line">        <span class="comment">#æ‹¼æ¥å‡ºå®Œæ•´çš„å›¾ç‰‡url</span></span><br><span class="line">        src = <span class="string">&#x27;https:&#x27;</span> + src</span><br><span class="line">        img_data = requests.get(url = src, headers = headers).content</span><br><span class="line">        <span class="comment">#ç”Ÿæˆå›¾ç‰‡åç§°</span></span><br><span class="line">        img_name = src.split(<span class="string">&#x27;/&#x27;</span>)[<span class="number">-1</span>]</span><br><span class="line">        imgPath = <span class="string">&#x27;./qiutuLibs/&#x27;</span> + img_name</span><br><span class="line">        <span class="keyword">with</span> open(imgPath, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            fp.write(img_data)</span><br><span class="line">        print(img_name, <span class="string">&#x27;ä¸‹è½½æˆåŠŸ!&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¹ä¸Šè¿°ä»£ç è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ï¼Œä½¿å¾—èƒ½å¤Ÿåˆ†é¡µçˆ¬å–å›¾ç‰‡</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¿å­˜æ‰€æœ‰çš„å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;./qiutuLibs&#x27;</span>):</span><br><span class="line">        os.mkdir(<span class="string">&#x27;./qiutuLibs&#x27;</span>)</span><br><span class="line">    <span class="comment"># è®¾ç½®ä¸€ä¸ªé€šç”¨çš„urlæ¨¡æ¿</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.qiushibaike.com/imgrank/page/%d/&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> pageNum <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">        <span class="comment"># å¯¹åº”é¡µç çš„ url</span></span><br><span class="line">        new_url = format(url % pageNum)</span><br><span class="line">        headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># ä½¿ç”¨é€šç”¨çˆ¬è™«å¯¹urlå¯¹åº”çš„ä¸€æ•´å¼ é¡µé¢è¿›è¡Œçˆ¬å–</span></span><br><span class="line">        page_text = requests.get(url=new_url, headers=headers).text</span><br><span class="line">        <span class="comment">#print(page_text)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#ä½¿ç”¨èšç„¦çˆ¬è™«å°†é¡µé¢ä¸­æ‰€æœ‰çš„ç³—å›¾è¿›è¡Œè§£ææå–</span></span><br><span class="line">        ex = <span class="string">&#x27;&lt;div class=&quot;thumb&quot;&gt;.*?&lt;img src=&quot;(.*?)&quot; alt=.*?&lt;/div&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line">        img_src_list = re.findall(ex, page_text, re.S)</span><br><span class="line">        print(img_src_list)</span><br><span class="line">        <span class="keyword">for</span> src <span class="keyword">in</span> img_src_list:</span><br><span class="line">            <span class="comment">#æ‹¼æ¥å‡ºå®Œæ•´çš„å›¾ç‰‡url</span></span><br><span class="line">            src = <span class="string">&#x27;https:&#x27;</span> + src</span><br><span class="line">            img_data = requests.get(url = src, headers = headers).content</span><br><span class="line">            <span class="comment">#ç”Ÿæˆå›¾ç‰‡åç§°</span></span><br><span class="line">            img_name = src.split(<span class="string">&#x27;/&#x27;</span>)[<span class="number">-1</span>]</span><br><span class="line">            imgPath = <span class="string">&#x27;./qiutuLibs/&#x27;</span> + img_name</span><br><span class="line">            <span class="keyword">with</span> open(imgPath, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                fp.write(img_data)</span><br><span class="line">            print(img_name, <span class="string">&#x27;ä¸‹è½½æˆåŠŸ!&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="4-bs4è§£ææ¦‚è¿°">4. bs4è§£ææ¦‚è¿°</h2><ul><li><p><strong>æ•°æ®è§£æçš„åŸç†ï¼š</strong></p><ul><li><ol><li>æ ‡ç­¾å®šä½</li><li>æå–æ ‡ç­¾ã€æ ‡ç­¾å±æ€§ä¸­å­˜å‚¨çš„æ•°æ®å€¼</li></ol></li></ul></li><li><p><strong>bs4æ•°æ®è§£æçš„åŸç†ï¼š</strong></p><ul><li><ol><li>å®ä¾‹åŒ–ä¸€ä¸ª<code>BeautifulSoup</code>å¯¹è±¡ï¼Œå¹¶ä¸”å°†é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­</li><li>é€šè¿‡è°ƒç”¨<code>BeautifulSoup</code>å¯¹è±¡ä¸­ç›¸å…³çš„å±æ€§æˆ–è€…æ–¹æ³•è¿›è¡Œæ ‡ç­¾å®šä½å’Œæ•°æ®æå–</li></ol></li></ul></li><li><p><strong>ç¯å¢ƒå®‰è£…ï¼š</strong><code>pip install bs4</code>         <code>pip  install  lxml</code></p></li></ul><h2 id="5-bs4-è§£æå…·ä½“è®²è§£">5. bs4 è§£æå…·ä½“è®²è§£</h2><ul><li><strong>å¦‚ä½•å®ä¾‹åŒ– BeautifulSoup å¯¹è±¡ï¼š</strong></li><li>å¯¼åŒ…ï¼Œ<code>from bs4 import BeautifulSoup</code><ul><li>å¯¹è±¡çš„å®ä¾‹åŒ–ï¼š<ul><li>ï¼ˆ1ï¼‰å°†æœ¬åœ°çš„ html æ–‡æ¡£ä¸­çš„æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­ï¼›</li><li>ï¼ˆ2ï¼‰å°†äº’è”ç½‘ä¸Šè·å–çš„é¡µé¢æºç åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­ã€‚</li></ul></li><li>æä¾›çš„ç”¨äºæ•°æ®è§£æçš„æ–¹æ³•å’Œå±æ€§ï¼š<ul><li><code>soup.tagName</code>ï¼šè¿”å›çš„æ˜¯æ–‡æ¡£ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ <code>tagName</code> æ ‡ç­¾ï¼›</li><li><code>soup.find(tagName)</code>ï¼šå¯ä»¥ç­‰åŒäº<code>soup.tagName</code>ï¼›ä¹Ÿå¯ä»¥è¿›è¡Œå±æ€§å®šä½ï¼›</li><li><code>soup.find_all( )</code>ï¼šè¿”å›ç¬¦åˆè¦æ±‚çš„æ‰€æœ‰æ ‡ç­¾ï¼›</li><li><code>select('æŸç§é€‰æ‹©å™¨(id,class,æ ‡ç­¾...é€‰æ‹©å™¨)')</code>è¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼›å±‚çº§é€‰æ‹©å™¨</li></ul></li><li>è·å–æ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬æ•°æ®ï¼š<code>soup.a.text/string/get_text( )</code><ul><li><code>text/get_text( )</code>ï¼šå¯ä»¥è·å–æŸä¸€ä¸ªæ ‡ç­¾ä¸­æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹</li><li><code>string</code>ï¼šåªå¯ä»¥è·å–è¯¥æ ‡ç­¾ä¸‹é¢ç›´ç³»çš„æ–‡æœ¬å†…å®¹</li></ul></li><li><strong>è·å–æ ‡ç­¾ä¸­çš„å±æ€§å€¼ï¼š</strong><code>soup.a['href']</code></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>æµ‹è¯•bs4<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ç™¾é‡Œå®ˆçº¦<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;song&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ææ¸…ç…§<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ç‹å®‰çŸ³<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>è‹è½¼<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>æŸ³å®—å…ƒ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.song.com/&quot;</span> <span class="attr">title</span>=<span class="string">&quot;èµµåŒ¡èƒ¤&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>this is span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">å®‹æœæ˜¯æœ€å¼ºå¤§çš„ç‹æœï¼Œä¸æ˜¯å†›é˜Ÿçš„å¼ºå¤§ï¼Œè€Œæ˜¯ç»æµå¾ˆå¼ºå¤§ï¼Œå›½æ°‘éƒ½å¾ˆæœ‰é’±<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;du&quot;</span>&gt;</span>æ€»ä¸ºæµ®äº‘èƒ½è”½æ—¥,é•¿å®‰ä¸è§ä½¿äººæ„<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://www.baidu.com/meinv.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;tang&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> <span class="attr">title</span>=<span class="string">&quot;qing&quot;</span>&gt;</span>æ¸…æ˜æ—¶èŠ‚é›¨çº·çº·,è·¯ä¸Šè¡Œäººæ¬²æ–­é­‚,å€Ÿé—®é…’å®¶ä½•å¤„æœ‰,ç‰§ç«¥é¥æŒ‡æèŠ±æ‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.163.com&quot;</span> <span class="attr">title</span>=<span class="string">&quot;qin&quot;</span>&gt;</span>ç§¦æ—¶æ˜æœˆæ±‰æ—¶å…³,ä¸‡é‡Œé•¿å¾äººæœªè¿˜,ä½†ä½¿é¾™åŸé£å°†åœ¨,ä¸æ•™èƒ¡é©¬åº¦é˜´å±±<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.126.com&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;qi&quot;</span>&gt;</span>å²ç‹å®…é‡Œå¯»å¸¸è§,å´”ä¹å ‚å‰å‡ åº¦é—»,æ­£æ˜¯æ±Ÿå—å¥½é£æ™¯,è½èŠ±æ—¶èŠ‚åˆé€¢å›<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.sina.com&quot;</span> <span class="attr">class</span>=<span class="string">&quot;du&quot;</span>&gt;</span>æœç”«<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.dudu.com&quot;</span> <span class="attr">class</span>=<span class="string">&quot;du&quot;</span>&gt;</span>æœç‰§<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>æœå°æœˆ<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span>åº¦èœœæœˆ<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.haha.com&quot;</span> <span class="attr">id</span>=<span class="string">&quot;feng&quot;</span>&gt;</span>å‡¤å‡°å°ä¸Šå‡¤å‡°æ¸¸,å‡¤å»å°ç©ºæ±Ÿè‡ªæµ,å´å®«èŠ±è‰åŸ‹å¹½å¾„,æ™‹ä»£è¡£å† æˆå¤ä¸˜<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># å°†æœ¬åœ°çš„htmlæ–‡æ¡£ä¸­çš„æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­</span></span><br><span class="line">    fp = open(<span class="string">&#x27;./test.html&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    soup = BeautifulSoup(fp, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">    <span class="comment"># print(soup)</span></span><br><span class="line">    <span class="comment"># page_text = response.text</span></span><br><span class="line">    <span class="comment"># soup = BeautifulSoup(page_text,&#x27;lxml&#x27;)</span></span><br><span class="line">    print(soup.a)  <span class="comment"># soup.tagName è¿”å›çš„æ˜¯htmlä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„tagNameæ ‡ç­¾</span></span><br><span class="line">    print(soup.div)</span><br><span class="line"></span><br><span class="line">    print(soup.find(<span class="string">&#x27;div&#x27;</span>))  <span class="comment"># find(tagName) ç­‰åŒäº soup.div</span></span><br><span class="line">    print(soup.find(<span class="string">&#x27;div&#x27;</span>, class_=<span class="string">&#x27;song&#x27;</span>))  <span class="comment"># å±æ€§å®šä½</span></span><br><span class="line"></span><br><span class="line">    print(soup.find_all(<span class="string">&#x27;a&#x27;</span>))  <span class="comment"># è¿”å›ç¬¦åˆè¦æ±‚çš„æ‰€æœ‰æ ‡ç­¾ï¼ˆåˆ—è¡¨ï¼‰</span></span><br><span class="line"></span><br><span class="line">    print(soup.select(<span class="string">&#x27;.tang&#x27;</span>))  <span class="comment"># è¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line">    print(soup.select(<span class="string">&#x27;.tang &gt; ul &gt; li &gt; a&#x27;</span>)[<span class="number">0</span>])  <span class="comment"># å±‚çº§é€‰æ‹©å™¨   &gt; è¡¨ç¤ºä¸€ä¸ªå±‚çº§</span></span><br><span class="line">    print(soup.select(<span class="string">&#x27;.tang &gt; ul  a&#x27;</span>)[<span class="number">0</span>])  <span class="comment"># ç©ºæ ¼è¡¨ç¤ºå¤šä¸ªå±‚çº§</span></span><br><span class="line">    print(soup.select(<span class="string">&#x27;.tang &gt; ul  a&#x27;</span>)[<span class="number">0</span>].text)</span><br><span class="line">    print(soup.select(<span class="string">&#x27;.tang &gt; ul  a&#x27;</span>)[<span class="number">0</span>].get_text())</span><br><span class="line">    print(soup.select(<span class="string">&#x27;.tang &gt; ul  a&#x27;</span>)[<span class="number">0</span>].string)</span><br><span class="line">    print(soup.select(<span class="string">&#x27;.tang &gt; ul  a&#x27;</span>)[<span class="number">0</span>][<span class="string">&#x27;href&#x27;</span>])</span><br></pre></td></tr></table></figure><h2 id="6-bs4-è§£ææ¡ˆä¾‹å®æˆ˜">6. bs4 è§£ææ¡ˆä¾‹å®æˆ˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€æ±‚ï¼šçˆ¬å–ä¸‰å›½æ¼”ä¹‰å°è¯´æ‰€æœ‰çš„ç« èŠ‚æ ‡é¢˜å’Œç« èŠ‚å†…å®¹</span></span><br><span class="line"><span class="comment"># https://www.shicimingju.com/book/sanguoyanyi.html</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment">#å¯¹é¦–é¡µçš„é¡µé¢æ•°æ®è¿›è¡Œçˆ¬å–</span></span><br><span class="line">    headers = &#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    url = <span class="string">&#x27;https://www.shicimingju.com/book/sanguoyanyi.html&#x27;</span></span><br><span class="line"></span><br><span class="line">    response = requests.get(url = url, headers = headers)</span><br><span class="line">    response.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">    page_text = response.text</span><br><span class="line"></span><br><span class="line">    <span class="comment">#åœ¨é¦–é¡µä¸­è§£æå‡ºç« èŠ‚çš„æ ‡é¢˜å’Œè¯¦æƒ…é¡µçš„url</span></span><br><span class="line">    <span class="comment">#å®ä¾‹åŒ–BeautifulSoupå¯¹è±¡ï¼Œéœ€è¦å°†é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­</span></span><br><span class="line">    soup = BeautifulSoup(page_text, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">    <span class="comment"># è§£æç« èŠ‚æ ‡é¢˜å’Œè¯¦æƒ…é¡µçš„url</span></span><br><span class="line">    li_list = soup.select(<span class="string">&#x27;.book-mulu &gt; ul &gt; li&#x27;</span>)</span><br><span class="line">    fp = open(<span class="string">&#x27;./sanguo.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding = <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">        title = li.a.string</span><br><span class="line">        detail_url =<span class="string">&#x27;http://www.shicimingju.com&#x27;</span> + li.a[<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line">        <span class="comment">#å¯¹è¯¦æƒ…é¡µå‘èµ·è¯·æ±‚ï¼Œè§£æå‡ºç« èŠ‚å†…å®¹</span></span><br><span class="line">        detail_response = requests.get(url = detail_url, headers = headers)</span><br><span class="line">        detail_response.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">        detail_page_text = detail_response.text</span><br><span class="line">        <span class="comment">#è§£æå‡ºè¯¦æƒ…é¡µä¸­ç›¸å…³çš„ç« èŠ‚å†…å®¹</span></span><br><span class="line">        detail_soup = BeautifulSoup(detail_page_text, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">        div_tag = detail_soup.find(<span class="string">&#x27;div&#x27;</span>, class_ = <span class="string">&#x27;chapter_content&#x27;</span>)</span><br><span class="line">        <span class="comment">#è§£æåˆ°äº†ç« èŠ‚çš„å†…å®¹</span></span><br><span class="line">        content = div_tag.text</span><br><span class="line">        fp.write(title + <span class="string">&#x27;:&#x27;</span> + content + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        print(title, <span class="string">&#x27;çˆ¬å–æˆåŠŸï¼&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="7-xpathè§£æåŸºç¡€">7. xpathè§£æåŸºç¡€</h2><ul><li>**xpathè§£æï¼š**æœ€å¸¸ç”¨ä¸”æœ€ä¾¿æ·é«˜æ•ˆçš„ä¸€ç§è§£ææ–¹å¼ã€‚é€šç”¨æ€§ã€‚</li><li><strong>xpathè§£æåŸç†ï¼š</strong><ul><li>ï¼ˆ1ï¼‰å®ä¾‹åŒ–ä¸€ä¸ªetreeçš„å¯¹è±¡ï¼Œä¸”éœ€è¦å°†è¢«è§£æçš„é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­ï¼›</li><li>ï¼ˆ2ï¼‰è°ƒç”¨etreeå¯¹è±¡ä¸­çš„xpathæ–¹æ³•ç»“åˆç€xpathè¡¨è¾¾å¼å®ç°æ ‡ç­¾çš„å®šä½å’Œå†…å®¹çš„æ•è·ã€‚</li></ul></li><li><strong>ç¯å¢ƒçš„å®‰è£…ï¼š</strong><code>pip install lxml</code>       (lxmlè§£æå™¨)</li><li><strong>å¦‚ä½•å®ä¾‹åŒ–ä¸€ä¸ªetreeå¯¹è±¡ï¼š</strong><code>from lxml import etree</code><ul><li>ï¼ˆ1ï¼‰å°†æœ¬åœ°çš„htmlæ–‡æ¡£ä¸­çš„æºç æ•°æ®åŠ è½½åˆ°etreeå¯¹è±¡ä¸­ï¼š<code>etree.parse(filePath)</code></li><li>ï¼ˆ2ï¼‰å¯ä»¥å°†ä»äº’è”ç½‘ä¸Šè·å–çš„æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­ï¼š<code>etree.HTML('page_text')</code></li></ul></li><li><strong>xpath(â€˜xpathè¡¨è¾¾å¼â€™)ï¼š</strong><ul><li>å…¶ä¸­ / è¡¨ç¤ºä»æ ¹èŠ‚ç‚¹å®šä½æˆ–è€…è¡¨ç¤ºä¸€ä¸ªå±‚çº§ï¼›</li><li>// è¡¨ç¤ºå¤šä¸ªå±‚çº§æˆ–è€…ä»ä»»æ„ä½ç½®å¼€å§‹å®šä½ï¼›</li><li>å±æ€§å®šä½ï¼š<code>tag[@attrName=&quot;attrValue&quot;]</code>ï¼›</li><li>ç´¢å¼•å®šä½ï¼š<code>tag[@attrName=&quot;attrValue&quot;]/p[3]</code>ï¼Œæ³¨æ„ç´¢å¼•ä»1å¼€å§‹</li><li>å–æ–‡æœ¬ï¼š<code>/text( )</code>  ï¼šè·å–çš„æ˜¯æ ‡ç­¾ä¸­ç›´ç³»çš„æ–‡æœ¬å†…å®¹ï¼›<code>//text( )</code>  ï¼šæ ‡ç­¾ä¸­éç›´ç³»çš„æ–‡æœ¬å†…å®¹ï¼ˆæ‰€æœ‰çš„æ–‡æœ¬å†…å®¹ï¼‰</li><li>å–å±æ€§ï¼š<code>/@attrName   ==&gt;  img/@src</code></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment">#å®ä¾‹åŒ–å¥½äº†ä¸€ä¸ªetreeå¯¹è±¡ï¼Œä¸”å°†è¢«è§£æçš„æºç åŠ è½½åˆ°äº†è¯¥å¯¹è±¡ä¸­</span></span><br><span class="line">    tree = etree.parse(<span class="string">&#x27;test.html&#x27;</span>)</span><br><span class="line">    <span class="comment"># r = tree.xpath(&#x27;/html/body/div&#x27;)</span></span><br><span class="line">    <span class="comment"># r = tree.xpath(&#x27;/html//div&#x27;)</span></span><br><span class="line">    <span class="comment"># r = tree.xpath(&#x27;//div&#x27;)</span></span><br><span class="line">    <span class="comment"># r = tree.xpath(&#x27;//div[@class=&quot;song&quot;]&#x27;)</span></span><br><span class="line">    <span class="comment"># r = tree.xpath(&#x27;//div[@class=&quot;tang&quot;]//li[5]/a/text()&#x27;)[0]</span></span><br><span class="line">    <span class="comment"># r = tree.xpath(&#x27;//li[7]//text()&#x27;)</span></span><br><span class="line">    <span class="comment"># r = tree.xpath(&#x27;//div[@class=&quot;tang&quot;]//text()&#x27;)</span></span><br><span class="line">    r = tree.xpath(<span class="string">&#x27;//div[@class=&quot;song&quot;]/img/@src&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    print(r)</span><br></pre></td></tr></table></figure><h2 id="8-xpathå®æˆ˜-58äºŒæ‰‹æˆ¿">8. xpathå®æˆ˜-58äºŒæ‰‹æˆ¿</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#éœ€æ±‚ï¼šçˆ¬å–58äºŒæ‰‹æˆ¿ä¸­çš„æˆ¿æºä¿¡æ¯</span></span><br><span class="line"><span class="comment">#ä½œè€…æé†’ï¼šæ­¤å¤„ä»£ç ä¸è§†é¢‘è¯¾ä¸­æœ‰å·®åˆ«ï¼ŒåŸå› æ˜¯è§†é¢‘è¯¾æ‹æ‘„æ—¶çš„ç½‘é¡µæºç å’Œä½œè€…å®é™…å­¦ä¹ æ—¶ç½‘é¡µæºç æœ‰å˜åŒ–ï¼Œä½œè€…ä»£ç äº2021/02/26è¿è¡Œæ­£å¸¸ã€‚</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>: </span><br><span class="line">    headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">#çˆ¬å–é¡µé¢æºç æ•°æ®</span></span><br><span class="line">    url = <span class="string">&#x27;https://bj.58.com/ershoufang/&#x27;</span></span><br><span class="line">    page_text = requests.get(url = url,headers = headers).text</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#æ•°æ®è§£æ</span></span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    <span class="comment">#å­˜å‚¨çš„æ˜¯æ ‡ç­¾å¯¹è±¡</span></span><br><span class="line">    div_list = tree.xpath(<span class="string">&#x27;//section[@class=&quot;list&quot;]/div&#x27;</span>)</span><br><span class="line">    fp = open(<span class="string">&#x27;58.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding = <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> div <span class="keyword">in</span> div_list:</span><br><span class="line">        <span class="comment">#é¡µé¢æ•°æ®çš„å±€éƒ¨è§£æ</span></span><br><span class="line">        title = div.xpath(<span class="string">&#x27;./a/div[2]//h3/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        fp.write(title + <span class="string">&#x27;\n\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;---------------Over!------------------&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="9-xpathè§£ææ¡ˆä¾‹">9. xpathè§£ææ¡ˆä¾‹</h2><h3 id="ï¼ˆ1ï¼‰4kå›¾ç‰‡è§£æä¸‹è½½">ï¼ˆ1ï¼‰4kå›¾ç‰‡è§£æä¸‹è½½</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#éœ€æ±‚ï¼šè§£æä¸‹è½½å›¾ç‰‡æ•°æ® http://pic.netbian.com/4kmeinv/</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    url = <span class="string">&#x27;http://pic.netbian.com/4kmeinv/&#x27;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.get(url=url, headers=headers)</span><br><span class="line">    <span class="comment"># æ‰‹åŠ¨è®¾å®šå“åº”æ•°æ®çš„ç¼–ç æ ¼å¼</span></span><br><span class="line">    <span class="comment"># response.encoding = &#x27;utf-8&#x27;</span></span><br><span class="line">    page_text = response.text</span><br><span class="line"></span><br><span class="line">    <span class="comment">#æ•°æ®è§£æï¼šsrcçš„å±æ€§å€¼  altå±æ€§</span></span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    li_list = tree.xpath(<span class="string">&#x27;//div[@class=&quot;slist&quot;]/ul/li&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;./picLibs&#x27;</span>):</span><br><span class="line">        os.mkdir(<span class="string">&#x27;./picLibs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">        img_src = <span class="string">&#x27;http://pic.netbian.com&#x27;</span>+li.xpath(<span class="string">&#x27;./a/img/@src&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        img_name = li.xpath(<span class="string">&#x27;./a/img/@alt&#x27;</span>)[<span class="number">0</span>]+<span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">        <span class="comment">#é€šç”¨å¤„ç†ä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆ</span></span><br><span class="line">        img_name = img_name.encode(<span class="string">&#x27;iso-8859-1&#x27;</span>).decode(<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(img_name,img_src)</span></span><br><span class="line">        <span class="comment"># è¯·æ±‚å›¾ç‰‡è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨</span></span><br><span class="line">        img_data = requests.get(url=img_src, headers=headers).content</span><br><span class="line">        img_path = <span class="string">&#x27;picLibs/&#x27;</span>+img_name</span><br><span class="line">        <span class="keyword">with</span> open(img_path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            fp.write(img_data)</span><br><span class="line">            print(img_name, <span class="string">&#x27;ä¸‹è½½æˆåŠŸï¼ï¼ï¼&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;------------------------OVER!---------------------------------&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ2ï¼‰å…¨å›½åŸå¸‚åç§°çˆ¬å–">ï¼ˆ2ï¼‰å…¨å›½åŸå¸‚åç§°çˆ¬å–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€æ±‚ï¼šè§£æå‡ºæ‰€æœ‰åŸå¸‚åç§°  https://www.aqistudy.cn/historydata/</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;headers = &#123;</span></span><br><span class="line"><span class="string">    &#x27;User-Agent&#x27;:&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    url = &#x27;https://www.aqistudy.cn/historydata/&#x27;</span></span><br><span class="line"><span class="string">    page_text = requests.get(url=url,headers=headers).text</span></span><br><span class="line"><span class="string">    tree = etree.HTML(page_text)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    #æ•°æ®è§£æ</span></span><br><span class="line"><span class="string">    hot_li_list = tree.xpath(&#x27;//div[@class=&quot;bottom&quot;]/ul/li&#x27;)</span></span><br><span class="line"><span class="string">    all_city_names = []</span></span><br><span class="line"><span class="string">    #è§£æçƒ­é—¨åŸå¸‚åå­—</span></span><br><span class="line"><span class="string">    for li in hot_li_list:</span></span><br><span class="line"><span class="string">        hot_city_names = li.xpath(&#x27;./a/text()&#x27;)[0]</span></span><br><span class="line"><span class="string">        all_city_names.append(hot_city_names)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    #è§£æå…¨éƒ¨åŸå¸‚åå­—ï¼š</span></span><br><span class="line"><span class="string">    city_names_list = tree.xpath(&#x27;.//div[@class=&quot;bottom&quot;]/ul/div[2]/li&#x27;)</span></span><br><span class="line"><span class="string">    for li in city_names_list:</span></span><br><span class="line"><span class="string">        city_name = li.xpath(&#x27;./a/text()&#x27;)[0]</span></span><br><span class="line"><span class="string">        all_city_names.append(city_name)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    print(all_city_names,len(all_city_names))&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç¬¬äºŒç§æ–¹æ³•ï¼Œä¸€èµ·è§£æ</span></span><br><span class="line"></span><br><span class="line">    headers = &#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    url = <span class="string">&#x27;https://www.aqistudy.cn/historydata/&#x27;</span></span><br><span class="line">    page_text = requests.get(url=url, headers=headers).text</span><br><span class="line"></span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    <span class="comment"># æ•°æ®è§£æ  è§£æåˆ°çƒ­é—¨åŸå¸‚å’Œå…¨éƒ¨åŸå¸‚å¯¹åº”çš„aæ ‡ç­¾</span></span><br><span class="line">    <span class="comment"># çƒ­é—¨åŸå¸‚æ ‡ç­¾å±‚çº§div/ul/li/a</span></span><br><span class="line">    <span class="comment"># å…¨éƒ¨åŸå¸‚æ ‡ç­¾å±‚çº§div/ul/div[2]/li/a</span></span><br><span class="line">    a_list = tree.xpath(<span class="string">&#x27;//div[@class=&quot;bottom&quot;]/ul/li/a | //div[@class=&quot;bottom&quot;]/ul/div[2]/li/a &#x27;</span>)</span><br><span class="line">    all_city_names = []</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> a_list:</span><br><span class="line">        a_name = a.xpath(<span class="string">&#x27;./text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        all_city_names.append(a_name)</span><br><span class="line">    print(all_city_names, len(all_city_names))</span><br></pre></td></tr></table></figure><h2 id="10-xpathä½œä¸šâ€”çˆ¬å–ç«™é•¿ç´ æä¸­å…è´¹ç®€å†æ¨¡æ¿">10. xpathä½œä¸šâ€”çˆ¬å–ç«™é•¿ç´ æä¸­å…è´¹ç®€å†æ¨¡æ¿</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># çˆ¬å–ç«™é•¿ç´ æä¸­å…è´¹çš„ç®€å†æ¨¡æ¿  https://sc.chinaz.com/jianli/free.html</span></span><br><span class="line"><span class="comment"># ä»£ç å‚è€ƒï¼šhttps://blog.csdn.net/nanke_nk/article/details/108966854</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;./jianli&#x27;</span>):</span><br><span class="line">        os.mkdir(<span class="string">&#x27;./jianli&#x27;</span>)</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    url = <span class="string">&#x27;https://sc.chinaz.com/jianli/free_%d.html&#x27;</span></span><br><span class="line">    page = int(input(<span class="string">&#x27;æ‚¨ä¸€å…±æƒ³è¦çˆ¬å–å¤šå°‘é¡µï¼š&#x27;</span>))</span><br><span class="line">    <span class="keyword">for</span> pageNum <span class="keyword">in</span> range(<span class="number">1</span>, page):</span><br><span class="line">        <span class="keyword">if</span> pageNum == <span class="number">1</span>:</span><br><span class="line">            new_url = <span class="string">&#x27;https://sc.chinaz.com/jianli/free.html&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            new_url = format(url%pageNum)</span><br><span class="line">        page_text = requests.get(url = new_url, headers = headers).text</span><br><span class="line">        tree = etree.HTML(page_text)</span><br><span class="line">        url_div_list = tree.xpath(<span class="string">&#x27;//*[@id=&quot;container&quot;]/div&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> detail_url <span class="keyword">in</span> url_div_list:</span><br><span class="line">            detail_url = <span class="string">&#x27;https:&#x27;</span> + detail_url.xpath(<span class="string">&#x27;./a/@href&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">            detail_page_text = requests.get(url = detail_url, headers =headers).text</span><br><span class="line">            tree = etree.HTML(detail_page_text)</span><br><span class="line">            name = tree.xpath(<span class="string">&#x27;//h1/text()&#x27;</span>)[<span class="number">0</span>].encode(<span class="string">&#x27;iso-8859-1&#x27;</span>).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">            download_url = tree.xpath(<span class="string">&#x27;//*[@id=&quot;down&quot;]/div[2]/ul/li[1]/a/@href&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">            file_path = <span class="string">&#x27;jianli/&#x27;</span> + name + <span class="string">&#x27;.rar&#x27;</span></span><br><span class="line">            download_content = requests.get(url = download_url, headers = headers).content</span><br><span class="line">            <span class="keyword">with</span> open(file_path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                fp.write(download_content)</span><br><span class="line">            print(name, <span class="string">&#x27;ä¸‹è½½å®Œæˆ&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;-------------------------------OVER!---------------------------------------&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><h1>å››ã€éªŒè¯ç </h1><h2 id="1-éªŒè¯ç è¯†åˆ«ç®€ä»‹">1. éªŒè¯ç è¯†åˆ«ç®€ä»‹</h2><p><strong>éªŒè¯ç å’Œçˆ¬è™«ä¹‹é—´çš„çˆ±æ¨æƒ…ä»‡ï¼š</strong></p><ul><li>åçˆ¬æœºåˆ¶ï¼šéªŒè¯ç ã€‚è¯†åˆ«éªŒè¯ç å›¾ç‰‡ä¸­çš„æ•°æ®ï¼Œç”¨äºæ¨¡æ‹Ÿç™»å½•æ“ä½œã€‚</li></ul><p><strong>è¯†åˆ«éªŒè¯ç çš„æ“ä½œï¼š</strong></p><ul><li>äººå·¥è‚‰çœ¼è¯†åˆ«ï¼ˆä¸æ¨èï¼‰</li><li>ç¬¬ä¸‰æ–¹è‡ªåŠ¨è¯†åˆ«ï¼ˆæ¨èï¼‰</li></ul><h2 id="2-äº‘æ‰“ç ä½¿ç”¨æµç¨‹">2. äº‘æ‰“ç ä½¿ç”¨æµç¨‹</h2><!--ä½œè€…å­¦ä¹ æœŸé—´ï¼Œè¯¥å¹³å°å·²ç»æŒ‚æ‰ï¼Œæ•…è€Œä½¿ç”¨è¶…çº§é¹°è¿›è¡Œä»£æ›¿ã€‚åŒç±»æ‰“ç å¹³å°å¯ä»¥è‡ªè¡Œç™¾åº¦é€‰æ‹©--><ul><li>æ³¨å†Œï¼šç”¨æˆ·ä¸­å¿ƒèº«ä»½</li><li>ç™»å½•ï¼šç”¨æˆ·ä¸­å¿ƒèº«ä»½<ul><li>æŸ¥è¯¢ä½™é¢ï¼Œé¢˜åˆ†æ˜¯å¦è¶³å¤Ÿï¼ˆç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œç»‘å®šå¾®ä¿¡å³å¯å…è´¹è·èµ 1000é¢˜åˆ†ï¼›éé¦–æ¬¡ä½¿ç”¨ï¼Œå»ºè®®å°é¢å……å€¼ï¼Œ1å…ƒå³å¯ï¼‰</li><li>åˆ›å»ºè½¯ä»¶IDâ€”â€”ç”¨æˆ·ä¸­å¿ƒå·¦ä¸‹è§’</li><li>ä¸‹è½½ç¤ºä¾‹ä»£ç  â€”â€”å¼€å‘æ–‡æ¡£</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chaojiying_Client</span>(<span class="params">object</span>):</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, username, password, soft_id</span>):</span></span><br><span class="line">self.username = username</span><br><span class="line">password =  password.encode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">self.password = md5(password).hexdigest()</span><br><span class="line">self.soft_id = soft_id</span><br><span class="line">self.base_params = &#123;</span><br><span class="line"><span class="string">&#x27;user&#x27;</span>: self.username,</span><br><span class="line"><span class="string">&#x27;pass2&#x27;</span>: self.password,</span><br><span class="line"><span class="string">&#x27;softid&#x27;</span>: self.soft_id,</span><br><span class="line">&#125;</span><br><span class="line">self.headers = &#123;</span><br><span class="line"><span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;Keep-Alive&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0)&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">PostPic</span>(<span class="params">self, im, codetype</span>):</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">im: å›¾ç‰‡å­—èŠ‚</span></span><br><span class="line"><span class="string">codetype: é¢˜ç›®ç±»å‹ å‚è€ƒ http://www.chaojiying.com/price.html</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">params = &#123;</span><br><span class="line"><span class="string">&#x27;codetype&#x27;</span>: codetype,</span><br><span class="line">&#125;</span><br><span class="line">params.update(self.base_params)</span><br><span class="line">files = &#123;<span class="string">&#x27;userfile&#x27;</span>: (<span class="string">&#x27;ccc.jpg&#x27;</span>, im)&#125;</span><br><span class="line">r = requests.post(<span class="string">&#x27;http://upload.chaojiying.net/Upload/Processing.php&#x27;</span>, data=params, files=files, headers=self.headers)</span><br><span class="line"><span class="keyword">return</span> r.json()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ReportError</span>(<span class="params">self, im_id</span>):</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">im_id:æŠ¥é”™é¢˜ç›®çš„å›¾ç‰‡ID</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">params = &#123;</span><br><span class="line"><span class="string">&#x27;id&#x27;</span>: im_id,</span><br><span class="line">&#125;</span><br><span class="line">params.update(self.base_params)</span><br><span class="line">r = requests.post(<span class="string">&#x27;http://upload.chaojiying.net/Upload/ReportError.php&#x27;</span>, data=params, headers=self.headers)</span><br><span class="line"><span class="keyword">return</span> r.json()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tranformImgCode</span>(<span class="params">imgPath,imgType</span>):</span></span><br><span class="line">chaojiying = Chaojiying_Client(<span class="string">&#x27;æ­¤å¤„æ˜¯è´¦æˆ·&#x27;</span>, <span class="string">&#x27;æ­¤å¤„æ˜¯å¯†ç &#x27;</span>, <span class="string">&#x27;æ­¤å¤„æ˜¯è½¯ä»¶ID&#x27;</span>)<span class="comment">#ç”¨æˆ·ä¸­å¿ƒ&gt;&gt;è½¯ä»¶ID ç”Ÿæˆä¸€ä¸ªæ›¿æ¢ </span></span><br><span class="line">im = open(imgPath, <span class="string">&#x27;rb&#x27;</span>).read()</span><br><span class="line"><span class="keyword">return</span> chaojiying.PostPic(im,imgType)[<span class="string">&#x27;pic_str&#x27;</span>]<span class="comment">#1902 éªŒè¯ç ç±»å‹  å®˜æ–¹ç½‘ç«™&gt;&gt;ä»·æ ¼ä½“ç³» 3.4+ç‰ˆ </span></span><br><span class="line"></span><br><span class="line">print(tranformImgCode(<span class="string">&#x27;./a.jpg&#x27;</span>,<span class="number">1902</span>))</span><br></pre></td></tr></table></figure><h2 id="3-å¤è¯—æ–‡ç½‘éªŒè¯ç è¯†åˆ«">3. å¤è¯—æ–‡ç½‘éªŒè¯ç è¯†åˆ«</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####å°†æœ¬éƒ¨åˆ†ä»£ç å¤åˆ¶åˆ°ä¸Šä¸€èŠ‚ä»£ç ä¹‹åï¼Œå› ä¸ºè¦è°ƒç”¨ä¸Šè¿°å°è£…çš„tranformImgCodeæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">session = requests.Session()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯†åˆ«éªŒè¯ç å›¾ä¸‹è½½</span></span><br><span class="line">headers = &#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">url = <span class="string">&#x27;https://so.gushiwen.cn/user/login.aspx?from=http://so.gushiwen.cn/user/collect.aspx&#x27;</span></span><br><span class="line">page_text = session.get(url=url, headers=headers).text</span><br><span class="line"><span class="comment"># è§£æéªŒè¯ç å›¾ç‰‡çš„åœ°å€</span></span><br><span class="line">tree = etree.HTML(page_text)</span><br><span class="line">img_src = <span class="string">&#x27;https://so.gushiwen.org&#x27;</span> + tree.xpath(<span class="string">&#x27;//*[@id=&quot;imgCode&quot;]/@src&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># å°†éªŒè¯ç å›¾ç‰‡ä¿å­˜æœ¬åœ°</span></span><br><span class="line">img_data = session.get(img_src, headers=headers).content</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;./code.jpg&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">fp.write(img_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯†åˆ«éªŒè¯ç </span></span><br><span class="line">code_text = tranformImgCode(<span class="string">&#x27;./code.jpg&#x27;</span>, <span class="number">1902</span>)</span><br><span class="line">print(code_text)</span><br><span class="line">login_url = <span class="string">&#x27;https://so.gushiwen.cn/user/login.aspx?from=http%3a%2f%2fso.gushiwen.cn%2fuser%2fcollect.aspx&#x27;</span></span><br><span class="line">data = &#123;</span><br><span class="line"><span class="string">&#x27;__VIEWSTATE&#x27;</span>: <span class="string">&#x27;f1ECt6+6MPtdTZMJtYOYS/7ww2d/DPy9t8JQcIt1QuOneLTbNQuYqPcCjZNbDAbfb9vj3k6f0M7EKTf0YqElM1k1A5ELwyTvUzBii+9LDRBbIMmc/jb0DJPsYfI=&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;__VIEWSTATEGENERATOR&#x27;</span>: <span class="string">&#x27;C93BE1AE&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;from&#x27;</span>: <span class="string">&#x27;http://so.gushiwen.cn/user/collect.aspx&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;email&#x27;</span>: <span class="string">&#x27;è´¦å·&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;pwd&#x27;</span>: <span class="string">&#x27;å¯†ç &#x27;</span>,</span><br><span class="line"><span class="string">&#x27;code&#x27;</span>: code_text,  <span class="comment"># åŠ¨æ€å˜åŒ–</span></span><br><span class="line"><span class="string">&#x27;denglu&#x27;</span>: <span class="string">&#x27;ç™»å½•&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># å¯¹ç‚¹å‡»ç™»å½•æŒ‰é’®å‘èµ·è¯·æ±‚</span></span><br><span class="line">page_text_login = session.post(url=login_url, headers=headers, data=data).text</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;./gushiwen.html&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">fp.write(page_text_login)</span><br></pre></td></tr></table></figure><ul><li><p>åœ¨è¯·æ±‚å‚æ•°ä¸­å¦‚æœçœ‹åˆ°äº†ä¸€ç»„ä¹±åºçš„è¯·æ±‚å‚æ•°ï¼Œæœ€å¥½å»éªŒè¯è¿™ç»„è¯·æ±‚å‚æ•°æ˜¯å¦ä¸ºåŠ¨æ€å˜åŒ–</p><ul><li>å¤„ç†ï¼š<ul><li>æ–¹å¼1ï¼šå¸¸è§„æ¥è®²ä¸€èˆ¬åŠ¨æ€å˜åŒ–çš„è¯·æ±‚å‚æ•°ä¼šè¢«éšè—åœ¨å‰å°é¡µé¢ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦å»å‰å°é¡µé¢æºç ä¸­å¯»æ‰¾ï¼›</li><li>æ–¹å¼2ï¼šå¦‚æœå‰å°é¡µé¢æ²¡æœ‰çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŸºäºæŠ“åŒ…å·¥å…·è¿›è¡Œå…¨å±€æœç´¢ã€‚</li></ul></li></ul></li><li><p><strong>åŸºäºç™¾åº¦AIå®ç°çš„çˆ¬è™«ç»™åŠŸèƒ½ï¼š</strong></p><ul><li>å›¾åƒè¯†åˆ«</li><li>è¯­éŸ³è¯†åˆ«&amp;åˆæˆ</li><li>è‡ªç„¶è¯­è¨€å¤„ç†</li></ul></li><li><p><strong>ä½¿ç”¨æµç¨‹ï¼š</strong></p><ul><li><p>ç‚¹å‡»æ§åˆ¶å°è¿›è¡Œç™»å½•</p></li><li><p>é€‰æ‹©æƒ³è¦å®ç°çš„åŠŸèƒ½</p></li><li><p>å®ç°åŠŸèƒ½ä¸‹åˆ›å»ºä¸€ä¸ªapp</p></li><li><p>é€‰æ‹©å¯¹åº”çš„ pythonSDK æ–‡æ¡£è¿›è¡Œä»£ç å®ç°</p><blockquote><p>éœ€æ±‚ï¼š<a href="https://duanziwang.com/">https://duanziwang.com/</a></p><p>è®²æ®µå­ç‹ä¸­çš„æ®µå­å†…å®¹çˆ¬å–åˆ°æœ¬åœ°ï¼Œç„¶ååŸºäºè¯­éŸ³åˆæˆä¸ºmp3çš„éŸ³é¢‘æ–‡ä»¶ï¼Œç„¶åè‡ªå·±æ­å»ºä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œçº¿ä¸Šå®æ—¶æ’­æ”¾éŸ³é¢‘æ–‡ä»¶ã€‚</p></blockquote></li></ul></li></ul><hr><h1>äº”ã€requestsæ¨¡å—é«˜çº§</h1><h2 id="1-æ¨¡æ‹Ÿç™»å½•å®ç°æµç¨‹æ¢³ç†">1. æ¨¡æ‹Ÿç™»å½•å®ç°æµç¨‹æ¢³ç†</h2><p>**æ¨¡æ‹Ÿç™»å½•ï¼š**çˆ¬å–åŸºäºæŸäº›ç”¨æˆ·çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p><p>**éœ€æ±‚ï¼š**å¯¹äººäººç½‘è¿›è¡Œæ¨¡æ‹Ÿç™»å½•</p><ul><li>ç‚¹å‡»ç™»å½•æŒ‰é’®åä¼šå‘èµ·ä¸€ä¸ªpostè¯·æ±‚</li><li>postè¯·æ±‚ä¸­ä¼šæºå¸¦ç™»é™†ä¹‹å‰å½•å…¥çš„ç›¸å…³çš„ç™»å½•ä¿¡æ¯ï¼ˆç”¨æˆ·åã€å¯†ç ã€éªŒè¯ç â€¦ï¼‰</li><li>éªŒè¯ç ï¼šæ¯æ¬¡è¯·æ±‚éƒ½ä¼šåŠ¨æ€å˜åŒ–</li></ul><h2 id="2-äººäººç½‘æ¨¡æ‹Ÿç™»å½•">2. äººäººç½‘æ¨¡æ‹Ÿç™»å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1. éªŒè¯ç çš„è¯†åˆ«,è·å–éªŒè¯ç å›¾ç‰‡çš„æ–‡å­—æ•°æ®</span></span><br><span class="line"><span class="comment">#2. å¯¹postè¯·æ±‚è¿›è¡Œå‘é€</span></span><br><span class="line"><span class="comment">#3. å¯¹å“åº”æ•°æ®è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">url = <span class="string">&#x27;http://www.renren.com/SysHome.do&#x27;</span></span><br><span class="line">page_text = response.get(url = url,headers = headers).text</span><br><span class="line">tree = etree.HTML(page_text)</span><br><span class="line">code_img_src = tree.xpath(<span class="string">&#x27;//*[@id=&quot;verifyPic_login&quot;]/@src&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">code_img_data = requests.get(url = code_img_src,headers = headers).content</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;./code.jpg&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(code_img_data)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#ä¸‹é¢éœ€è¦ä½¿ç”¨æ‰“ç å¹³å°æä¾›çš„ç¤ºä¾‹ä»£ç è¿›è¡Œè¯†åˆ«ï¼Œäº‘æ‰“ç å¹³å°å·²æŒ‚</span></span><br><span class="line"><span class="comment">######äº†è§£è§†é¢‘ä»£ç ä½¿ç”¨æ€è·¯å³å¯ï¼Œå¯è‡ªè¡Œä½¿ç”¨å…¶ä»–æ‰“ç å¹³å°å®ç°æ“ä½œï¼Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#postè¯·æ±‚å‘é€</span></span><br><span class="line">login_url = <span class="string">&#x27; &#x27;</span></span><br><span class="line">data = &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">response = requests.post(url = login_url,headers = headers,data = data)</span><br><span class="line">print(response.satus_code)</span><br><span class="line"></span><br><span class="line"><span class="comment">#login_page_text = response.text</span></span><br><span class="line"><span class="comment">#with open(&#x27;renren.html&#x27;,&#x27;w&#x27;,encoding = &#x27;utf-8&#x27;) #as fp:</span></span><br><span class="line">    fp.write(login_page_text)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;è§†é¢‘UPä¸»çš„æºä»£ç &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¼–ç æµç¨‹ï¼š</span></span><br><span class="line"><span class="comment">#1.éªŒè¯ç çš„è¯†åˆ«ï¼Œè·å–éªŒè¯ç å›¾ç‰‡çš„æ–‡å­—æ•°æ®</span></span><br><span class="line"><span class="comment">#2.å¯¹postè¯·æ±‚è¿›è¡Œå‘é€ï¼ˆå¤„ç†è¯·æ±‚å‚æ•°ï¼‰</span></span><br><span class="line"><span class="comment">#3.å¯¹å“åº”æ•°æ®è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> CodeClass <span class="keyword">import</span> YDMHttp</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="comment">#å°è£…è¯†åˆ«éªŒè¯ç å›¾ç‰‡çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getCodeText</span>(<span class="params">imgPath,codeType</span>):</span></span><br><span class="line">    <span class="comment"># æ™®é€šç”¨æˆ·ç”¨æˆ·å</span></span><br><span class="line">    username = <span class="string">&#x27;bobo328410948&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ™®é€šç”¨æˆ·å¯†ç </span></span><br><span class="line">    password = <span class="string">&#x27;bobo328410948&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è½¯ä»¶ï¼©ï¼¤ï¼Œå¼€å‘è€…åˆ†æˆå¿…è¦å‚æ•°ã€‚ç™»å½•å¼€å‘è€…åå°ã€æˆ‘çš„è½¯ä»¶ã€‘è·å¾—ï¼</span></span><br><span class="line">    appid = <span class="number">6003</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è½¯ä»¶å¯†é’¥ï¼Œå¼€å‘è€…åˆ†æˆå¿…è¦å‚æ•°ã€‚ç™»å½•å¼€å‘è€…åå°ã€æˆ‘çš„è½¯ä»¶ã€‘è·å¾—ï¼</span></span><br><span class="line">    appkey = <span class="string">&#x27;1f4b564483ae5c907a1d34f8e2f2776c&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å›¾ç‰‡æ–‡ä»¶ï¼šå³å°†è¢«è¯†åˆ«çš„éªŒè¯ç å›¾ç‰‡çš„è·¯å¾„</span></span><br><span class="line">    filename = imgPath</span><br><span class="line"></span><br><span class="line">    <span class="comment"># éªŒè¯ç ç±»å‹ï¼Œ# ä¾‹ï¼š1004è¡¨ç¤º4ä½å­—æ¯æ•°å­—ï¼Œä¸åŒç±»å‹æ”¶è´¹ä¸åŒã€‚è¯·å‡†ç¡®å¡«å†™ï¼Œå¦åˆ™å½±å“è¯†åˆ«ç‡ã€‚åœ¨æ­¤æŸ¥è¯¢æ‰€æœ‰ç±»å‹ http://www.yundama.com/price.html</span></span><br><span class="line">    codetype = codeType</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¶…æ—¶æ—¶é—´ï¼Œç§’</span></span><br><span class="line">    timeout = <span class="number">20</span></span><br><span class="line">    result = <span class="literal">None</span></span><br><span class="line">    <span class="comment"># æ£€æŸ¥</span></span><br><span class="line">    <span class="keyword">if</span> (username == <span class="string">&#x27;username&#x27;</span>):</span><br><span class="line">        print(<span class="string">&#x27;è¯·è®¾ç½®å¥½ç›¸å…³å‚æ•°å†æµ‹è¯•&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line">        yundama = YDMHttp(username, password, appid, appkey)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç™»é™†äº‘æ‰“ç </span></span><br><span class="line">        uid = yundama.login();</span><br><span class="line">        print(<span class="string">&#x27;uid: %s&#x27;</span> % uid)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æŸ¥è¯¢ä½™é¢</span></span><br><span class="line">        balance = yundama.balance();</span><br><span class="line">        print(<span class="string">&#x27;balance: %s&#x27;</span> % balance)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¼€å§‹è¯†åˆ«ï¼Œå›¾ç‰‡è·¯å¾„ï¼ŒéªŒè¯ç ç±»å‹IDï¼Œè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¯†åˆ«ç»“æœ</span></span><br><span class="line">        cid, result = yundama.decode(filename, codetype, timeout);</span><br><span class="line">        print(<span class="string">&#x27;cid: %s, result: %s&#x27;</span> % (cid, result))</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#1.å¯¹éªŒè¯ç å›¾ç‰‡è¿›è¡Œæ•è·å’Œè¯†åˆ«</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">url = <span class="string">&#x27;http://www.renren.com/SysHome.do&#x27;</span></span><br><span class="line">page_text = requests.get(url=url,headers=headers).text</span><br><span class="line">tree = etree.HTML(page_text)</span><br><span class="line">code_img_src = tree.xpath(<span class="string">&#x27;//*[@id=&quot;verifyPic_login&quot;]/@src&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">code_img_data = requests.get(url=code_img_src,headers=headers).content</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;./code.jpg&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(code_img_data)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨äº‘æ‰“ç æä¾›çš„ç¤ºä¾‹ä»£ç å¯¹éªŒè¯ç å›¾ç‰‡è¿›è¡Œè¯†åˆ«</span></span><br><span class="line">result = getCodeText(<span class="string">&#x27;code.jpg&#x27;</span>,<span class="number">1000</span>)</span><br><span class="line">print(result)</span><br><span class="line"><span class="comment">#postè¯·æ±‚çš„å‘é€ï¼ˆæ¨¡æ‹Ÿç™»å½•ï¼‰</span></span><br><span class="line">login_url = <span class="string">&#x27;http://www.renren.com/ajaxLogin/login?1=1&amp;uniqueTimestamp=2019431046983&#x27;</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;email&#x27;</span>: <span class="string">&#x27;www.zhangbowudi@qq.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;icode&#x27;</span>: result,</span><br><span class="line">    <span class="string">&#x27;origURL&#x27;</span>: <span class="string">&#x27;http://www.renren.com/home&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;renren.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;key_id&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;captcha_type&#x27;</span>: <span class="string">&#x27;web_login&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;06768edabba49f5f6b762240b311ae5bfa4bcce70627231dd1f08b9c7c6f4375&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;rkey&#x27;</span>: <span class="string">&#x27;1028219f2897941c98abdc0839a729df&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;f&#x27;</span>:<span class="string">&#x27;https%3A%2F%2Fwww.baidu.com%2Flink%3Furl%3Dgds6TUs9Q1ojOatGda5mVsLKC34AYwc5XiN8OuImHRK%26wd%3D%26eqid%3D8e38ba9300429d7d000000035cedf53a&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">response = requests.post(url=login_url,headers=headers,data=data)</span><br><span class="line">print(response.text)</span><br><span class="line">print(response.status_code)</span><br><span class="line"></span><br><span class="line"><span class="comment"># login_page_text = response.text</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># with open(&#x27;renren.html&#x27;,&#x27;w&#x27;,encoding=&#x27;utf-8&#x27;) as fp:</span></span><br><span class="line"><span class="comment">#     fp.write(login_page_text)</span></span><br></pre></td></tr></table></figure><h2 id="3-æ¨¡æ‹Ÿç™»å½•cookieæ“ä½œ">3. æ¨¡æ‹Ÿç™»å½•cookieæ“ä½œ</h2><ul><li><p>**éœ€æ±‚ï¼š**çˆ¬å–å½“å‰ç”¨æˆ·çš„ç›¸å…³ç”¨æˆ·ä¿¡æ¯ï¼ˆä¸ªäººä¸»é¡µä¸­æ˜¾ç¤ºçš„ç”¨æˆ·ä¿¡æ¯ï¼‰</p></li><li><p>**http/httpsåè®®ï¼š**æ— çŠ¶æ€ã€‚</p><p>æ²¡æœ‰è¯·æ±‚åˆ°å¯¹åº”é¡µé¢æ•°æ®çš„åŸå› ï¼šå‘èµ·çš„ç¬¬äºŒæ¬¡åŸºäºä¸ªäººä¸»é¡µé¡µé¢è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨å¹¶ä¸çŸ¥é“è¯¥æ¬¡è¯·æ±‚æ˜¯åŸºäºç™»å½•çŠ¶æ€ä¸‹çš„è¯·æ±‚ã€‚</p></li><li><p>**cookieï¼š**ç”¨æ¥è®©æœåŠ¡å™¨ç«¯è®°å½•å®¢æˆ·ç«¯çš„ç›¸å…³çŠ¶æ€</p><ul><li><p>æ‰‹åŠ¨å¤„ç†ï¼šæŠ“åŒ…å·¥å…·è·å– <code>Cookie</code> å€¼ï¼Œå°†å€¼å°è£…åˆ° <code>headers</code> ä¸­ï¼ˆä¸æ¨èï¼‰</p></li><li><p>è‡ªåŠ¨å¤„ç†ï¼š</p><p><code>Cookie</code> å€¼çš„æ¥æºæ˜¯å“ªé‡Œï¼Ÿæ¨¡æ‹Ÿç™»å½• <code>post</code> è¯·æ±‚åï¼Œç”±æœåŠ¡å™¨ç«¯åˆ›å»ºçš„ã€‚</p><p><code>session</code>ä¼šè¯å¯¹è±¡ï¼š1. å¯ä»¥è¿›è¡Œè¯·æ±‚çš„å‘é€ï¼›2. å¦‚æœè¯·æ±‚è¿‡ç¨‹ä¸­äº§ç”Ÿäº†Cookieï¼Œåˆ™è¯¥Cookieä¼šè¢«è‡ªåŠ¨å­˜å‚¨/æºå¸¦åœ¨è¯¥sessionå¯¹è±¡ä¸­ã€‚</p><p>åˆ›å»ºä¸€ä¸ª<strong>session</strong>å¯¹è±¡ï¼š<code>session = requests.Session( )</code></p><p>ä½¿ç”¨<strong>session</strong>å¯¹è±¡è¿›è¡Œæ¨¡æ‹Ÿç™»å½•<code>post</code>è¯·æ±‚çš„å‘é€ï¼ˆCookieä¼šè¢«å­˜å‚¨åœ¨sessionä¸­ï¼‰</p><p><strong>session</strong>å¯¹è±¡å¯¹ä¸ªäººä¸»é¡µå¯¹åº”çš„getè¯·æ±‚è¿›è¡Œå‘é€ï¼ˆæºå¸¦äº†Cookieï¼‰</p></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####åŸºäºå‰ä¸€èŠ‚ä»£ç ä¹‹ä¸Š####</span></span><br><span class="line">session = requests.Session()</span><br><span class="line"></span><br><span class="line"><span class="comment">#çˆ¬å–å½“å‰ç”¨æˆ·çš„ç›¸å…³ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;æ‰‹åŠ¨è·å–Cookieï¼ˆä¸æ¨èï¼‰ headers = &#123;</span></span><br><span class="line"><span class="string">   â€˜&#x27;Cookie&#x27;:&#x27;xxxx&#x27;</span></span><br><span class="line"><span class="string">    &#125;&#x27;&#x27;&#x27;</span></span><br><span class="line">detail_url = <span class="string">&#x27;http://www.renren.com/976279344/profile&#x27;</span></span><br><span class="line">detail_page_test = session.get(url = detail_url,headers = headers).text</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;bobo.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding = <span class="string">&#x27;utf-8&#x27;</span> ) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(detail_page_test)</span><br></pre></td></tr></table></figure><h2 id="4-ä»£ç†ç†è®ºè®²è§£">4. ä»£ç†ç†è®ºè®²è§£</h2><ul><li>**ä»£ç†ï¼š**ç ´è§£å° IP è¿™ç§åçˆ¬æœºåˆ¶ã€‚</li><li>**ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ**ä»£ç†æœåŠ¡å™¨ã€‚</li><li><strong>ä»£ç†çš„ä½œç”¨ï¼š</strong><ul><li>çªç ´è‡ªèº« IP è¢«è®¿é—®çš„é™åˆ¶</li><li>å¯ä»¥éšè—è‡ªèº«çœŸå®çš„ IPï¼Œå…å—æ”»å‡»</li></ul></li><li><strong>ç›¸å…³ç½‘ç«™ï¼š</strong><ul><li><a href="https://www.kuaidaili.com/">å¿«ä»£ç†</a></li><li>è¥¿ç¥ ä»£ç†</li><li><a href="http://www.goubanjia.com">www.goubanjia.com</a></li></ul></li><li><strong>ä»£ç† ip çš„ç±»å‹ï¼š</strong><ul><li>httpï¼šåªèƒ½åº”ç”¨åˆ° http åè®®å¯¹åº”çš„ url ä¸­</li><li>httpsï¼šåªèƒ½åº”ç”¨åˆ° https åè®®å¯¹åº”çš„ url ä¸­</li></ul></li><li><strong>ä»£ç†ipçš„åŒ¿ååº¦ï¼š</strong><ul><li>é€æ˜ï¼šæœåŠ¡å™¨çŸ¥é“è¯¥æ¬¡è¯·æ±‚ä½¿ç”¨äº†ä»£ç†ï¼Œä¹ŸçŸ¥é“è¯·æ±‚å¯¹åº”çš„çœŸå® ip</li><li>åŒ¿åï¼šçŸ¥é“ä½¿ç”¨äº†ä»£ç†ï¼Œä¸çŸ¥é“çœŸå® ip</li><li>é«˜åŒ¿ï¼šä¸çŸ¥é“ä½¿ç”¨äº†ä»£ç†ï¼Œä¹Ÿä¸çŸ¥é“çœŸå® ip</li></ul></li></ul><h2 id="5-ä»£ç†åœ¨çˆ¬è™«ä¸­çš„åº”ç”¨">5. ä»£ç†åœ¨çˆ¬è™«ä¸­çš„åº”ç”¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://www.baidu.com/s?wd=ip&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">page_text = requests.get(url = url, headers = headers, proxies = &#123;<span class="string">&quot;http&quot;</span>: <span class="string">&quot;http://124.205.155.153:9090&quot;</span>&#125;).text</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;ip.html&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding = <span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(page_text)</span><br></pre></td></tr></table></figure><hr><h1>å…­ã€é«˜æ€§èƒ½å¼‚æ­¥çˆ¬è™«</h1><h2 id="1-å¼‚æ­¥çˆ¬è™«æ¦‚è¿°">1. å¼‚æ­¥çˆ¬è™«æ¦‚è¿°</h2><ul><li><p>**åŒæ­¥ï¼š**ä¸åŒç¨‹åºå•å…ƒä¸ºäº†å®ŒæˆæŸä¸ªä»»åŠ¡ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€é æŸç§é€šä¿¡æ–¹å¼ä»¥åè°ƒä¸€è‡´ï¼Œç§°è¿™äº›ç¨‹åºå•å…ƒæ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚ ä¾‹å¦‚è´­ç‰©ç³»ç»Ÿä¸­æ›´æ–°å•†å“åº“å­˜ï¼Œéœ€è¦ç”¨ â€œè¡Œé”â€ ä½œä¸ºé€šä¿¡ä¿¡å·ï¼Œè®©ä¸åŒçš„æ›´æ–°è¯·æ±‚å¼ºåˆ¶æ’é˜Ÿé¡ºåºæ‰§è¡Œï¼Œé‚£æ›´æ–°åº“å­˜çš„æ“ä½œæ˜¯åŒæ­¥çš„ã€‚ ç®€è¨€ä¹‹ï¼ŒåŒæ­¥æ„å‘³ç€æœ‰åºã€‚</p></li><li><p>**å¼‚æ­¥ï¼š**ä¸ºå®ŒæˆæŸä¸ªä»»åŠ¡ï¼Œä¸åŒç¨‹åºå•å…ƒä¹‹é—´è¿‡ç¨‹ä¸­æ— éœ€é€šä¿¡åè°ƒï¼Œä¹Ÿèƒ½å®Œæˆä»»åŠ¡çš„æ–¹å¼ï¼Œä¸ç›¸å…³çš„ç¨‹åºå•å…ƒä¹‹é—´å¯ä»¥æ˜¯å¼‚æ­¥çš„ã€‚ ä¾‹å¦‚ï¼Œçˆ¬è™«ä¸‹è½½ç½‘é¡µã€‚è°ƒåº¦ç¨‹åºè°ƒç”¨ä¸‹è½½ç¨‹åºåï¼Œå³å¯è°ƒåº¦å…¶ä»–ä»»åŠ¡ï¼Œè€Œæ— éœ€ä¸è¯¥ä¸‹è½½ä»»åŠ¡ä¿æŒé€šä¿¡ä»¥åè°ƒè¡Œä¸ºã€‚ä¸åŒç½‘é¡µçš„ä¸‹è½½ã€ä¿å­˜ç­‰æ“ä½œéƒ½æ˜¯æ— å…³çš„ï¼Œä¹Ÿæ— éœ€ç›¸äº’é€šçŸ¥åè°ƒã€‚è¿™äº›å¼‚æ­¥æ“ä½œçš„å®Œæˆæ—¶åˆ»å¹¶ä¸ç¡®å®šã€‚ ç®€è¨€ä¹‹ï¼Œå¼‚æ­¥æ„å‘³ç€æ— åºã€‚</p></li><li><p>**ç›®çš„ï¼š**åœ¨çˆ¬è™«ä¸­ä½¿ç”¨å¼‚æ­¥å®ç°é«˜æ€§èƒ½çš„æ•°æ®çˆ¬å–æ“ä½œã€‚</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">urls = [</span><br><span class="line">    <span class="string">&#x27;https://downsc.chinaz.net/Files/DownLoad/jianli/202102/jianli14667.rar&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;https://downsc.chinaz.net/Files/DownLoad/jianli/202102/jianli14665.rar&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;https://downsc.chinaz.net/Files/DownLoad/jianli/202102/jianli14648.rar&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_content</span>(<span class="params">url</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;æ­£åœ¨çˆ¬å–ï¼š&#x27;</span>, url)</span><br><span class="line">    <span class="comment"># getæ–¹æ³•æ˜¯ä¸€ä¸ªé˜»å¡çš„æ–¹æ³•</span></span><br><span class="line">    response = requests.get(url=url, headers=headers)</span><br><span class="line">    <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">        <span class="keyword">return</span> response.content</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_content</span>(<span class="params">content</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;å“åº”æ•°æ®çš„é•¿åº¦ä¸ºï¼š&#x27;</span>, len(content))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">    content = get_content(url)</span><br><span class="line">    parse_content(content)</span><br></pre></td></tr></table></figure><h2 id="2-å¤šçº¿ç¨‹andå¤šçº¿ç¨‹">2. å¤šçº¿ç¨‹andå¤šçº¿ç¨‹</h2><p><strong>å¼‚æ­¥çˆ¬è™«çš„æ–¹å¼ï¼š</strong></p><ul><li><strong>å¤šçº¿ç¨‹ï¼Œå¤šè¿›ç¨‹ï¼šï¼ˆä¸å»ºè®®ï¼‰</strong><ul><li>å¥½å¤„ï¼šå¯ä»¥ä¸ºç›¸å…³é˜»å¡çš„æ“ä½œå•ç‹¬å¼€å¯çº¿ç¨‹æˆ–è€…è¿›ç¨‹ï¼Œé˜»å¡æ“ä½œå°±å¯ä»¥å¼‚æ­¥æ‰§è¡Œ</li><li>å¼Šç«¯ï¼šæ— æ³•æ— é™åˆ¶çš„å¼€å¯å¤šçº¿ç¨‹æˆ–è€…å¤šè¿›ç¨‹</li></ul></li></ul><h2 id="3-çº¿ç¨‹æ± andè¿›ç¨‹æ± ">3. çº¿ç¨‹æ± andè¿›ç¨‹æ± </h2><ul><li><strong>çº¿ç¨‹æ± ã€è¿›ç¨‹æ± ï¼šï¼ˆé€‚å½“ä½¿ç”¨ï¼‰</strong><ul><li>å¥½å¤„ï¼šå¯ä»¥é™ä½ç³»ç»Ÿå¯¹è¿›ç¨‹æˆ–è€…çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯çš„ä¸€ä¸ªé¢‘ç‡ï¼Œä»è€Œå¾ˆå¥½åœ°é™ä½ç³»ç»Ÿåœ°å¼€é”€ã€‚</li><li>å¼Šç«¯ï¼šæ± ä¸­çº¿ç¨‹æˆ–è¿›ç¨‹åœ°æ•°é‡æ˜¯æœ‰ä¸Šé™çš„ã€‚</li></ul></li></ul><h2 id="4-çº¿ç¨‹æ± çš„åŸºæœ¬ä½¿ç”¨">4. çº¿ç¨‹æ± çš„åŸºæœ¬ä½¿ç”¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment">#ä½¿ç”¨å•çº¿ç¨‹ä¸²è¡Œæ–¹å¼æ‰§è¡Œ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_page</span>(<span class="params">str</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;æ­£åœ¨ä¸‹è½½ï¼š&#x27;</span>,str)</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">&#x27;ä¸‹è½½æˆåŠŸï¼š&#x27;</span>,str)</span><br><span class="line">    </span><br><span class="line">name_list = [<span class="string">&#x27;xiaozi&#x27;</span>,<span class="string">&#x27;aa&#x27;</span>,<span class="string">&#x27;bb&#x27;</span>,<span class="string">&#x27;cc&#x27;</span>]</span><br><span class="line">start_time = time.time()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(name_list)):</span><br><span class="line">    get_page(name_list[i])</span><br><span class="line">end_time = time.time()</span><br><span class="line">print(<span class="string">&#x27;%d second&#x27;</span> % (end_time-start_time))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯¼å…¥çº¿ç¨‹æ± æ¨¡å—å¯¹åº”çš„ç±»</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> multiprocessing.dummy <span class="keyword">import</span> Pool</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨çº¿ç¨‹æ± æ–¹å¼æ‰§è¡Œ</span></span><br><span class="line">start_time = time.time()</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_page</span>(<span class="params">str</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;æ­£åœ¨ä¸‹è½½ï¼š&#x27;</span>, str)</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">&#x27;ä¸‹è½½æˆåŠŸï¼š&#x27;</span>, str)</span><br><span class="line"></span><br><span class="line">name_list = [<span class="string">&#x27;xiaozi&#x27;</span>,<span class="string">&#x27;aa&#x27;</span>,<span class="string">&#x27;bb&#x27;</span>,<span class="string">&#x27;cc&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹åŒ–ä¸€ä¸ªçº¿ç¨‹æ± å¯¹è±¡</span></span><br><span class="line">pool = Pool(<span class="number">4</span>)      <span class="comment">#çº¿ç¨‹æ± å¼€è¾Ÿ4ä¸ªçº¿ç¨‹</span></span><br><span class="line"><span class="comment">#å°†åˆ—è¡¨ä¸­æ¯ä¸€ä¸ªåˆ—è¡¨å…ƒç´ ä¼ é€’ç»™get_pageè¿›è¡Œå¤„ç†</span></span><br><span class="line">pool.map(get_page, name_list)</span><br><span class="line"></span><br><span class="line">end_time = time.time()</span><br><span class="line">print(end_time - start_time)</span><br></pre></td></tr></table></figure><h2 id="5-çº¿ç¨‹æ± æ¡ˆä¾‹åº”ç”¨">5. çº¿ç¨‹æ± æ¡ˆä¾‹åº”ç”¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€æ±‚ï¼šçˆ¬å–æ¢¨è§†é¢‘è§†é¢‘æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> multiprocessing.dummy <span class="keyword">import</span> Pool</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># åŸåˆ™ï¼šçº¿ç¨‹æ± å¤„ç†çš„æ˜¯é˜»å¡ä¸”è€—æ—¶çš„æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># ç”Ÿæˆä¸€ä¸ªå­˜æ”¾è§†é¢‘çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;./video&#x27;</span>):</span><br><span class="line">        os.mkdir(<span class="string">&#x27;./video&#x27;</span>)</span><br><span class="line">        <span class="comment"># å¯¹ä¸‹è¿°urlå‘èµ·è¯·æ±‚è§£æå‡ºè§†é¢‘è¯¦æƒ…é¡µçš„urlå’Œè§†é¢‘çš„åç§°</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.pearvideo.com/category_5&#x27;</span></span><br><span class="line">    page_text = requests.get(url=url, headers=headers).text</span><br><span class="line"></span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    li_list = tree.xpath(<span class="string">&#x27;//ul[@id=&quot;listvideoListUl&quot;]/li&#x27;</span>)</span><br><span class="line">urls = []  <span class="comment"># å­˜å‚¨æ‰€æœ‰è§†é¢‘çš„é“¾æ¥å’Œæ–‡å­—</span></span><br><span class="line"><span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">    detail_url = <span class="string">&#x27;https://www.pearvideo.com/&#x27;</span> + li.xpath(<span class="string">&#x27;./div/a/@href&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    name = li.xpath(<span class="string">&#x27;./div/a/div[2]/text()&#x27;</span>)[<span class="number">0</span>] + <span class="string">&#x27;.mp4&#x27;</span></span><br><span class="line">    <span class="comment"># print(detail_url,name)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹è¯¦æƒ…é¡µçš„urlå‘èµ·è¯·æ±‚</span></span><br><span class="line">    detail_page_text = requests.get(url=detail_url, headers=headers).text</span><br><span class="line">    <span class="comment"># ä»è¯¦æƒ…é¡µä¸­è§£æå‡ºè§†é¢‘çš„åœ°å€</span></span><br><span class="line">    <span class="comment">#### è§†é¢‘çš„æ–¹æ³•åœ¨2021/02/27 ä¸å¯ä½¿ç”¨ï¼Œæ¢¨è§†é¢‘åˆæ›´æ”¹äº†é¡µé¢æºç ï¼Œmp4æ˜¯åŠ¨æ€åŠ è½½å‡ºæ¥çš„ï¼Œmp4æ–‡ä»¶ç»ajaxè¯·æ±‚å¾—åˆ°ï¼Œéœ€è¦æŠ“åŒ…ajax</span></span><br><span class="line">    <span class="comment">#### å‚è€ƒ https://www.cnblogs.com/qianhu/p/14027192.htmlçš„æ“ä½œ</span></span><br><span class="line">    detail_tree = etree.HTML(detail_page_text)</span><br><span class="line">    name = detail_tree.xpath(<span class="string">&#x27;//*[@id=&quot;detailsbd&quot;]/div[1]/div[2]/div/div[1]/h1/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    str_ = str(li.xpath(<span class="string">&#x27;./div/a/@href&#x27;</span>)[<span class="number">0</span>]).split(<span class="string">&#x27;_&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">    ajax_url = <span class="string">&#x27;https://www.pearvideo.com/videoStatus.jsp?&#x27;</span></span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;contId&#x27;</span>: str_,</span><br><span class="line">        <span class="string">&#x27;mrd&#x27;</span>: str(random.random())</span><br><span class="line">    &#125;</span><br><span class="line">    ajax_headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://www.pearvideo.com/video_&#x27;</span> + str_</span><br><span class="line">    &#125;</span><br><span class="line">    dic_obj = requests.get(url=ajax_url, params=params, headers=ajax_headers).json()</span><br><span class="line">    video_url = dic_obj[<span class="string">&quot;videoInfo&quot;</span>][<span class="string">&#x27;videos&#x27;</span>][<span class="string">&quot;srcUrl&quot;</span>]</span><br><span class="line"></span><br><span class="line">    video_true_url = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    s_list = str(video_url).split(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(s_list)):</span><br><span class="line">        <span class="keyword">if</span> i &lt; len(s_list) - <span class="number">1</span>:</span><br><span class="line">            video_true_url += s_list[i] + <span class="string">&#x27;/&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ss_list = s_list[i].split(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, len(ss_list)):</span><br><span class="line">                <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">                    video_true_url += <span class="string">&#x27;cont-&#x27;</span> + str_ + <span class="string">&#x27;-&#x27;</span></span><br><span class="line">                <span class="keyword">elif</span> j == len(ss_list) - <span class="number">1</span>:</span><br><span class="line">                    video_true_url += ss_list[j]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    video_true_url += ss_list[j] + <span class="string">&#x27;-&#x27;</span></span><br><span class="line">    dic = &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>: name,</span><br><span class="line">        <span class="string">&#x27;url&#x27;</span>: video_true_url</span><br><span class="line">    &#125;</span><br><span class="line">    urls.append(dic)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_data</span>(<span class="params">dic</span>):</span></span><br><span class="line">    urll = dic[<span class="string">&#x27;url&#x27;</span>]</span><br><span class="line">    data = requests.get(url=urll, headers=headers).content</span><br><span class="line">    path = <span class="string">&#x27;./video/&#x27;</span> + dic[<span class="string">&#x27;name&#x27;</span>] + <span class="string">&#x27;.mp4&#x27;</span></span><br><span class="line">    print(dic[<span class="string">&#x27;name&#x27;</span>], <span class="string">&#x27;æ­£åœ¨ä¸‹è½½.......&#x27;</span>)</span><br><span class="line">    <span class="comment"># æŒä¹…åŒ–å­˜å‚¨æ“ä½œ</span></span><br><span class="line">    <span class="keyword">with</span> open(path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(data)</span><br><span class="line">        print(dic[<span class="string">&#x27;name&#x27;</span>]+ <span class="string">&#x27;.mp4&#x27;</span>, <span class="string">&#x27;ä¸‹è½½æˆåŠŸï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨çº¿ç¨‹æ± å¯¹è§†é¢‘æ•°æ®è¿›è¡Œè¯·æ±‚ï¼ˆè¾ƒä¸ºè€—æ—¶çš„é˜»å¡æ“ä½œï¼‰</span></span><br><span class="line">pool = Pool(<span class="number">4</span>)</span><br><span class="line">pool.map(get_video_data, urls)</span><br><span class="line"></span><br><span class="line">pool.close()</span><br><span class="line">pool.join()</span><br></pre></td></tr></table></figure><h2 id="6-åç¨‹ç›¸å…³æ¦‚å¿µå›é¡¾">6. åç¨‹ç›¸å…³æ¦‚å¿µå›é¡¾</h2><ul><li><p>**åç¨‹ï¼š**è‹±æ–‡å«åš Coroutineï¼Œåˆç§°å¾®çº¿ç¨‹ï¼Œçº¤ç¨‹ï¼Œåç¨‹æ˜¯ä¸€ç§ç”¨æˆ·æ€çš„è½»é‡çº§çº¿ç¨‹ã€‚ åç¨‹æ‹¥æœ‰è‡ªå·±çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆã€‚åç¨‹è°ƒåº¦åˆ‡æ¢æ—¶ï¼Œå°†å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆä¿å­˜åˆ°å…¶ä»–åœ°æ–¹ï¼Œåœ¨åˆ‡å›æ¥çš„æ—¶å€™ï¼Œæ¢å¤å…ˆå‰ä¿å­˜çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆã€‚å› æ­¤åç¨‹èƒ½ä¿ç•™ä¸Šä¸€æ¬¡è°ƒç”¨æ—¶çš„çŠ¶æ€ï¼Œå³æ‰€æœ‰å±€éƒ¨çŠ¶æ€çš„ä¸€ä¸ªç‰¹å®šç»„åˆï¼Œæ¯æ¬¡è¿‡ç¨‹é‡å…¥æ—¶ï¼Œå°±ç›¸å½“äºè¿›å…¥ä¸Šä¸€æ¬¡è°ƒç”¨çš„çŠ¶æ€ã€‚ åç¨‹æœ¬è´¨ä¸Šæ˜¯ä¸ªå•è¿›ç¨‹ï¼Œåç¨‹ç›¸å¯¹äºå¤šè¿›ç¨‹æ¥è¯´ï¼Œæ— éœ€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ï¼Œæ— éœ€åŸå­æ“ä½œé”å®šåŠåŒæ­¥çš„å¼€é”€ï¼Œç¼–ç¨‹æ¨¡å‹ä¹Ÿéå¸¸ç®€å•ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åç¨‹æ¥å®ç°å¼‚æ­¥æ“ä½œï¼Œæ¯”å¦‚åœ¨ç½‘ç»œçˆ¬è™«åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å‘å‡ºä¸€ä¸ªè¯·æ±‚ä¹‹åï¼Œéœ€è¦ç­‰å¾…ä¸€å®šçš„æ—¶é—´æ‰èƒ½å¾—åˆ°å“åº”ï¼Œä½†å…¶å®åœ¨è¿™ä¸ªç­‰å¾…è¿‡ç¨‹ä¸­ï¼Œç¨‹åºå¯ä»¥å¹²è®¸å¤šå…¶ä»–çš„äº‹æƒ…ï¼Œç­‰åˆ°å“åº”å¾—åˆ°ä¹‹åæ‰åˆ‡æ¢å›æ¥ç»§ç»­å¤„ç†ï¼Œè¿™æ ·å¯ä»¥å……åˆ†åˆ©ç”¨ CPU å’Œå…¶ä»–èµ„æºï¼Œè¿™å°±æ˜¯å¼‚æ­¥åç¨‹çš„ä¼˜åŠ¿ã€‚</p></li><li><p><strong>å•çº¿ç¨‹+å¼‚æ­¥åç¨‹ï¼šï¼ˆæ¨èï¼‰</strong></p><ul><li><code>event_loopï¼š</code>äº‹ä»¶å¾ªç¯ï¼Œç›¸å½“äºä¸€ä¸ªæ— é™å¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›å‡½æ•°æ³¨å†Œåˆ°è¿™ä¸ªäº‹ä»¶å¾ªç¯ä¸Šï¼Œå½“æ»¡è¶³æŸäº›æ¡ä»¶çš„æ—¶å€™ï¼Œå‡½æ•°å°±ä¼šè¢«å¾ªç¯æ‰§è¡Œã€‚</li><li><code>coroutineï¼š</code>åç¨‹å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†åç¨‹å¯¹è±¡æ³¨å†Œåˆ°äº‹ä»¶å¾ªç¯ä¸­ï¼Œå®ƒä¼šè¢«äº‹ä»¶å¾ªç¯è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ async å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨è°ƒç”¨æ—¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªåç¨‹å¯¹è±¡ã€‚</li><li><code>taskï¼š</code>ä»»åŠ¡ï¼Œä»–æ˜¯å¯¹åç¨‹å¯¹è±¡çš„è¿›ä¸€æ­¥å°è£…ï¼ŒåŒ…å«äº†ä»»åŠ¡çš„å„ä¸ªçŠ¶æ€ã€‚</li><li><code>futureï¼š</code>ä»£è¡¨å°†æ¥æ‰§è¡Œæˆ–è¿˜æ²¡æœ‰æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå®é™…ä¸Šå’Œ task æ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚</li><li><code>asyncï¼š</code>å®šä¹‰ä¸€ä¸ªåç¨‹ã€‚</li><li><code>awaitï¼š</code>ç”¨æ¥æŒ‚èµ·é˜»å¡æ–¹æ³•çš„æ‰§è¡Œã€‚</li></ul></li></ul><h2 id="7-åç¨‹ç›¸å…³æ“ä½œå›é¡¾">7. åç¨‹ç›¸å…³æ“ä½œå›é¡¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">request</span>(<span class="params">url</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;æ­£åœ¨è¯·æ±‚çš„urlæ˜¯&#x27;</span>,url)</span><br><span class="line">    print(<span class="string">&#x27;è¯·æ±‚æˆåŠŸ,&#x27;</span>,url)</span><br><span class="line">    <span class="keyword">return</span> url</span><br><span class="line"><span class="comment">#asyncioä¿®é¥°çš„å‡½æ•°ï¼Œè°ƒç”¨ä¹‹åè¿”å›çš„ä¸€ä¸ªåç¨‹å¯¹è±¡</span></span><br><span class="line">c = request(<span class="string">&#x27;www.baidu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># #åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¾ªç¯å¯¹è±¡</span></span><br><span class="line"><span class="comment"># loop = asyncio.get_event_loop()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># #å°†åç¨‹å¯¹è±¡æ³¨å†Œåˆ°loopä¸­ï¼Œç„¶åå¯åŠ¨loop</span></span><br><span class="line"><span class="comment"># loop.run_until_complete(c)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># #taskçš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># loop = asyncio.get_event_loop()</span></span><br><span class="line"><span class="comment"># #åŸºäºloopåˆ›å»ºä¸€ä¸ªtaskä»»åŠ¡å¯¹è±¡</span></span><br><span class="line"><span class="comment"># task = loop.create_task(c)</span></span><br><span class="line"><span class="comment"># print(task)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># loop.run_until_complete(task)</span></span><br><span class="line"><span class="comment"># print(task)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># #futureçš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># loop = asyncio.get_event_loop()</span></span><br><span class="line"><span class="comment"># task = asyncio.ensure_future(c)</span></span><br><span class="line"><span class="comment"># loop.run_until_complete(task)</span></span><br><span class="line"><span class="comment"># print(task)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">callback_func</span>(<span class="params">task</span>):</span></span><br><span class="line">    <span class="comment">#resultè¿”å›çš„å°±æ˜¯ä»»åŠ¡å¯¹è±¡ä¸­å°è£…çš„åç¨‹å¯¹è±¡å¯¹åº”å‡½æ•°çš„è¿”å›å€¼</span></span><br><span class="line">    print(task.result())</span><br><span class="line"><span class="comment">#ç»‘å®šå›è°ƒ</span></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">task = asyncio.ensure_future(c)</span><br><span class="line"><span class="comment">#å°†å›è°ƒå‡½æ•°ç»‘å®šåˆ°ä»»åŠ¡å¯¹è±¡ä¸­</span></span><br><span class="line">task.add_done_callback(callback_func)</span><br><span class="line">loop.run_until_complete(task)</span><br></pre></td></tr></table></figure><h2 id="8-å¤šä»»åŠ¡å¼‚æ­¥åç¨‹å®ç°">8. å¤šä»»åŠ¡å¼‚æ­¥åç¨‹å®ç°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">request</span>(<span class="params">url</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;æ­£åœ¨ä¸‹è½½&#x27;</span>,url)</span><br><span class="line">    <span class="comment">#åœ¨å¼‚æ­¥åç¨‹ä¸­å¦‚æœå‡ºç°äº†åŒæ­¥æ¨¡å—ç›¸å…³çš„ä»£ç ï¼Œé‚£ä¹ˆå°±æ— æ³•å®ç°å¼‚æ­¥</span></span><br><span class="line">    <span class="comment">#time.sleep(2)</span></span><br><span class="line">    <span class="comment">#å½“asyncioä¸­é‡åˆ°é˜»å¡æ“ä½œï¼Œå¿…é¡»æ‰‹åŠ¨æŒ‚èµ·</span></span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">&#x27;ä¸‹è½½å®Œæ¯•&#x27;</span>,url)</span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line">urls =[</span><br><span class="line">    <span class="string">&#x27;www.baidu.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;www.sougou.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;www.goubanjia.com&#x27;</span></span><br><span class="line">]</span><br><span class="line"><span class="comment">#ä»»åŠ¡åˆ—è¡¨ï¼šå­˜æ”¾å¤šä¸ªä»»åŠ¡å¯¹è±¡</span></span><br><span class="line">stasks = []</span><br><span class="line"><span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">    c = request(url)</span><br><span class="line">    task = asyncio.ensure_future(c)</span><br><span class="line">    stasks.append(task)</span><br><span class="line"></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line"><span class="comment">#éœ€è¦å°†ä»»åŠ¡åˆ—è¡¨å°è£…åˆ°waitä¸­</span></span><br><span class="line">loop.run_until_complete(asyncio.wait(stasks))</span><br><span class="line"></span><br><span class="line">print(time.time()-start)</span><br></pre></td></tr></table></figure><h2 id="9-aiohttp-æ¨¡å—å¼•å‡º">9. aiohttp æ¨¡å—å¼•å‡º</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">######æœªèƒ½å®ç°å¼‚æ­¥è¿›ç¨‹ï¼Œè¿˜æ˜¯åŒæ­¥æ“ä½œ</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line">urls = [</span><br><span class="line">    <span class="string">&#x27;http://127.0.0.1:1080/bobo&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;http://127.0.0.1:1080/jay&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;http://127.0.0.1:1080/tom&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">get_page</span>(<span class="params">url</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;æ­£åœ¨ä¸‹è½½&#x27;</span>, url)</span><br><span class="line">    <span class="comment">#requestsæ¨¡å—å‘èµ·çš„è¯·æ±‚æ˜¯åŸºäºåŒæ­¥çš„ï¼Œä¸èƒ½åœ¨å¼‚æ­¥æ¨¡å—ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šä¸­æ–­å¼‚æ­¥æ“ä½œï¼Œå¿…é¡»ä½¿ç”¨åŸºäºå¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚æ¨¡å—è¿›è¡Œurlçš„è¯·æ±‚å‘é€</span></span><br><span class="line">    <span class="comment">#aiphttpæ¨¡å—å¼•å…¥</span></span><br><span class="line">    response = requests.get(url = url)</span><br><span class="line">    print(<span class="string">&#x27;ä¸‹è½½å®Œæ¯•&#x27;</span>, response.text)</span><br><span class="line"></span><br><span class="line">tasks = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">    c = get_page(url)</span><br><span class="line">    task = asyncio.ensure_future(c)</span><br><span class="line">    tasks.append(task)</span><br><span class="line"></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">loop.run_until_complete(asyncio.wait(tasks))</span><br><span class="line"></span><br><span class="line">end = time.time()</span><br><span class="line">print(<span class="string">&#x27;æ€»è€—æ—¶ï¼š&#x27;</span>, end-start)</span><br></pre></td></tr></table></figure><h2 id="10-aiohttp-å¤šä»»åŠ¡å¼‚æ­¥åç¨‹å®ç°å¼‚æ­¥çˆ¬è™«">10. aiohttp + å¤šä»»åŠ¡å¼‚æ­¥åç¨‹å®ç°å¼‚æ­¥çˆ¬è™«</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¯å¢ƒçš„å®‰è£…    pip install aiohttp</span></span><br><span class="line"><span class="comment">#ä½¿ç”¨aiohttpæ¨¡å—ä¸­çš„ClientSession</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> aiohttp</span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line">urls = [</span><br><span class="line">    <span class="string">&#x27;http://www.baidu.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;http://www.sougou.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;http://www.taobao.com&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">get_page</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> aiohttp.ClientSession() <span class="keyword">as</span> session:</span><br><span class="line">        <span class="comment">#get()ã€post():</span></span><br><span class="line">        <span class="comment">#headers,params/data,proxy=&#x27;http://ip:port&#x27;</span></span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">with</span> <span class="keyword">await</span> session.get(url) <span class="keyword">as</span> response:</span><br><span class="line">            <span class="comment">#text()è¿”å›çš„æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®</span></span><br><span class="line">            <span class="comment">#read()è¿”å›çš„æ˜¯äºŒè¿›åˆ¶å½¢å¼çš„å“åº”æ•°æ®</span></span><br><span class="line">            <span class="comment">#json()è¿”å›çš„æ˜¯jsonå¯¹è±¡</span></span><br><span class="line">            <span class="comment">#æ³¨æ„ï¼šåœ¨è·å–å“åº”æ•°æ®æ“ä½œä¹‹å‰ï¼Œä¸€å®šè¦ä½¿ç”¨awaitæ‰‹åŠ¨æŒ‚èµ·</span></span><br><span class="line">            page_text = <span class="keyword">await</span> response.text()</span><br><span class="line">            <span class="comment">#print(page_text)</span></span><br><span class="line"></span><br><span class="line">tasks = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">    c = get_page(url)</span><br><span class="line">    task = asyncio.ensure_future(c)</span><br><span class="line">    tasks.append(task)</span><br><span class="line"></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">loop.run_until_complete(asyncio.wait(tasks))</span><br><span class="line"></span><br><span class="line">end = time.time()</span><br><span class="line">print(<span class="string">&#x27;æ€»è€—æ—¶ï¼š&#x27;</span>, end-start)</span><br></pre></td></tr></table></figure><hr><h1>ä¸ƒã€åŠ¨æ€åŠ è½½æ•°æ®å¤„ç†</h1><h2 id="1-seleniumç®€ä»‹">1. seleniumç®€ä»‹</h2><ul><li><p><strong>é—®é¢˜ï¼š</strong><code>selenium</code>æ¨¡å—å’Œçˆ¬è™«ä¹‹é—´å…·æœ‰æ€æ ·çš„å…³è”ï¼Ÿ</p><ul><li>ä¾¿æ·åœ°è·å–ç½‘ç«™ä¸­åŠ¨æ€åŠ è½½çš„æ•°æ®</li></ul></li><li><p>ä¾¿æ·å®ç°æ¨¡æ‹Ÿç™»å½•</p></li><li><p><strong>ä»€ä¹ˆæ˜¯<code>selenium</code>æ¨¡å—ï¼Ÿ</strong></p><p>åŸºäºæµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ä¸€ä¸ªæ¨¡å—ã€‚</p></li></ul><h2 id="2-seleniumåˆè¯•">2. seleniumåˆè¯•</h2><p><strong>seleniumä½¿ç”¨æµç¨‹ï¼š</strong></p><ul><li>ç¯å¢ƒå®‰è£…ï¼š<code>pip install selenium</code></li><li>ä¸‹è½½ä¸€ä¸ªå¯¹åº”æµè§ˆå™¨çš„é©±åŠ¨ç¨‹åºï¼ˆä»¥è°·æ­Œæµè§ˆå™¨ä¸ºä¾‹ï¼‰<ul><li>ä¸‹è½½è·¯å¾„ï¼š<a href="http://npm.taobao.org/mirrors/chromedriver/%E6%88%96%E8%80%85http://chromedriver.storage.googleapis.com/index.html">http://npm.taobao.org/mirrors/chromedriver/æˆ–è€…http://chromedriver.storage.googleapis.com/index.html</a></li><li>é©±åŠ¨ç¨‹åºå’Œæµè§ˆå™¨çš„æ˜ å°„å…³ç³»ï¼š<a href="http://blog.csdn.net/huilan_same/article/details/51896672">http://blog.csdn.net/huilan_same/article/details/51896672</a></li><li>å®ä¾‹åŒ–ä¸€ä¸ªæµè§ˆå™¨å¯¹è±¡</li><li>ç¼–å†™åŸºäºæµè§ˆå™¨è‡ªåŠ¨åŒ–çš„æ“ä½œä»£ç <ul><li>å‘èµ·è¯·æ±‚ï¼š<code>get(url)</code></li><li>æ ‡ç­¾å®šä½ï¼š<code>findç³»åˆ—æ–¹æ³•</code></li><li>æ ‡ç­¾äº¤äº’ï¼š<code>send_keys('xxxxxx')</code></li><li>æ‰§è¡Œjsç¨‹åºï¼š<code>excute_script('jsCode')</code></li><li>å‰è¿›ã€åé€€ï¼š<code>forward( )ã€back( )</code></li><li>å…³é—­æµè§ˆå™¨ï¼š<code>quit( )</code></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># seleniumæ“çºµæµè§ˆå™¨</span></span><br><span class="line"><span class="comment">#### Tipï¼šä½œè€…Chromeæ˜¯88ç‰ˆæœ¬ï¼Œç›´æ¥ä¸‹è½½88çš„chromedriveræˆåŠŸè¿è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="comment"># å®ä¾‹åŒ–ä¸€ä¸ªæµè§ˆå™¨å¯¹è±¡ï¼ˆä¼ å…¥æµè§ˆå™¨çš„é©±åŠ¨ç¨‹åºï¼‰</span></span><br><span class="line">bro = webdriver.Chrome(executable_path=<span class="string">&#x27;./chromedriver.exe&#x27;</span>)</span><br><span class="line"><span class="comment"># è®©æµè§ˆå™¨å‘èµ·ä¸€ä¸ªæŒ‡å®šçš„urlå¯¹åº”è¯·æ±‚</span></span><br><span class="line">bro.get(<span class="string">&#x27;http://scxk.nmpa.gov.cn:81/xk/&#x27;</span>)     </span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æµè§ˆå™¨å½“å‰é¡µé¢çš„é¡µé¢æºç æ•°æ®</span></span><br><span class="line">page_text = bro.page_source</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£æä¼ä¸šåç§°</span></span><br><span class="line">tree = etree.HTML(page_text)</span><br><span class="line">li_list = tree.xpath(<span class="string">&#x27;//ul[@id=&quot;gzlist&quot;]/li&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">    name = li.xpath(<span class="string">&#x27;./dl/@title&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    print(name)</span><br><span class="line">sleep(<span class="number">5</span>)</span><br><span class="line">bro.quit()</span><br></pre></td></tr></table></figure><h2 id="3-seleniumå…¶ä»–è‡ªåŠ¨åŒ–æ“ä½œ">3. seleniumå…¶ä»–è‡ªåŠ¨åŒ–æ“ä½œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line">bro = webdriver.Chrome(executable_path=<span class="string">&#x27;./chromedriver.exe&#x27;</span>)</span><br><span class="line">bro.get(<span class="string">&#x27;https://www.taobao.com/&#x27;</span>)</span><br><span class="line"><span class="comment"># æ ‡ç­¾å®šä½</span></span><br><span class="line">search_input = bro.find_element_by_id(<span class="string">&#x27;q&#x27;</span>)</span><br><span class="line"><span class="comment"># æ ‡ç­¾çš„äº¤äº’</span></span><br><span class="line">search_input.send_keys(<span class="string">&#x27;iphone&#x27;</span>)</span><br><span class="line"><span class="comment"># æ‰§è¡Œä¸€ç»„jsç¨‹åº   ç›¸å½“äºF12--Consoleæ‰§è¡Œjsä»£ç </span></span><br><span class="line">bro.execute_script(<span class="string">&#x27;window.scrollTo(0,document.body.scrollHeight)&#x27;</span>)</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># ç‚¹å‡»æœç´¢æŒ‰é’®</span></span><br><span class="line">btn = bro.find_element_by_css_selector(<span class="string">&#x27;.btn-search&#x27;</span>)</span><br><span class="line">btn.click()</span><br><span class="line"></span><br><span class="line">bro.get(<span class="string">&#x27;https://baidu.com/&#x27;</span>)</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># å›é€€</span></span><br><span class="line">bro.back()</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># å‰è¿›</span></span><br><span class="line">bro.forward()</span><br><span class="line"></span><br><span class="line">sleep(<span class="number">5</span>)</span><br><span class="line">bro.quit()</span><br></pre></td></tr></table></figure><h2 id="4-iframe-å¤„ç†-åŠ¨ä½œé“¾">4. iframe å¤„ç†+åŠ¨ä½œé“¾</h2><p><code>**selenium</code>å¤„ç†<code>iframe</code>ï¼š**</p><ul><li>å¦‚æœå®šä½çš„æ ‡ç­¾å­˜åœ¨äºiframeæ ‡ç­¾ä¹‹ä¸­ï¼Œåˆ™å¿…é¡»ä½¿ç”¨<code>switch_to.frame(id)</code></li><li>åŠ¨ä½œé“¾ï¼ˆæ‹–åŠ¨ï¼‰ï¼š<code>from selenium.webdriver import ActionChains</code><ul><li>å®ä¾‹åŒ–ä¸€ä¸ªåŠ¨ä½œé“¾å¯¹è±¡ï¼š<code>action = ActionChains(bro)</code></li><li><code>click_and_hold(div)</code>ï¼šé•¿æŒ‰ä¸”ç‚¹å‡»</li><li><code>move_by_offset(x,y)</code></li><li><code>perform( )</code>ï¼šè®©åŠ¨ä½œé“¾ç«‹å³æ‰§è¡Œ</li><li><code>action.release( )</code>ï¼šé‡Šæ”¾åŠ¨ä½œé“¾å¯¹è±¡</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="comment"># å¯¼å…¥åŠ¨ä½œé“¾å¯¹åº”çš„ç±»</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"></span><br><span class="line">bro = webdriver.Chrome(executable_path=<span class="string">&#x27;./chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line">bro.get(<span class="string">&#x27;https://www.runoob.com/try/try.php?filename=jqueryui-example-droppable&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœå®šä½çš„æ ‡ç­¾æ˜¯å­˜åœ¨ä¸iframeæ ‡ç­¾ä¹‹ä¸­çš„ï¼Œç›´æ¥é€šè¿‡findæ–¹å¼ä¼šæŠ¥é”™ï¼Œåˆ™å¿…é¡»é€šè¿‡å¦å¤–çš„æ“ä½œæ¥è¿›è¡Œæ ‡ç­¾å®šä½</span></span><br><span class="line">bro.switch_to.frame(<span class="string">&#x27;iframeResult&#x27;</span>)     <span class="comment">#åˆ‡æ¢æµè§ˆå™¨æ ‡ç­¾å®šä½çš„ä½œç”¨åŸŸ</span></span><br><span class="line">div = bro.find_element_by_id(<span class="string">&#x27;draggable&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ¨ä½œé“¾</span></span><br><span class="line">action = ActionChains(bro)      <span class="comment">#å®ä¾‹åŒ–åŠ¨ä½œé“¾å¯¹è±¡</span></span><br><span class="line"><span class="comment"># ç‚¹å‡»å¹¶ä¸”é•¿æŒ‰æŒ‡å®šçš„æ ‡ç­¾</span></span><br><span class="line">action.click_and_hold(div)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">    <span class="comment">#perform è¡¨ç¤ºç«‹å³æ‰§è¡ŒåŠ¨ä½œé“¾æ“ä½œ</span></span><br><span class="line">    <span class="comment">#move_by_offset(x,y)   xè¡¨ç¤ºæ°´å¹³æ–¹å‘ï¼Œyè¡¨ç¤ºç«–ç›´æ–¹å‘</span></span><br><span class="line">    action.move_by_offset(<span class="number">11</span>, <span class="number">0</span>).perform()</span><br><span class="line">    sleep(<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡Šæ”¾åŠ¨ä½œé“¾</span></span><br><span class="line">action.release()</span><br><span class="line"></span><br><span class="line">bro.quit()</span><br></pre></td></tr></table></figure><h2 id="5-seleniumæ¨¡æ‹Ÿç™»å½•QQç©ºé—´">5. seleniumæ¨¡æ‹Ÿç™»å½•QQç©ºé—´</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ¨¡æ‹Ÿç™»å½•QQç©ºé—´ï¼Œè¿è¡Œå‰éœ€è¦å°†ä»£ç ä¸­â€œQQå·ç â€å’Œâ€œQQå¯†ç â€æ”¹å†™</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line">bro = webdriver.Chrome(executable_path=<span class="string">&#x27;./chromedriver.exe&#x27;</span>)</span><br><span class="line">bro.get(<span class="string">&#x27;https://qzone.qq.com/&#x27;</span>)</span><br><span class="line">bro.switch_to.frame(<span class="string">&#x27;login_frame&#x27;</span>)</span><br><span class="line"></span><br><span class="line">a_tag = bro.find_element_by_id(<span class="string">&#x27;switcher_plogin&#x27;</span>)</span><br><span class="line">a_tag.click()</span><br><span class="line"></span><br><span class="line">userName_tag = bro.find_element_by_id(<span class="string">&#x27;u&#x27;</span>)</span><br><span class="line">password_tag = bro.find_element_by_id(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">sleep(<span class="number">1</span>)</span><br><span class="line">userName_tag.send_keys(<span class="string">&#x27;QQå·ç &#x27;</span>)</span><br><span class="line">password_tag.send_keys(<span class="string">&#x27;QQå¯†ç &#x27;</span>)</span><br><span class="line">sleep(<span class="number">1</span>)</span><br><span class="line">btn = bro.find_element_by_id(<span class="string">&#x27;login_button&#x27;</span>)</span><br><span class="line">btn.click()</span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">bro.quit()</span><br></pre></td></tr></table></figure><h2 id="6-æ— å¤´æµè§ˆå™¨-è§„é¿æ“ä½œ">6. æ— å¤´æµè§ˆå™¨+è§„é¿æ“ä½œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="comment">#å®ç°æ— å¯è§†åŒ–ç•Œé¢</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line"><span class="comment">#å®ç°è§„é¿æ£€æµ‹</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ChromeOptions</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ç°æ— å¯è§†åŒ–ç•Œé¢çš„æ“ä½œ</span></span><br><span class="line">chrome_options = Options()</span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;--headless&#x27;</span>)</span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;--disable-gpu&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ç°è§„é¿æ£€æµ‹</span></span><br><span class="line">option = ChromeOptions()</span><br><span class="line">option.add_experimental_option(<span class="string">&#x27;excludeSwitches&#x27;</span>, [<span class="string">&#x27;enable-automation&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚ä½•å®ç°è®©seleniumè§„é¿è¢«æ£€æµ‹åˆ°çš„é£é™©</span></span><br><span class="line">bro = webdriver.Chrome(executable_path=<span class="string">&#x27;./chromedriver.exe&#x27;</span>, chrome_options=chrome_options,options=option)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ— å¯è§†åŒ–ç•Œé¢ï¼ˆæ— å¤´æµè§ˆå™¨ï¼‰ phantomJs</span></span><br><span class="line">bro.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(bro.page_source)</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line">bro.quit()</span><br></pre></td></tr></table></figure><h2 id="7-è¶…çº§é¹°çš„åŸºæœ¬ä½¿ç”¨">7. è¶…çº§é¹°çš„åŸºæœ¬ä½¿ç”¨</h2><p>**è¶…çº§é¹°ï¼š**<a href="https://www.chaojiying.com/about.html">https://www.chaojiying.com/about.html</a></p><ul><li>æ³¨å†Œï¼šæ™®é€šç”¨æˆ·</li><li>ç™»å½•ï¼šæ™®é€šç”¨æˆ·</li><li>é¢˜åˆ†æŸ¥è¯¢ï¼šå……å€¼</li><li>è½¯ä»¶IDâ€”â€”åˆ›å»ºä¸€ä¸ªè½¯ä»¶ID</li><li>ä¸‹è½½ç¤ºä¾‹ä»£ç </li></ul><h2 id="8-12306æ¨¡æ‹Ÿç™»å½•">8. 12306æ¨¡æ‹Ÿç™»å½•</h2><p><strong>ç¼–ç æµç¨‹ï¼š</strong></p><ul><li>ä½¿ç”¨<code>selenium</code>æ‰“å¼€ç™»å½•ç•Œé¢</li><li>å¯¹å½“å‰<code>selenium</code>æ‰“å¼€çš„è¿™å¼ ç•Œé¢è¿›è¡Œæˆªå›¾</li><li>å¯¹æˆªå–çš„å›¾ç‰‡è¿›è¡Œå±€éƒ¨åŒºåŸŸï¼ˆéªŒè¯ç å›¾ç‰‡ï¼‰çš„è£å‰ª<ul><li>å¥½å¤„ï¼šå°†éªŒè¯ç å›¾ç‰‡å’Œæ¨¡æ‹Ÿç™»å½•è¿›è¡Œä¸€ä¸€å¯¹åº”</li></ul></li><li>ä½¿ç”¨è¶…çº§é¹°è¯†åˆ«éªŒè¯ç å›¾ç‰‡ï¼ˆåæ ‡ï¼‰</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"></span><br><span class="line"><span class="comment">########ä¸‹è¿°ä¸ºè¶…çº§é¹°ç¤ºä¾‹ä»£ç </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chaojiying_Client</span>(<span class="params">object</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, username, password, soft_id</span>):</span></span><br><span class="line">        self.username = username</span><br><span class="line">        password =  password.encode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">        self.password = md5(password).hexdigest()</span><br><span class="line">        self.soft_id = soft_id</span><br><span class="line">        self.base_params = &#123;</span><br><span class="line">            <span class="string">&#x27;user&#x27;</span>: self.username,</span><br><span class="line">            <span class="string">&#x27;pass2&#x27;</span>: self.password,</span><br><span class="line">            <span class="string">&#x27;softid&#x27;</span>: self.soft_id,</span><br><span class="line">        &#125;</span><br><span class="line">        self.headers = &#123;</span><br><span class="line">            <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;Keep-Alive&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0)&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PostPic</span>(<span class="params">self, im, codetype</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        im: å›¾ç‰‡å­—èŠ‚</span></span><br><span class="line"><span class="string">        codetype: é¢˜ç›®ç±»å‹ å‚è€ƒ http://www.chaojiying.com/price.html</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">&#x27;codetype&#x27;</span>: codetype,</span><br><span class="line">        &#125;</span><br><span class="line">        params.update(self.base_params)</span><br><span class="line">        files = &#123;<span class="string">&#x27;userfile&#x27;</span>: (<span class="string">&#x27;ccc.jpg&#x27;</span>, im)&#125;</span><br><span class="line">        r = requests.post(<span class="string">&#x27;http://upload.chaojiying.net/Upload/Processing.php&#x27;</span>, data=params, files=files, headers=self.headers)</span><br><span class="line">        <span class="keyword">return</span> r.json()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ReportError</span>(<span class="params">self, im_id</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        im_id:æŠ¥é”™é¢˜ç›®çš„å›¾ç‰‡ID</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">&#x27;id&#x27;</span>: im_id,</span><br><span class="line">        &#125;</span><br><span class="line">        params.update(self.base_params)</span><br><span class="line">        r = requests.post(<span class="string">&#x27;http://upload.chaojiying.net/Upload/ReportError.php&#x27;</span>, data=params, headers=self.headers)</span><br><span class="line">        <span class="keyword">return</span> r.json()</span><br><span class="line"></span><br><span class="line"><span class="comment">############ä¸Šè¿°ä¸ºè¶…çº§é¹°çš„ç¤ºä¾‹ä»£ç </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨seleniumæ‰“å¼€ç™»å½•é¡µé¢</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bro = webdriver.Chrome(executable_path=<span class="string">&#x27;./chromedriver.exe&#x27;</span>)</span><br><span class="line">bro.execute_cdp_cmd(<span class="string">&quot;Page.addScriptToEvaluateOnNewDocument&quot;</span>, &#123;</span><br><span class="line">  <span class="string">&quot;source&quot;</span>: <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Object.defineProperty(navigator, &#x27;webdriver&#x27;, &#123;</span></span><br><span class="line"><span class="string">      get: () =&gt; undefined</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># bro.execute_script(script)</span></span><br><span class="line">bro.get(<span class="string">&#x27;https://kyfw.12306.cn/otn/resources/login.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æœ€å¤§åŒ–æµè§ˆå™¨çª—å£</span></span><br><span class="line">bro.maximize_window()</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆç‚¹å‡»é€‰æ‹©  è´¦å·ç™»å½•</span></span><br><span class="line">zhanghao_tag = bro.find_element_by_class_name(<span class="string">&#x27;login-hd-account&#x27;</span>)</span><br><span class="line">zhanghao_tag.click()</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># save_screenshotå°±æ˜¯å°†å½“å‰é¡µé¢è¿›è¡Œæˆªå›¾ä¸”ä¿å­˜</span></span><br><span class="line">bro.save_screenshot(<span class="string">&#x27;aa.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¡®å®šéªŒè¯ç å›¾ç‰‡å¯¹åº”çš„å·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„åæ ‡ï¼ˆè£å‰ªçš„åŒºåŸŸå°±ç¡®å®šï¼‰</span></span><br><span class="line">code_img_ele = bro.find_element_by_class_name(<span class="string">&#x27;touclick-wrapper&#x27;</span>)</span><br><span class="line">location = code_img_ele.location  <span class="comment"># éªŒè¯ç å›¾ç‰‡å·¦ä¸Šè§’çš„åæ ‡ x,y</span></span><br><span class="line">print(<span class="string">&#x27;location:&#x27;</span>, location)</span><br><span class="line">size = code_img_ele.size  <span class="comment">#éªŒè¯ç æ ‡ç­¾å¯¹åº”çš„é•¿å’Œå®½</span></span><br><span class="line">print(<span class="string">&#x27;size:&#x27;</span>, size)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å·¦ä¸Šè§’å’Œå³ä¸‹è§’åæ ‡  #æ­¤å¤„ *1.25 åŸå› æ˜¯ä½œè€…windowç”µè„‘é»˜è®¤æ˜¾ç¤ºå¸ƒå±€ä¸º125%ï¼ˆç”µè„‘è®¾ç½®--æ˜¾ç¤º--ç¼©æ”¾ä¸å¸ƒå±€ï¼‰ï¼Œä¸ä¹˜1.25å–ä¸åˆ°å›¾ç‰‡æ­£ç¡®ä½ç½®</span></span><br><span class="line">rangle = (location[<span class="string">&#x27;x&#x27;</span>]*<span class="number">1.25</span>, location[<span class="string">&#x27;y&#x27;</span>]*<span class="number">1.25</span>, (location[<span class="string">&#x27;x&#x27;</span>]+size[<span class="string">&#x27;width&#x27;</span>])*<span class="number">1.25</span>, (location[<span class="string">&#x27;y&#x27;</span>]+size[<span class="string">&#x27;height&#x27;</span>])*<span class="number">1.25</span>)</span><br><span class="line"><span class="comment"># è‡³æ­¤éªŒè¯ç å›¾ç‰‡åŒºåŸŸå°±ç¡®å®šä¸‹æ¥äº†</span></span><br><span class="line"></span><br><span class="line">i = Image.open(<span class="string">&#x27;./aa.png&#x27;</span>)</span><br><span class="line">code_img_name = <span class="string">&#x27;./code.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cropæ ¹æ®æŒ‡å®šåŒºåŸŸè¿›è¡Œå›¾ç‰‡è£å‰ª</span></span><br><span class="line">frame = i.crop(rangle)</span><br><span class="line">frame.save(code_img_name)</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†éªŒè¯ç å›¾ç‰‡æäº¤ç»™è¶…çº§é¹°è¿›è¡Œè¯†åˆ«</span></span><br><span class="line"></span><br><span class="line">chaojiying = Chaojiying_Client(<span class="string">&#x27;è¶…çº§ğŸ¦…è´¦å·&#x27;</span>, <span class="string">&#x27;è¶…çº§ğŸ¦…å¯†ç &#x27;</span>, <span class="string">&#x27;è½¯ä»¶ID&#x27;</span>)</span><br><span class="line">im = open(<span class="string">&#x27;code.png&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()</span><br><span class="line">print(chaojiying.PostPic(im, <span class="number">9004</span>)[<span class="string">&#x27;pic_str&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result = chaojiying.PostPic(im, <span class="number">9004</span>)[<span class="string">&#x27;pic_str&#x27;</span>]</span><br><span class="line">all_list = []   <span class="comment">#è¦å­˜å‚¨å³å°†è¢«ç‚¹å‡»çš„ç‚¹çš„åæ ‡  [[x1,y1],[x2,y2]]</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;|&#x27;</span> <span class="keyword">in</span> result:</span><br><span class="line">    list_1 = result.split(<span class="string">&#x27;|&#x27;</span>)</span><br><span class="line">    count_1 = len(list_1)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(count_1):</span><br><span class="line">        xy_list = []</span><br><span class="line">        x = int(list_1[i].split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line">        y = int(list_1[i].split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">        xy_list.append(x)</span><br><span class="line">        xy_list.append(y)</span><br><span class="line">        all_list.append(xy_list)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    x = int(result.split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line">    y = int(result.split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">    xy_list = []</span><br><span class="line">    xy_list.append(x)</span><br><span class="line">    xy_list.append(y)</span><br><span class="line">    all_list.append(xy_list)</span><br><span class="line">print(all_list)</span><br><span class="line"><span class="comment"># éå†åˆ—è¡¨ï¼Œä½¿ç”¨åŠ¨ä½œé“¾å¯¹æ¯ä¸€ä¸ªåˆ—è¡¨å…ƒç´ å¯¹åº”çš„x,yæŒ‡å®šçš„ä½ç½®è¿›è¡Œç‚¹å‡»æ“ä½œ</span></span><br><span class="line"><span class="keyword">for</span> l <span class="keyword">in</span> all_list:</span><br><span class="line">    x = l[<span class="number">0</span>]</span><br><span class="line">    y = l[<span class="number">1</span>]</span><br><span class="line">    <span class="comment">#è¿™é‡Œçš„/1.25ï¼Œæ˜¯å› ä¸ºï¼Œç”µè„‘è®¾ç½®125%ï¼Œè€Œç½‘é¡µæ˜¯100%çš„ï¼Œæ‰€ä»¥ï¼Œè¦ç¡®å®šç½‘é¡µä¸­å¯¹åº”ä½ç½®ï¼Œé™¤ä»¥1.25å³å¯</span></span><br><span class="line">    ActionChains(bro).move_to_element_with_offset(code_img_ele, x/<span class="number">1.25</span>, y/<span class="number">1.25</span>).click().perform()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">bro.find_element_by_id(<span class="string">&#x27;J-userName&#x27;</span>).send_keys(<span class="string">&#x27;12306è´¦å·&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">bro.find_element_by_id(<span class="string">&#x27;J-password&#x27;</span>).send_keys(<span class="string">&#x27;12306å¯†ç &#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br><span class="line">bro.find_element_by_id(<span class="string">&#x27;J-login&#x27;</span>).click()</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # æ»‘å—æ“ä½œï¼Œ12306æ£€æµ‹selenium,,,,æ»‘å—æ€»æ˜¯åˆ·æ–°é‡è¯•ï¼Œ</span></span><br><span class="line"><span class="comment"># action = ActionChains(bro)</span></span><br><span class="line"><span class="comment"># try:</span></span><br><span class="line"><span class="comment">#     slider = bro.find_element_by_css_selector(&#x27;#nc_1_n1z&#x27;)</span></span><br><span class="line"><span class="comment">#     action.click_and_hold(slider)</span></span><br><span class="line"><span class="comment">#     action.move_by_offset(300, 0).perform()</span></span><br><span class="line"><span class="comment">#     time.sleep(15)</span></span><br><span class="line"><span class="comment">#     action.release()</span></span><br><span class="line"><span class="comment"># except Exception as e:</span></span><br><span class="line"><span class="comment">#     print(e)</span></span><br><span class="line"></span><br><span class="line">bro.quit()</span><br></pre></td></tr></table></figure><hr><h1>å…«ã€scrapyæ¡†æ¶</h1><h2 id="1-scrapyæ¡†æ¶åˆè¯†">1. scrapyæ¡†æ¶åˆè¯†</h2><ul><li><p><strong>ä»€ä¹ˆæ˜¯æ¡†æ¶ï¼Ÿ</strong></p><p>å°±æ˜¯ä¸€ä¸ªé›†æˆäº†å¾ˆå¤šåŠŸèƒ½å¹¶ä¸”å…·æœ‰å¾ˆå¼ºé€šç”¨æ€§çš„ä¸€ä¸ªé¡¹ç›®æ¨¡æ¿ã€‚</p></li><li><p><strong>å¦‚ä½•å­¦ä¹ æ¡†æ¶ï¼Ÿ</strong></p><p>ä¸“é—¨å­¦ä¹ æ¡†æ¶å°è£…çš„å„ç§åŠŸèƒ½çš„è¯¦ç»†ç”¨æ³•ã€‚</p></li><li><p><strong>ä»€ä¹ˆæ˜¯<code>scrapy</code>ï¼Ÿ</strong></p><p>çˆ¬è™«ä¸­å°è£…å¥½çš„ä¸€ä¸ªæ˜æ˜Ÿæ¡†æ¶ã€‚</p><p>**åŠŸèƒ½ï¼š**é«˜æ€§èƒ½çš„æŒä¹…åŒ–å­˜å‚¨ï¼Œå¼‚æ­¥çš„æ•°æ®ä¸‹è½½ï¼Œé«˜æ€§èƒ½çš„æ•°æ®è§£æï¼Œåˆ†å¸ƒå¼</p></li></ul><h2 id="2-scrapyåŸºæœ¬ä½¿ç”¨">2. scrapyåŸºæœ¬ä½¿ç”¨</h2><p><strong>scrapyæ¡†æ¶çš„åŸºæœ¬ä½¿ç”¨ï¼š</strong></p><ul><li>ç¯å¢ƒçš„å®‰è£…ï¼š<ul><li>mac or linuxï¼š<code>pip install scrapy</code></li><li>windows:<ul><li><code>pip install wheel</code></li><li>ä¸‹è½½twistedï¼Œä¸‹è½½åœ°å€ï¼š<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted">http://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted</a></li><li>å®‰è£…twistedï¼š<code>pip install Twisted-20.3.0-cp39-cp39-win_amd64.whl</code></li><li><code>pip install pywin32</code></li><li><code>pip install scrapy</code></li><li>æµ‹è¯•ï¼šåœ¨ç»ˆç«¯é‡Œå½•å…¥scrapyæŒ‡ä»¤ï¼Œæ²¡æœ‰æŠ¥é”™å³è¡¨ç¤ºå®‰è£…æˆåŠŸï¼</li></ul></li></ul></li><li>åˆ›å»ºä¸€ä¸ªå·¥ç¨‹ï¼š<code>scrapy startproject xxxPro</code></li><li><code>cd xxxPro</code></li><li>åœ¨spiderså­ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªçˆ¬è™«æ–‡ä»¶<ul><li><code>scrapy genspider spiderName www.xxx.com</code></li></ul></li><li>æ‰§è¡Œå·¥ç¨‹ï¼š<ul><li><code>scrapy crawl spiderName</code></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###firstBlood__first</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FirstSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    <span class="comment">#çˆ¬è™«æ–‡ä»¶çš„åç§°ï¼šå°±æ˜¯çˆ¬è™«æºæ–‡ä»¶çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†</span></span><br><span class="line">    name = <span class="string">&#x27;first&#x27;</span></span><br><span class="line">    <span class="comment">#å…è®¸çš„åŸŸåï¼šç”¨æ¥é™å®šstart_urlsåˆ—è¡¨ä¸­å“ªäº›urlå¯ä»¥è¿›è¡Œè¯·æ±‚å‘é€</span></span><br><span class="line">    <span class="comment"># allowed_domains = [&#x27;www.baidu.com&#x27;]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#èµ·å§‹çš„urlåˆ—è¡¨ï¼šè¯¥åˆ—è¡¨ä¸­å­˜æ”¾çš„urlä¼šè¢«scrapyè‡ªåŠ¨è¿›è¡Œè¯·æ±‚çš„å‘é€</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;https://www.baidu.com/&#x27;</span>, <span class="string">&#x27;https://www.sogou.com/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ç”¨ä½œäºæ•°æ®è§£æï¼šresponseå‚æ•°è¡¨ç¤ºçš„å°±æ˜¯è¯·æ±‚æˆåŠŸåå¯¹åº”çš„å“åº”å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        print(response)</span><br></pre></td></tr></table></figure><h2 id="3-scrapyæ•°æ®è§£ææ“ä½œ">3. scrapyæ•°æ®è§£ææ“ä½œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QiubaiSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;qiubai&#x27;</span></span><br><span class="line">    <span class="comment">#allowed_domains = [&#x27;www.xxx.com&#x27;]</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;https://www.qiushibaike.com/text/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        <span class="comment">#è§£æä½œè€…çš„åç§°+æ®µå­çš„å†…å®¹</span></span><br><span class="line">        div_list = response.xpath(<span class="string">&#x27;//div[@id=&quot;col1 old-style-col1&quot;]/div&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> div <span class="keyword">in</span> div_list:</span><br><span class="line">            <span class="comment">#xpathè¿”å›çš„æ˜¯åˆ—è¡¨ï¼Œå½“æ—¶åˆ—è¡¨å…ƒç´ ä¸€å®šæ˜¯Selectorç±»å‹çš„å¯¹è±¡</span></span><br><span class="line">            <span class="comment">#extractå¯ä»¥å°†Selectorå¯¹è±¡ä¸­dataå‚æ•°å­˜å‚¨çš„å­—ç¬¦ä¸²æå–å‡ºæ¥</span></span><br><span class="line">            author = div.xpath(<span class="string">&#x27;./div[1]/a[2]/h2/text()&#x27;</span>)[<span class="number">0</span>].extract()</span><br><span class="line">            <span class="comment">#åˆ—è¡¨è°ƒç”¨äº†extractä¹‹åã€‚åˆ™è¡¨ç¤ºå°†åˆ—è¡¨ä¸­æ¯ä¸€ä¸ªSelectorå¯¹è±¡ä¸­dataå¯¹åº”çš„å­—ç¬¦ä¸²æå–äº†å‡ºæ¥</span></span><br><span class="line">            content = div.xpath(<span class="string">&#x27;./a[1]/div/span//text()&#x27;</span>).extract()</span><br><span class="line">            content = <span class="string">&#x27;&#x27;</span>.join(content)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            print(author,content)</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure><h2 id="4-åŸºäºç»ˆç«¯æŒ‡ä»¤çš„æŒä¹…åŒ–å­˜å‚¨">4. åŸºäºç»ˆç«¯æŒ‡ä»¤çš„æŒä¹…åŒ–å­˜å‚¨</h2><p><strong>scrapyæŒä¹…åŒ–å­˜å‚¨ï¼š</strong></p><ul><li>åŸºäºç»ˆç«¯æŒ‡ä»¤ï¼š<ul><li>è¦æ±‚ï¼šåªå¯ä»¥å°†parseæ–¹æ³•çš„è¿”å›å€¼å­˜å‚¨åˆ°æœ¬åœ°çš„æ–‡æœ¬æ–‡ä»¶ä¸­</li><li>æ³¨æ„ï¼šæŒä¹…åŒ–å­˜å‚¨å¯¹åº”çš„æ–‡æœ¬æ–‡ä»¶ç±»å‹åªå¯ä»¥ä¸ºï¼šjsonã€jsonlinesã€jlã€csvã€xmlã€marshalã€pickle</li><li>æŒ‡ä»¤ï¼š<code>scrapy crawl xxx -o filePath</code></li><li>å¥½å¤„ï¼šç®€æ´é«˜æ•ˆä¾¿æ·</li><li>ç¼ºç‚¹ï¼šå±€é™æ€§æ¯”è¾ƒå¼ºï¼ˆæ•°æ®åªå¯ä»¥å­˜å‚¨åˆ°æŒ‡å®šåç¼€çš„æ–‡æœ¬æ–‡ä»¶ä¸­ï¼‰</li></ul></li></ul><h2 id="5-åŸºäºç®¡é“æŒä¹…åŒ–å­˜å‚¨æ“ä½œ">5. åŸºäºç®¡é“æŒä¹…åŒ–å­˜å‚¨æ“ä½œ</h2><p>åŸºäºç®¡é“ï¼š</p><ul><li>ç¼–ç æµç¨‹ï¼š<ul><li>æ•°æ®è§£æ</li><li>åœ¨itemç±»ä¸­å®šä¹‰ç›¸å…³çš„å±æ€§</li><li>å°†è§£æçš„æ•°æ®å°è£…åˆ°itemç±»å‹çš„å¯¹è±¡</li><li>å°†itemç±»å‹çš„å¯¹è±¡æäº¤ç»™ç®¡é“è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨çš„æ“ä½œ</li><li>åœ¨ç®¡é“ç±»çš„process_itemä¸­è¦å°†å…¶æ¥æ”¶åˆ°çš„itemå¯¹è±¡ä¸­å­˜å‚¨çš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨æ“ä½œ</li><li>åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯ç®¡é“</li></ul></li><li>å¥½å¤„ï¼š<ul><li>é€šç”¨æ€§å¼ºã€‚</li></ul></li></ul><p><strong>é¢è¯•é¢˜ï¼šå°†çˆ¬å–åˆ°çš„æ•°æ®ä¸€ä»½å­˜å‚¨åˆ°æœ¬åœ°ï¼Œä¸€ä»½å­˜å‚¨åˆ°æ•°æ®åº“ï¼Œå¦‚ä½•å®ç°ï¼Ÿ</strong></p><ul><li>ç®¡é“æ–‡ä»¶ä¸­ä¸€ä¸ªç®¡é“ç±»å¯¹åº”çš„æ˜¯å°†æ•°æ®å­˜å‚¨åˆ°ä¸€ç§å¹³å°</li><li>çˆ¬è™«æ–‡ä»¶æäº¤çš„itemåªä¼šç»™ç®¡é“æ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªè¢«æ‰§è¡Œçš„ç®¡é“ç±»æ¥æ”¶</li><li><code>process_item</code>ä¸­çš„<code>return item</code>è¡¨ç¤ºå°†itemä¼ é€’ç»™ä¸‹ä¸€ä¸ªå³å°†è¢«æ‰§è¡Œçš„ç®¡é“ç±»</li></ul><h2 id="6-å…¨ç«™æ•°æ®çˆ¬å–">6. å…¨ç«™æ•°æ®çˆ¬å–</h2><p>**åŸºäºspiderçš„å…¨ç«™æ•°æ®çˆ¬å–ï¼š**å°±æ˜¯å°†ç½‘ç«™ä¸­æŸæ¿å—ä¸‹çš„å…¨éƒ¨é¡µç å¯¹åº”çš„é¡µé¢æ•°æ®è¿›è¡Œçˆ¬å–ã€‚</p><ul><li>çˆ¬å–ï¼šæ ¡èŠ±ç½‘æ˜æ˜Ÿå†™çœŸçš„åç§°</li><li>å®ç°æ–¹å¼ï¼š<ul><li>å°†æ‰€æœ‰é¡µé¢çš„<code>url</code>æ·»åŠ åˆ°<code>start_urls</code>åˆ—è¡¨ï¼ˆä¸æ¨èï¼‰</li><li>è‡ªè¡Œæ‰‹åŠ¨è¿›è¡Œè¯·æ±‚å‘é€ï¼ˆæ¨èï¼‰</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;------------æ ¡èŠ±ç½‘xiaohua.py----------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaohuaSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;xiaohua&#x27;</span></span><br><span class="line">    <span class="comment"># allowed_domains = [&#x27;www.xxx.com&#x27;]</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://www.521609.com/tuku/mxxz/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ç”Ÿæˆä¸€ä¸ªé€šç”¨çš„urlæ¨¡æ¿(ä¸å¯å˜)</span></span><br><span class="line">    url = <span class="string">&#x27;http://www.521609.com/tuku/mxxz/index_%d.html&#x27;</span></span><br><span class="line">    page_num = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        li_list = response.xpath(<span class="string">&#x27;/html/body/div[4]/div[3]/ul/li&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            img_name = li.xpath(<span class="string">&#x27;./a/p/text()&#x27;</span>).extract_first()</span><br><span class="line">            print(img_name)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.page_num &lt;= <span class="number">28</span>:</span><br><span class="line">            new_url = format(self.url%self.page_num)</span><br><span class="line">            self.page_num += <span class="number">1</span></span><br><span class="line">            <span class="comment">#æ‰‹åŠ¨è¯·æ±‚å‘é€:callbackå›è°ƒå‡½æ•°æ˜¯ä¸“é—¨ç”¨ä½œäºæ•°æ®è§£æ</span></span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url=new_url,callback=self.parse)</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;---------------æ ¡èŠ±ç½‘pipelines.py--------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define your item pipelines here</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Don&#x27;t forget to add your pipeline to the ITEM_PIPELINES setting</span></span><br><span class="line"><span class="comment"># See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaohuaproPipeline</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span>(<span class="params">self, item, spider</span>):</span></span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line">    </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;----------------æ ¡èŠ±ç½‘settings.pyéƒ¨åˆ†ä»£ç ---------------------------&#x27;&#x27;&#x27;</span></span><br><span class="line">ROBOTSTXT_OBEY = <span class="literal">False</span></span><br><span class="line">LOG_LEVEL = <span class="string">&#x27;ERROR&#x27;</span></span><br><span class="line">USER_AGENT = <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="7-äº”å¤§æ ¸å¿ƒç»„ä»¶">7. äº”å¤§æ ¸å¿ƒç»„ä»¶</h2><p><strong>äº”å¤§æ ¸å¿ƒç»„ä»¶ï¼š</strong></p><p><img src="../PythonProjects/Typora_image/image-20210302092358486.png" alt="image-20210302092358486"></p><ul><li><strong>Spidersï¼š</strong><ul><li>äº§ç”ŸURLï¼Œå¯¹URLè¿›è¡Œæ‰‹åŠ¨å‘é€</li><li>è¿›è¡Œæ•°æ®è§£æ</li></ul></li><li><strong>å¼•æ“ï¼ˆScrapy Engineï¼‰ï¼š</strong><ul><li>æ•°æ®æµå¤„ç†</li><li>è§¦å‘äº‹åŠ¡</li></ul></li><li><strong>è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰ï¼š</strong><ul><li><strong>è¿‡æ»¤å™¨</strong>å»é‡</li><li>å»é‡åçš„è¯·æ±‚å¯¹è±¡å‹åˆ°<strong>é˜Ÿåˆ—</strong>ä¸­</li></ul></li><li><strong>ä¸‹è½½å™¨ï¼ˆDownloaderï¼‰ï¼š</strong><ul><li>è´Ÿè´£è·å–é¡µé¢æ•°æ®å¹¶æä¾›ç»™å¼•æ“ï¼Œè€Œåæä¾›ç»™Spider</li></ul></li><li><strong>é¡¹ç›®ç®¡é“ï¼ˆItem Pipelineï¼‰ï¼š</strong><ul><li>è´Ÿè´£å¤„ç†çˆ¬è™«ä»ç½‘é¡µä¸­æŠ½å–çš„å®ä½“ï¼Œé¡µé¢è¢«çˆ¬è™«è§£ææ‰€éœ€çš„æ•°æ®å­˜å…¥itemåï¼Œå°†è¢«å‘é€åˆ°ç®¡é“ï¼Œç»è¿‡ç‰¹å®šçš„æ¬¡åºå¤„ç†æ•°æ®ï¼Œæœ€åå­˜å…¥æœ¬åœ°æ–‡ä»¶æˆ–è€…æ•°æ®åº“ã€‚</li></ul></li></ul><h2 id="8-è¯·æ±‚ä¼ å‚">8. è¯·æ±‚ä¼ å‚</h2><ul><li>**ä½¿ç”¨åœºæ™¯ï¼š**å¦‚æœçˆ¬å–è§£æçš„æ•°æ®ä¸åœ¨åŒä¸€å¼ é¡µé¢ä¸­ã€‚ï¼ˆæ·±åº¦çˆ¬å–ï¼‰</li><li>**éœ€æ±‚ï¼š**çˆ¬å–bossçš„å²—ä½åç§°å’Œå²—ä½æè¿°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### æˆ‘å°è¯•ç€å¹¶æœªæœ‰å•¥ç»“æœ.......ç­‰å¤§ä½¬</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> bossPro.items <span class="keyword">import</span> BossproItem</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BossSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;boss&#x27;</span></span><br><span class="line">    <span class="comment"># allowed_domains = [&#x27;www.xxx.com&#x27;]</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;https://www.zhipin.com/c100010000/?page=1&amp;ka=page-1&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    url = <span class="string">&#x27;https://www.zhipin.com/c100010000/?page=%d&#x27;</span></span><br><span class="line">    page_num = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">#å›è°ƒå‡½æ•°æ¥æ”¶item</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_detail</span>(<span class="params">self,response</span>):</span></span><br><span class="line">        item = response.meta[<span class="string">&#x27;item&#x27;</span>]</span><br><span class="line"></span><br><span class="line">        job_desc = response.xpath(<span class="string">&#x27;//*[@id=&quot;main&quot;]/div[3]/div/div[2]/div[2]/div[1]/div//text()&#x27;</span>).extract()</span><br><span class="line">        job_desc = <span class="string">&#x27;&#x27;</span>.join(job_desc)</span><br><span class="line">        print(job_desc)</span><br><span class="line">        item[<span class="string">&#x27;job_desc&#x27;</span>] = job_desc</span><br><span class="line"></span><br><span class="line">        <span class="keyword">yield</span> item</span><br><span class="line"></span><br><span class="line">    <span class="comment">#è§£æé¦–é¡µä¸­çš„å²—ä½åç§°</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        li_list = response.xpath(<span class="string">&#x27;//*[@id=&quot;main&quot;]/div/div[2]/ul/li&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            item = BossproItem()</span><br><span class="line"></span><br><span class="line">            job_name = li.xpath(<span class="string">&#x27;.//div/div[1]/div[1]/div/div[1]/span[1]/a/text()&#x27;</span>).extract_first()</span><br><span class="line">            item[<span class="string">&#x27;job_name&#x27;</span>] = job_name</span><br><span class="line">            print(job_name)</span><br><span class="line">            detail_url = <span class="string">&#x27;https://www.zhipin.com&#x27;</span> + li.xpath(<span class="string">&#x27;.//div/div[1]/div[1]/div/div[1]/span[1]/a/@href&#x27;</span>).extract_first()</span><br><span class="line">            <span class="comment">#å¯¹è¯¦æƒ…é¡µå‘è¯·æ±‚è·å–è¯¦æƒ…é¡µçš„é¡µé¢æºç æ•°æ®</span></span><br><span class="line">            <span class="comment">#æ‰‹åŠ¨è¯·æ±‚çš„å‘é€</span></span><br><span class="line">            <span class="comment">#è¯·æ±‚ä¼ å‚ï¼šmeta=&#123;&#125;ï¼Œå¯ä»¥å°†metaå­—å…¸ä¼ é€’ç»™è¯·æ±‚å¯¹åº”çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(detail_url,callback=self.parse_detail,meta=&#123;<span class="string">&#x27;item&#x27;</span>:item&#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#åˆ†é¡µæ“ä½œ</span></span><br><span class="line">        <span class="keyword">if</span> self.page_num &lt;= <span class="number">5</span>:</span><br><span class="line">            new_url = format(self.url%self.page_num)</span><br><span class="line">            self.page_num += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(new_url,callback=self.parse)</span><br></pre></td></tr></table></figure><h2 id="9-scrapyå›¾ç‰‡çˆ¬å–">9. scrapyå›¾ç‰‡çˆ¬å–</h2><p><strong>å›¾ç‰‡æ•°æ®çˆ¬å–ä¹‹ImagesPiplineï¼š</strong></p><ul><li><p>åŸºäºscrapyçˆ¬å–å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®å’Œçˆ¬å–å›¾ç‰‡ç±»å‹çš„æ•°æ®åŒºåˆ«ï¼Ÿ</p><ul><li>å­—ç¬¦ä¸²ï¼šåªéœ€è¦åŸºäºxpathè¿›è¡Œè§£æä¸”æäº¤ç®¡é“è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨</li><li>å›¾ç‰‡ï¼šxpathè§£æå‡ºå›¾ç‰‡çš„srcå±æ€§å€¼ï¼Œå•ç‹¬çš„å¯¹å›¾ç‰‡åœ°å€å‘èµ·è¯·æ±‚è·å–äºŒè¿›åˆ¶ç±»å‹çš„æ•°æ®</li></ul></li><li><p><strong>ImagesPipelineï¼š</strong></p><ul><li>åªéœ€è¦å°†imgçš„srcçš„å±æ€§å€¼è¿›è¡Œè§£æï¼Œæäº¤åˆ°ç®¡é“ï¼Œç®¡é“å°±ä¼šå¯¹å›¾ç‰‡çš„srcè¿›è¡Œè¯·æ±‚å‘é€è·å–å›¾ç‰‡çš„äºŒè¿›åˆ¶ç±»å‹çš„æ•°æ®ï¼Œä¸”è¿˜ä¼šå¸®æˆ‘ä»¬è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ã€‚</li></ul></li><li><p>**éœ€æ±‚ï¼š**çˆ¬å–ç«™é•¿ç´ æçš„é«˜æ¸…å›¾ç‰‡</p></li><li><p><strong>ä½¿ç”¨æµç¨‹ï¼š</strong></p><ul><li>æ•°æ®è§£æï¼ˆå›¾ç‰‡çš„åœ°å€ï¼‰</li><li>å°†å­˜å‚¨å›¾ç‰‡åœ°å€çš„itemæäº¤åˆ°æŒ‡å®šçš„ç®¡é“ç±»</li><li>åœ¨ç®¡é“æ–‡ä»¶ä¸­è‡ªå·±å®šåˆ¶ä¸€ä¸ªåŸºäºImagesPipeLineçš„ä¸€ä¸ªç®¡é“ç±»<ul><li><code>get_media_request( )</code></li><li><code>file_path</code></li><li><code>item_completed</code></li></ul></li><li>åœ¨é…ç½®æ–‡ä»¶ä¸­æ“ä½œ<ul><li>æŒ‡å®šå›¾ç‰‡å­˜å‚¨ç›®å½•ï¼š<code>IMAGES_STORE = './imgs_ZYZhang'</code></li><li>æŒ‡å®šå¼€å¯çš„ç®¡é“ï¼šè‡ªå®šåˆ¶çš„ç®¡é“ç±»</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;----------------çˆ¬å–ç«™é•¿ç´ æé«˜æ¸…å›¾ç‰‡  img.py-----------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> imgsPro.items <span class="keyword">import</span> ImgsproItem</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImgSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;img&#x27;</span></span><br><span class="line">    <span class="comment"># allowed_domains = [&#x27;www.xxx.com&#x27;]</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://sc.chinaz.com/tupian/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        div_list = response.xpath(<span class="string">&#x27;//div[@id=&quot;container&quot;]/div&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> div <span class="keyword">in</span> div_list:</span><br><span class="line">            <span class="comment">#æ³¨æ„ï¼šä½¿ç”¨ä¼ªå±æ€§ src2</span></span><br><span class="line">            src = <span class="string">&#x27;https:&#x27;</span> + div.xpath(<span class="string">&#x27;./div/a/img/@src2&#x27;</span>).extract_first()</span><br><span class="line"></span><br><span class="line">            item = ImgsproItem()</span><br><span class="line">            item[<span class="string">&#x27;src&#x27;</span>] = src</span><br><span class="line"></span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;----------------------çˆ¬å–ç«™é•¿ç´ æé«˜æ¸…å›¾ç‰‡  pipelines.py---------------------------&#x27;&#x27;&#x27;</span>            </span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define your item pipelines here</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Don&#x27;t forget to add your pipeline to the ITEM_PIPELINES setting</span></span><br><span class="line"><span class="comment"># See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># class ImgsproPipeline(object):</span></span><br><span class="line"><span class="comment">#     def process_item(self, item, spider):</span></span><br><span class="line"><span class="comment">#         return item</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> scrapy.pipelines.images <span class="keyword">import</span> ImagesPipeline</span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">imgsPileLine</span>(<span class="params">ImagesPipeline</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#å¯ä»¥æ ¹æ®å›¾ç‰‡åœ°å€è¿›è¡Œå›¾ç‰‡æ•°æ®çš„è¯·æ±‚</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_media_requests</span>(<span class="params">self, item, info</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">yield</span> scrapy.Request(item[<span class="string">&#x27;src&#x27;</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment">#æŒ‡å®šå›¾ç‰‡å­˜å‚¨çš„è·¯å¾„</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">file_path</span>(<span class="params">self, request, response=None, info=None</span>):</span></span><br><span class="line">        imgName = request.url.split(<span class="string">&#x27;/&#x27;</span>)[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">return</span> imgName</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">item_completed</span>(<span class="params">self, results, item, info</span>):</span></span><br><span class="line">        <span class="keyword">return</span> item <span class="comment">#è¿”å›ç»™ä¸‹ä¸€ä¸ªå³å°†è¢«æ‰§è¡Œçš„ç®¡é“ç±»</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;---------------------------------çˆ¬å–ç«™é•¿ç´ æé«˜æ¸…å›¾ç‰‡  items.py-----------------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define here the models for your scraped items</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># See documentation in:</span></span><br><span class="line"><span class="comment"># https://doc.scrapy.org/en/latest/topics/items.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImgsproItem</span>(<span class="params">scrapy.Item</span>):</span></span><br><span class="line">    <span class="comment"># define the fields for your item here like:</span></span><br><span class="line">    src = scrapy.Field()</span><br><span class="line">    <span class="comment"># pass</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;------------------------------çˆ¬å–ç«™é•¿ç´ æé«˜æ¸…å›¾ç‰‡ setting.pyéƒ¨åˆ†ä»£ç -------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#æŒ‡å®šå›¾ç‰‡å­˜å‚¨çš„ç›®å½•</span></span><br><span class="line">IMAGES_STORE = <span class="string">&#x27;./imgs_ZYZhang&#x27;</span></span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&#x27;imgsPro.pipelines.imgsPileLine&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">&#125;</span><br><span class="line">LOG_LEVEL = <span class="string">&#x27;ERROR&#x27;</span></span><br><span class="line"><span class="comment"># Crawl responsibly by identifying yourself (and your website) on the user-agent</span></span><br><span class="line">USER_AGENT = <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Obey robots.txt rules</span></span><br><span class="line">ROBOTSTXT_OBEY = <span class="literal">False</span></span><br></pre></td></tr></table></figure><h2 id="10-ä¸­é—´ä»¶">10. ä¸­é—´ä»¶</h2><ul><li><strong>ä¸‹è½½ä¸­é—´ä»¶ï¼š</strong><ul><li>ä½ç½®ï¼šå¼•æ“å’Œä¸‹è½½å™¨ä¹‹é—´</li><li>ä½œç”¨ï¼šæ‰¹é‡æ‹¦æˆªåˆ°æ•´ä¸ªå·¥ç¨‹ä¸­æ‰€æœ‰çš„è¯·æ±‚å’Œå“åº”</li><li>æ‹¦æˆªè¯·æ±‚ï¼š<ul><li>UAä¼ªè£…ï¼š<code>process_request</code></li><li>ä»£ç†IPï¼š<code>process_exception:return request</code></li></ul></li><li>æ‹¦æˆªå“åº”ï¼š<ul><li>ç¯¡æ”¹å“åº”æ•°æ®ï¼Œå“åº”å¯¹è±¡</li><li>ç½‘æ˜“æ–°é—»çˆ¬å–</li></ul></li></ul></li></ul><h2 id="11-ç½‘æ˜“æ–°é—»">11. ç½‘æ˜“æ–°é—»</h2><p>**éœ€æ±‚ï¼š**çˆ¬å–ç½‘æ˜“æ–°é—»çš„æ–°é—»æ•°æ®ï¼ˆæ ‡é¢˜å’Œå†…å®¹ï¼‰</p><ul><li>é€šè¿‡ç½‘æ˜“æ–°é—»çš„é¦–é¡µè§£æå‡ºå‡ å¤§æ¿å—å¯¹åº”çš„è¯¦æƒ…é¡µçš„urlï¼ˆç»éªŒè¯ï¼Œæ— åŠ¨æ€åŠ è½½ï¼‰</li><li>æ¯ä¸ªæ¿å—ç‚¹å‡»åï¼Œå…¶ä¸­çš„æ–°é—»æ ‡é¢˜éƒ½æ˜¯åŠ¨æ€åŠ è½½å‡ºæ¥çš„ï¼ˆåŠ¨æ€åŠ è½½ï¼‰</li><li>é€šè¿‡è§£æå‡ºæ¯ä¸€æ¡æ–°é—»è¯¦æƒ…é¡µçš„urlï¼Œè·å–è¯¦æƒ…é¡µçš„é¡µé¢æºç ï¼Œè§£æå‡ºæ–°é—»å†…å®¹</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;-------------------------------ç½‘æ˜“æ–°é—»  wangyi.py------------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> wangyiPro.items <span class="keyword">import</span> WangyiproItem</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WangyiSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;wangyi&#x27;</span></span><br><span class="line">    <span class="comment"># allowed_domains = [&#x27;www.cccom&#x27;]</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;https://news.163.com/&#x27;</span>]</span><br><span class="line">    models_urls = []  <span class="comment">#å­˜å‚¨äº”ä¸ªæ¿å—å¯¹åº”è¯¦æƒ…é¡µçš„url</span></span><br><span class="line">    <span class="comment">#è§£æäº”å¤§æ¿å—å¯¹åº”è¯¦æƒ…é¡µçš„url</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#å®ä¾‹åŒ–ä¸€ä¸ªæµè§ˆå™¨å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.bro = webdriver.Chrome(executable_path=<span class="string">&#x27;F:\PythonProjects\çˆ¬è™«\åŠ¨æ€åŠ è½½æ•°æ®å¤„ç†\chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        li_list = response.xpath(<span class="string">&#x27;//*[@id=&quot;index2016_wrap&quot;]/div[1]/div[2]/div[2]/div[2]/div[2]/div/ul/li&#x27;</span>)</span><br><span class="line">        alist = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> alist:</span><br><span class="line">            model_url = li_list[index].xpath(<span class="string">&#x27;./a/@href&#x27;</span>).extract_first()</span><br><span class="line">            self.models_urls.append(model_url)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#ä¾æ¬¡å¯¹æ¯ä¸€ä¸ªæ¿å—å¯¹åº”çš„é¡µé¢è¿›è¡Œè¯·æ±‚</span></span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> self.models_urls:      <span class="comment">#å¯¹æ¯ä¸€ä¸ªæ¿å—çš„urlè¿›è¡Œè¯·æ±‚å‘é€</span></span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url,callback=self.parse_model)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#æ¯ä¸€ä¸ªæ¿å—å¯¹åº”çš„æ–°é—»æ ‡é¢˜ç›¸å…³çš„å†…å®¹éƒ½æ˜¯åŠ¨æ€åŠ è½½</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_model</span>(<span class="params">self,response</span>):</span>    <span class="comment">#è§£ææ¯ä¸€ä¸ªæ¿å—é¡µé¢ä¸­å¯¹åº”æ–°é—»çš„æ ‡é¢˜å’Œæ–°é—»è¯¦æƒ…é¡µçš„url</span></span><br><span class="line">        <span class="comment"># response.xpath()</span></span><br><span class="line">        div_list = response.xpath(<span class="string">&#x27;/html/body/div/div[3]/div[4]/div[1]/div/div/ul/li/div/div&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> div <span class="keyword">in</span> div_list:</span><br><span class="line">            title = div.xpath(<span class="string">&#x27;./div/div[1]/h3/a/text()&#x27;</span>).extract_first()</span><br><span class="line">            new_detail_url = div.xpath(<span class="string">&#x27;./div/div[1]/h3/a/@href&#x27;</span>).extract_first()</span><br><span class="line"></span><br><span class="line">            item = WangyiproItem()</span><br><span class="line">            item[<span class="string">&#x27;title&#x27;</span>] = title</span><br><span class="line"></span><br><span class="line">            <span class="comment">#å¯¹æ–°é—»è¯¦æƒ…é¡µçš„urlå‘èµ·è¯·æ±‚</span></span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url=new_detail_url, callback=self.parse_detail, meta=&#123;<span class="string">&#x27;item&#x27;</span>: item&#125;)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_detail</span>(<span class="params">self,response</span>):</span>       <span class="comment"># è§£ææ–°é—»å†…å®¹</span></span><br><span class="line">        content = response.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/div[2]//text()&#x27;</span>).extract()</span><br><span class="line">        content = <span class="string">&#x27;&#x27;</span>.join(content)</span><br><span class="line">        item = response.meta[<span class="string">&#x27;item&#x27;</span>]</span><br><span class="line">        item[<span class="string">&#x27;content&#x27;</span>] = content</span><br><span class="line"></span><br><span class="line">        <span class="keyword">yield</span> item</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closed</span>(<span class="params">self, spider</span>):</span></span><br><span class="line">        self.bro.quit()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;-------------------------------ç½‘æ˜“æ–°é—»  pipelines.py-----------------------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define your item pipelines here</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Don&#x27;t forget to add your pipeline to the ITEM_PIPELINES setting</span></span><br><span class="line"><span class="comment"># See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WangyiproPipeline</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span>(<span class="params">self, item, spider</span>):</span></span><br><span class="line">        print(item)</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;-------------------------------ç½‘æ˜“æ–°é—»  middlewares.py-------------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define here the models for your spider middleware</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># See documentation in:</span></span><br><span class="line"><span class="comment"># https://doc.scrapy.org/en/latest/topics/spider-middleware.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> signals</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> HtmlResponse</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WangyiproDownloaderMiddleware</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="comment"># Not all methods need to be defined. If a method is not defined,</span></span><br><span class="line">    <span class="comment"># scrapyæ¡†æ¶ acts as if the downloader middleware does not modify the</span></span><br><span class="line">    <span class="comment"># passed objects.</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_request</span>(<span class="params">self, request, spider</span>):</span></span><br><span class="line">        <span class="comment"># Called for each request that goes through the downloader</span></span><br><span class="line">        <span class="comment"># middleware.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Must either:</span></span><br><span class="line">        <span class="comment"># - return None: continue processing this request</span></span><br><span class="line">        <span class="comment"># - or return a Response object</span></span><br><span class="line">        <span class="comment"># - or return a Request object</span></span><br><span class="line">        <span class="comment"># - or raise IgnoreRequest: process_exception() methods of</span></span><br><span class="line">        <span class="comment">#   installed downloader middleware will be called</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># é€šè¿‡è¯¥æ–¹æ³•æ‹¦æˆªäº”å¤§æ¿å—å¯¹åº”çš„å“åº”å¯¹è±¡ï¼Œè¿›è¡Œç¯¡æ”¹ï¼Œä½¿å…¶æ»¡è¶³éœ€æ±‚</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_response</span>(<span class="params">self, request, response, spider</span>):</span>    <span class="comment">#spiderçˆ¬è™«å¯¹è±¡</span></span><br><span class="line">        bro = spider.bro  <span class="comment">#è·å–äº†åœ¨çˆ¬è™«ç±»ä¸­å®šä¹‰çš„æµè§ˆå™¨å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#æŒ‘é€‰å‡ºæŒ‡å®šçš„å“åº”å¯¹è±¡è¿›è¡Œç¯¡æ”¹</span></span><br><span class="line">        <span class="comment">#    é€šè¿‡urlæŒ‡å®šrequest</span></span><br><span class="line">        <span class="comment">#    é€šè¿‡requestæŒ‡å®šresponse</span></span><br><span class="line">        <span class="keyword">if</span> request.url <span class="keyword">in</span> spider.models_urls:</span><br><span class="line">            bro.get(request.url)   <span class="comment">#äº”ä¸ªæ¿å—å¯¹åº”çš„urlè¿›è¡Œè¯·æ±‚</span></span><br><span class="line">            sleep(<span class="number">3</span>)</span><br><span class="line">            page_text = bro.page_source  <span class="comment">#åŒ…å«äº†åŠ¨æ€åŠ è½½çš„æ–°é—»æ•°æ®</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">#response #äº”å¤§æ¿å—å¯¹åº”çš„å“åº”å¯¹è±¡</span></span><br><span class="line">            <span class="comment">#é’ˆå¯¹å®šä½åˆ°çš„è¿™äº›responseè¿›è¡Œç¯¡æ”¹</span></span><br><span class="line">            <span class="comment">#å®ä¾‹åŒ–ä¸€ä¸ªæ–°çš„å“åº”å¯¹è±¡ï¼ˆç¬¦åˆéœ€æ±‚ï¼šåŒ…å«åŠ¨æ€åŠ è½½å‡ºçš„æ–°é—»æ•°æ®ï¼‰ï¼Œæ›¿ä»£åŸæ¥æ—§çš„å“åº”å¯¹è±¡</span></span><br><span class="line">            <span class="comment">#å¦‚ä½•è·å–åŠ¨æ€åŠ è½½å‡ºçš„æ–°é—»æ•°æ®ï¼Ÿ</span></span><br><span class="line">                <span class="comment">#åŸºäºseleniumä¾¿æ·çš„è·å–åŠ¨æ€åŠ è½½æ•°æ®</span></span><br><span class="line">            new_response = HtmlResponse(url=request.url, body=page_text, encoding=<span class="string">&#x27;utf-8&#x27;</span>, request=request)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> new_response</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment">#response #å…¶ä»–è¯·æ±‚å¯¹åº”çš„å“åº”å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_exception</span>(<span class="params">self, request, exception, spider</span>):</span></span><br><span class="line">        <span class="comment"># Called when a download handler or a process_request()</span></span><br><span class="line">        <span class="comment"># (from other downloader middleware) raises an exception.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Must either:</span></span><br><span class="line">        <span class="comment"># - return None: continue processing this exception</span></span><br><span class="line">        <span class="comment"># - return a Response object: stops process_exception() chain</span></span><br><span class="line">        <span class="comment"># - return a Request object: stops process_exception() chain</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;-----------------------------ç½‘æ˜“æ–°é—» setting.pyéƒ¨åˆ†ä»£ç ---------------------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#USER_AGENT = &#x27;wangyiPro (+http://www.yourdomain.com)&#x27;</span></span><br><span class="line">USER_AGENT = <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Obey robots.txt rules</span></span><br><span class="line">ROBOTSTXT_OBEY = <span class="literal">False</span></span><br><span class="line"><span class="comment"># Enable or disable downloader middlewares</span></span><br><span class="line"><span class="comment"># See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html</span></span><br><span class="line">DOWNLOADER_MIDDLEWARES = &#123;</span><br><span class="line">   <span class="string">&#x27;wangyiPro.middlewares.WangyiproDownloaderMiddleware&#x27;</span>: <span class="number">543</span>,</span><br><span class="line">&#125;</span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&#x27;wangyiPro.pipelines.WangyiproPipeline&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">&#125;</span><br><span class="line">LOG_LEVEL = <span class="string">&#x27;ERROR&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="12-CrawlSpiderçš„å…¨ç«™æ•°æ®çˆ¬å–">12. CrawlSpiderçš„å…¨ç«™æ•°æ®çˆ¬å–</h2><p>**CrawlSpiderï¼š**åŸºäºSpiderçš„ä¸€ä¸ªå­ç±»</p><ul><li>å…¨ç«™æ•°æ®çˆ¬å–çš„æ–¹å¼<ul><li>åŸºäºSpiderï¼šæ‰‹åŠ¨è¯·æ±‚å‘é€</li><li>åŸºäºCrawlSpider</li></ul></li><li>CrawlSpiderçš„ä½¿ç”¨ï¼š<ul><li>åˆ›å»ºä¸€ä¸ªå·¥ç¨‹</li><li>cd  XXX</li><li>åˆ›å»ºçˆ¬è™«æ–‡ä»¶ï¼ˆCrawlSpiderï¼‰<ul><li><code>scrapy  genspider  -t  crawl  xxx   www.xxxx.com</code></li><li>**é“¾æ¥æå–å™¨ï¼ˆLinkExtractorï¼‰ï¼š**æ ¹æ®æŒ‡å®šè§„åˆ™ï¼ˆallow=â€œæ­£åˆ™â€ï¼‰è¿›è¡ŒæŒ‡å®šé“¾æ¥çš„æå–</li><li>**è§„åˆ™è§£æå™¨ï¼ˆRuleï¼‰ï¼š**å°†é“¾æ¥æå–å™¨æå–åˆ°çš„é“¾æ¥è¿›è¡ŒæŒ‡å®šè§„åˆ™ï¼ˆcallbackï¼‰çš„è§£ææ“ä½œ</li></ul></li></ul></li><li>**éœ€æ±‚ï¼š**çˆ¬å–é˜³å…‰çƒ­çº¿ç½‘ç«™ä¸­çš„ç¼–å·ï¼Œæ–°é—»æ ‡é¢˜ï¼Œæ–°é—»å†…å®¹ï¼Œæ ‡å·<ul><li>åˆ†æï¼šçˆ¬å–çš„æ•°æ®æ²¡æœ‰åœ¨åŒä¸€å¼ é¡µé¢ä¸­</li><li><ol><li>å¯ä»¥ä½¿ç”¨é“¾æ¥æå–å™¨æå–æ‰€æœ‰çš„é¡µç é“¾æ¥</li><li>è®©é“¾æ¥æå–å™¨æå–æ‰€æœ‰çš„é—®æ”¿è¯¦æƒ…é¡µé“¾æ¥</li></ol></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;---------------------é˜³å…‰é—®æ”¿    sun.py---------------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;ç½‘ç«™é¡µé¢æºç è·Ÿè§†é¢‘è¯¾æœ‰æ”¹åŠ¨ï¼Œå»ºè®®followå…ˆæ”¹Falseçˆ¬ä¸€ä¸‹ï¼Œä¸ç„¶å®¹æ˜“è¢«å°IPï¼Œæœ‰å…´è¶£çš„å¯ä»¥æ”¹æ”¹ï¼Œæä¸ªä»£ç†å•¥çš„å†çˆ¬&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy.linkextractors <span class="keyword">import</span> LinkExtractor</span><br><span class="line"><span class="keyword">from</span> scrapy.spiders <span class="keyword">import</span> CrawlSpider, Rule</span><br><span class="line"><span class="keyword">from</span> sunPro.items <span class="keyword">import</span> SunproItem, DetailItem</span><br><span class="line"></span><br><span class="line"><span class="comment"># éœ€æ±‚ï¼šçˆ¬å–é˜³å…‰çƒ­çº¿ç½‘ç«™ä¸­çš„ç¼–å·ï¼Œæ–°é—»æ ‡é¢˜ï¼Œæ–°é—»å†…å®¹ï¼Œæ ‡å·</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SunSpider</span>(<span class="params">CrawlSpider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;sun&#x27;</span></span><br><span class="line">    <span class="comment"># allowed_domains = [&#x27;www.xxx.com&#x27;]</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://wz.sun0769.com/political/index/politicsNewest?id=1&amp;page=&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment">#é“¾æ¥æå–å™¨ï¼šæ ¹æ®æŒ‡å®šè§„åˆ™ï¼ˆallow=&quot;æ­£åˆ™&quot;ï¼‰è¿›è¡ŒæŒ‡å®šé“¾æ¥çš„æå–</span></span><br><span class="line">    link = LinkExtractor(allow=<span class="string">r&#x27;id=1&amp;page=\d+&#x27;</span>)</span><br><span class="line">    link_detail = LinkExtractor(allow=<span class="string">r&#x27;index\?id=\d+&#x27;</span>)</span><br><span class="line">    rules = (</span><br><span class="line">        <span class="comment">#è§„åˆ™è§£æå™¨ï¼šå°†é“¾æ¥æå–å™¨æå–åˆ°çš„é“¾æ¥è¿›è¡ŒæŒ‡å®šè§„åˆ™ï¼ˆcallbackï¼‰çš„è§£ææ“ä½œ</span></span><br><span class="line">        Rule(link, callback=<span class="string">&#x27;parse_item&#x27;</span>, follow=<span class="literal">False</span>),</span><br><span class="line">        <span class="comment">#follow=Trueï¼šå¯ä»¥å°†é“¾æ¥æå–å™¨ ç»§ç»­ä½œç”¨åˆ° é“¾æ¥æå–å™¨æå–åˆ°çš„é“¾æ¥ æ‰€å¯¹åº”çš„é¡µé¢ä¸­</span></span><br><span class="line">        Rule(link_detail, callback=<span class="string">&#x27;parse_detail&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line">    <span class="comment">#http://wz.sun0769.com/political/politics/index?id=490505</span></span><br><span class="line">    <span class="comment">#http://wz.sun0769.com/political/politics/index?id=490504</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è§£ææ–°é—»ç¼–å·å’Œæ–°é—»çš„æ ‡é¢˜</span></span><br><span class="line">    <span class="comment"># å¦‚ä¸‹ä¸¤ä¸ªè§£ææ–¹æ³•ä¸­æ˜¯ä¸å¯ä»¥å®ç°è¯·æ±‚ä¼ å‚ï¼</span></span><br><span class="line">    <span class="comment"># æ— æ³•å°†ä¸¤ä¸ªè§£ææ–¹æ³•è§£æçš„æ•°æ®å­˜å‚¨åˆ°åŒä¸€ä¸ªitemä¸­ï¼Œå¯ä»¥ä¾æ¬¡å­˜å‚¨åˆ°ä¸¤ä¸ªitemä¸­</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_item</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        <span class="comment">#æ³¨æ„ï¼šxpathè¡¨è¾¾å¼ä¸­ä¸å¯ä»¥å‡ºç°tbodyæ ‡ç­¾</span></span><br><span class="line">        li_list = response.xpath(<span class="string">&#x27;/html//div[2]/div[3]/ul[2]/li&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            new_num = li.xpath(<span class="string">&#x27;./span[1]/text()&#x27;</span>).extract_first()</span><br><span class="line">            new_title = li.xpath(<span class="string">&#x27;./span[3]/a/text()&#x27;</span>).extract_first()</span><br><span class="line"></span><br><span class="line">            item = SunproItem()</span><br><span class="line">            item[<span class="string">&#x27;title&#x27;</span>] = new_title</span><br><span class="line">            item[<span class="string">&#x27;new_num&#x27;</span>] = new_num</span><br><span class="line"></span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line"></span><br><span class="line">    <span class="comment">#è§£ææ–°é—»å†…å®¹å’Œæ–°é—»ç¼–å·</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_detail</span>(<span class="params">self,response</span>):</span></span><br><span class="line">        new_id = response.xpath(<span class="string">&#x27;/html//div[3]/div[2]/div[2]/div[1]/span[4]/text()&#x27;</span>).extract_first().strip().replace(<span class="string">&quot;\r\n&quot;</span>, <span class="string">&quot;&quot;</span>).replace(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">        new_content = response.xpath(<span class="string">&#x27;/html//div[3]/div[2]/div[2]/div[2]/pre/text()&#x27;</span>).extract()</span><br><span class="line">        new_content = <span class="string">&#x27;&#x27;</span>.join(new_content)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(new_id,new_content)</span></span><br><span class="line">        item = DetailItem()</span><br><span class="line">        item[<span class="string">&#x27;content&#x27;</span>] = new_content</span><br><span class="line">        item[<span class="string">&#x27;new_id&#x27;</span>] = new_id</span><br><span class="line"></span><br><span class="line">        <span class="keyword">yield</span> item</span><br><span class="line">        </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;-------------------------------pipelines.py------------------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define your item pipelines here</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Don&#x27;t forget to add your pipeline to the ITEM_PIPELINES setting</span></span><br><span class="line"><span class="comment"># See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SunproPipeline</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span>(<span class="params">self, item, spider</span>):</span></span><br><span class="line">        <span class="comment">#å¦‚ä½•åˆ¤å®šitemçš„ç±»å‹</span></span><br><span class="line">        <span class="comment">#å°†æ•°æ®å†™å…¥æ•°æ®åº“æ—¶ï¼Œå¦‚ä½•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§</span></span><br><span class="line">        <span class="keyword">if</span> item.__class__.__name__ == <span class="string">&#x27;DetailItem&#x27;</span>:</span><br><span class="line">            print(item[<span class="string">&#x27;new_id&#x27;</span>],item[<span class="string">&#x27;content&#x27;</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(item[<span class="string">&#x27;new_num&#x27;</span>],item[<span class="string">&#x27;title&#x27;</span>])</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line">    </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;---------------------------items.py----------------------&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define here the models for your scraped items</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># See documentation in:</span></span><br><span class="line"><span class="comment"># https://doc.scrapy.org/en/latest/topics/items.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SunproItem</span>(<span class="params">scrapy.Item</span>):</span></span><br><span class="line">    <span class="comment"># define the fields for your item here like:</span></span><br><span class="line">    title = scrapy.Field()</span><br><span class="line">    new_num = scrapy.Field()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DetailItem</span>(<span class="params">scrapy.Item</span>):</span></span><br><span class="line">    new_id = scrapy.Field()</span><br><span class="line">    content = scrapy.Field()</span><br></pre></td></tr></table></figure><h2 id="13-åˆ†å¸ƒå¼æ¦‚è¿°åŠæ­å»º">13. åˆ†å¸ƒå¼æ¦‚è¿°åŠæ­å»º</h2><p><strong>åˆ†å¸ƒå¼çˆ¬è™«ï¼š</strong></p><ul><li>æ¦‚å¿µï¼šæˆ‘ä»¬éœ€è¦æ­å»ºä¸€ä¸ªåˆ†å¸ƒå¼çš„æœºç¾¤ï¼Œè®©å…¶å¯¹ä¸€ç»„èµ„æºè¿›è¡Œåˆ†å¸ƒè”åˆçˆ¬å–ã€‚</li><li>ä½œç”¨ï¼šæå‡çˆ¬å–æ•°æ®çš„æ•ˆç‡</li></ul><p><strong>å¦‚ä½•å®ç°åˆ†å¸ƒå¼ï¼Ÿ</strong></p><ul><li>å®‰è£…ä¸€ä¸ªscrapy-redisçš„ç»„ä»¶</li><li>åŸç”Ÿçš„scrapyæ˜¯ä¸å¯ä»¥å®ç°åˆ†å¸ƒå¼çˆ¬è™«çš„ï¼Œå¿…é¡»è¦è®©scrapy-redisç»„ä»¶ä¸€èµ·å®ç°åˆ†å¸ƒå¼çˆ¬è™«ã€‚</li></ul><p><strong>ä¸ºä»€ä¹ˆåŸç”Ÿçš„scrapyä¸å¯ä»¥å®ç°åˆ†å¸ƒå¼ï¼Ÿ</strong></p><ul><li>è°ƒåº¦å™¨ä¸å¯ä»¥è¢«åˆ†å¸ƒå¼æœºç¾¤å…±äº«</li><li>ç®¡é“ä¸å¯ä»¥è¢«åˆ†å¸ƒå¼æœºç¾¤å…±äº«</li></ul><p><strong>scrapy-redisç»„ä»¶ä½œç”¨ï¼š</strong></p><ul><li>å¯ä»¥ç»™åŸç”Ÿçš„scrapyæ¡†æ¶æä¾›å¯ä»¥è¢«å…±äº«çš„<em>ç®¡é“</em>å’Œ<em>è°ƒåº¦å™¨</em>ã€‚</li></ul><p><strong>scrapy-rediså®ç°æµç¨‹ï¼š</strong></p><ul><li><p>åˆ›å»ºä¸€ä¸ªå·¥ç¨‹</p></li><li><p>åˆ›å»ºä¸€ä¸ªåŸºäºCrawlSpiderçš„çˆ¬è™«æ–‡ä»¶</p></li><li><p>ä¿®æ”¹å½“å‰çš„çˆ¬è™«æ–‡ä»¶ï¼š</p><ul><li>å¯¼åŒ…ï¼š<code>from scrapy_redis.spiders  import  RedisCrawlSpider</code></li><li>å°†start_urlså’Œallowed_domainsè¿›è¡Œæ³¨é‡Š</li><li>æ·»åŠ ä¸€ä¸ªæ–°å±æ€§ï¼šredis_key = â€™   â€™ å¯ä»¥è¢«å…±äº«çš„è°ƒåº¦å™¨é˜Ÿåˆ—çš„åç§°</li><li>ç¼–å†™æ•°æ®è§£æç›¸å…³çš„æ“ä½œ</li><li>å°†å½“å‰çˆ¬è™«ç±»çš„çˆ¶ç±»ä¿®æ”¹æˆ RedisCrawlSpider</li></ul></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶settings</p><ul><li><p>æŒ‡å®šä½¿ç”¨å¯ä»¥è¢«å…±äº«çš„ç®¡é“ï¼š</p></li><li><p><code>ITEM_PIPELINES = &#123;       'scrapy_redis.pipelines.RedisPipeline': 400 &#125;</code></p></li><li><p>æŒ‡å®šè°ƒåº¦å™¨ï¼š</p></li><li><p>å¢åŠ äº†ä¸€ä¸ªå»é‡å®¹å™¨ç±»çš„é…ç½®ï¼Œä½œç”¨æ˜¯ç”¨Redisçš„seté›†åˆæ¥å­˜å‚¨è¯·æ±‚çš„æŒ‡çº¹æ•°æ®ï¼Œä»è€Œå®ç°è¯·æ±‚å»é‡çš„æŒä¹…åŒ–</p><p><code>DUPEFILTER_CLASS = &quot;scrapy_redis.dupefilter.RFPDupeFilter&quot;</code></p><p>ä½¿ç”¨scrapy-redisç»„ä»¶è‡ªå·±çš„è°ƒåº¦å™¨</p><p><code>SCHEDULER = &quot;scrapy_redis.scheduler.Scheduler&quot;</code></p><p>é…ç½®è°ƒåº¦å™¨æ˜¯å¦è¦æŒä¹…åŒ–ï¼Œä¹Ÿå°±æ˜¯å½“çˆ¬è™«ç»“æŸäº†ï¼Œè¦ä¸è¦æ¸…ç©ºRedisä¸­è¯·æ±‚é˜Ÿåˆ—å’Œå»é‡æŒ‡çº¹çš„setã€‚å¦‚æœæ˜¯Trueï¼Œå°±è¡¨ç¤ºè¦æŒä¹…åŒ–å­˜å‚¨ï¼Œå°±ä¸æ¸…æ•°æ®ï¼Œå¦åˆ™æ¸…ç©ºæ•°æ®</p><p><code>SCHEDULER_PERSIST = True</code></p></li><li><p>æŒ‡å®šredisæœåŠ¡å™¨</p></li></ul></li><li><p>redisç›¸å…³æ“ä½œé…ç½®ï¼š</p><ul><li>é…ç½®redisçš„é…ç½®æ–‡ä»¶ï¼š<ul><li>linuxæˆ–è€…macï¼š<code>redis.conf</code></li><li>windowsï¼š<code>redis.windows.conf</code></li><li>æ‰“å¼€é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼š<ul><li>å°†<code>bind 127.0.0.1</code>è¿›è¡Œæ³¨é‡Šæˆ–åˆ é™¤</li><li>å…³é—­ä¿æŠ¤æ¨¡å¼ï¼š<code>protected-mode yes</code>æ”¹ä¸ºno</li></ul></li></ul></li><li>ç»“åˆç€é…ç½®æ–‡ä»¶å¼€å¯redisæœåŠ¡<ul><li>redis-server é…ç½®æ–‡ä»¶</li><li>å¯åŠ¨å®¢æˆ·ç«¯ï¼šredis-cli</li></ul></li></ul></li><li><p>æ‰§è¡Œå·¥ç¨‹ï¼š</p><ul><li><code>scrapy  runspider  xxx.py</code></li></ul></li><li><p>å‘è°ƒåº¦å™¨çš„é˜Ÿåˆ—ä¸­æ”¾å…¥ä¸€ä¸ªèµ·å§‹çš„urlï¼š</p><ul><li>è°ƒåº¦å™¨çš„é˜Ÿåˆ—åœ¨redisçš„å®¢æˆ·ç«¯ä¸­</li><li><code>lpush  xxx  www.xxx.com</code></li></ul></li><li><p>çˆ¬å–åˆ°çš„æ•°æ®å­˜å‚¨åœ¨äº† redis çš„ <code>proName:items</code> è¿™ä¸ªæ•°æ®ç»“æ„ä¸­</p></li></ul><h2 id="14-å¢é‡å¼çˆ¬è™«">14. å¢é‡å¼çˆ¬è™«</h2><ul><li>**æ¦‚å¿µï¼š**ç›‘æµ‹ç½‘ç«™æ•°æ®æ›´æ–°çš„æƒ…å†µï¼Œåªä¼šçˆ¬å–ç½‘ç«™æœ€æ–°æ›´æ–°å‡ºæ¥çš„æ•°æ®ã€‚</li><li><strong>åˆ†æï¼š</strong><ul><li>æŒ‡å®šä¸€ä¸ªèµ·å§‹url</li><li>åŸºäºCrawlSpiderè·å–å…¶ä»–é¡µç é“¾æ¥</li><li>åŸºäºRuleå°†å…¶ä»–é¡µç é“¾æ¥è¿›è¡Œè¯·æ±‚</li><li>ä»æ¯ä¸€ä¸ªé¡µç å¯¹åº”çš„é¡µé¢æºç ä¸­è§£æå‡ºæ¯ä¸€ä¸ªç”µå½±è¯¦æƒ…é¡µçš„URL</li><li>æ ¸å¿ƒï¼šæ£€æµ‹ç”µå½±è¯¦æƒ…é¡µçš„urlä¹‹å‰æœ‰æ²¡æœ‰è¯·æ±‚è¿‡<ul><li>å°†çˆ¬å–è¿‡çš„ç”µå½±è¯¦æƒ…é¡µçš„urlå­˜å‚¨</li><li>å­˜å‚¨åˆ°redisçš„setæ•°æ®ç»“æ„</li></ul></li><li>å¯¹è¯¦æƒ…é¡µçš„urlå‘èµ·è¯·æ±‚ï¼Œç„¶åè§£æå‡ºç”µå½±çš„åç§°å’Œç®€ä»‹</li><li>è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨</li></ul></li></ul><hr><h1>ä¹ã€è¡¥å……â€”â€”å¼‚æ­¥ç¼–ç¨‹</h1><p><strong>ä¸ºä»€ä¹ˆè¦è®²ï¼Ÿ</strong></p><ul><li>è¿™ä¸€éƒ¨åˆ†çš„çŸ¥è¯†ç‚¹ä¸å¤ªå®¹æ˜“å­¦ä¹ ï¼ˆå¼‚æ­¥éé˜³å¡ã€ asyncioï¼‰</li><li>å¼‚æ­¥ç›¸å…³è¯é¢˜å’Œæ¡†æ¶è¶Šæ¥è¶Šå¤šï¼Œä¾‹å¦‚ï¼štornadoã€fastapiã€django 3.x asgiã€aiohttpéƒ½åœ¨å¼‚æ­¥â†’æå‡æ€§èƒ½</li></ul><p><strong>å¦‚ä½•è®²è§£ï¼Ÿ</strong></p><ul><li>ç¬¬ä¸€éƒ¨åˆ†ï¼šåç¨‹</li><li>ç¬¬äºŒéƒ¨åˆ†ï¼šasyncioæ¨¡å—è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹</li><li>ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹</li></ul><h2 id="1-åç¨‹">1. åç¨‹</h2><p>åç¨‹ä¸æ˜¯è®¡ç®—æœºæä¾›ï¼Œç¨‹åºå‘˜äººä¸ºåˆ›é€ ã€‚</p><p>åç¨‹ï¼ˆ Coroutineï¼‰ï¼Œä¹Ÿå¯ä»¥è¢«ç§°ä¸ºå¾®çº¿ç¨‹ï¼Œæ˜¯ä¸€ç§ç”¨æˆ·æ€å†…çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æŠ€æœ¯ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå…¶å®å°±æ˜¯é€šè¿‡ä¸€ä¸ªçº¿ç¨‹å®ç°ä»£ç å—ç›¸äº’åˆ‡æ¢æ‰§è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line">    ...</span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line">    print(<span class="number">3</span>)</span><br><span class="line">    ...</span><br><span class="line">    print(<span class="number">4</span>)</span><br><span class="line">func1()</span><br><span class="line">func2()</span><br></pre></td></tr></table></figure><p><strong>å®ç°åç¨‹çš„é›†ä¸­æ–¹æ³•ï¼š</strong></p><ul><li>greeletï¼Œæ—©æœŸæ¨¡å—</li><li>yieldå…³é”®å­—</li><li>asyncioè£…é¥°å™¨ï¼ˆpy3.4åŠä»¥åç‰ˆæœ¬ï¼‰</li><li>asyncã€awaitå…³é”®å­—ï¼ˆpy3.5åŠä»¥åç‰ˆæœ¬ï¼‰</li></ul><h3 id="ï¼ˆ1ï¼‰greenletå®ç°åç¨‹">ï¼ˆ1ï¼‰greenletå®ç°åç¨‹</h3><p><code>pip install greenlet</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> greenlet <span class="keyword">import</span> greenlet</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line">    gr2.switch()<span class="comment">#åˆ‡æ¢åˆ°func2å‡½æ•°</span></span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line">    gr2.switch()<span class="comment">#åˆ‡æ¢åˆ°func2å‡½æ•°ï¼Œä»ä¸Šä¸€æ¬¡æ‰§è¡Œçš„ä½ç½®ç»§ç»­å‘åæ‰§è¡Œ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line">    print(<span class="number">3</span>)</span><br><span class="line">    gr1.switch()<span class="comment">#åˆ‡æ¢åˆ°func1å‡½æ•°ï¼Œä»ä¸Šä¸€æ¬¡æ‰§è¡Œçš„ä½ç½®ç»§ç»­å‘åæ‰§è¡Œ</span></span><br><span class="line">    print(<span class="number">4</span>)</span><br><span class="line">gr1 = greenlet(func1)</span><br><span class="line">gr2 = greenlet(func2)</span><br><span class="line">gr1.switch()<span class="comment">#å»æ‰§è¡Œfunc1å‡½æ•°</span></span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ2ï¼‰yieldå…³é”®å­—">ï¼ˆ2ï¼‰yieldå…³é”®å­—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> func2()</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line">f1 = func1()</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> f1:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ3ï¼‰asyncioè£…é¥°å™¨">ï¼ˆ3ï¼‰asyncioè£…é¥°å™¨</h3><p>==é‡åˆ°IOé˜»å¡è‡ªåŠ¨åˆ‡æ¢==</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="meta">@asyncio.coroutine</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> asyncio.sleep(<span class="number">2</span>)<span class="comment">#é‡åˆ°IOè€—æ—¶æ“ä½œï¼Œè‡ªåŠ¨åŒ–åˆ‡æ¢åˆ°tasksä¸­çš„å…¶ä»–ä»»åŠ¡</span></span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line"><span class="meta">@asyncio.coroutine</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line">    print(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> asyncio.sleep(<span class="number">2</span>)<span class="comment">#é‡åˆ°IOè€—æ—¶æ“ä½œï¼Œè‡ªåŠ¨åŒ–åˆ‡æ¢åˆ°tasksä¸­çš„å…¶ä»–ä»»åŠ¡</span></span><br><span class="line">    print(<span class="number">4</span>)</span><br><span class="line">tasks = [</span><br><span class="line">    asyncio.ensure_future(func1()),</span><br><span class="line">    asyncio.ensure_future(func2())</span><br><span class="line">]</span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">loop.run_until_complete(asyncio.wait(tasks))</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ4ï¼‰asyncã€awaitå…³é”®å­—ï¼ˆæ¨èï¼‰">ï¼ˆ4ï¼‰asyncã€awaitå…³é”®å­—ï¼ˆæ¨èï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)<span class="comment">#é‡åˆ°IOè€—æ—¶æ“ä½œï¼Œè‡ªåŠ¨åŒ–åˆ‡æ¢åˆ°tasksä¸­çš„å…¶ä»–ä»»åŠ¡</span></span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line">    print(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)<span class="comment">#é‡åˆ°IOè€—æ—¶æ“ä½œï¼Œè‡ªåŠ¨åŒ–åˆ‡æ¢åˆ°tasksä¸­çš„å…¶ä»–ä»»åŠ¡</span></span><br><span class="line">    print(<span class="number">4</span>)</span><br><span class="line">    </span><br><span class="line">tasks = [</span><br><span class="line">    asyncio.ensure_future(func1()),</span><br><span class="line">    asyncio.ensure_future(func2())</span><br><span class="line">]</span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">loop.run_until_complete(asyncio.wait(tasks))</span><br></pre></td></tr></table></figure><h2 id="2-åç¨‹çš„æ„ä¹‰">2. åç¨‹çš„æ„ä¹‰</h2><p>åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°IOç­‰å¾…çš„æ—¶é—´ï¼Œçº¿ç¨‹ä¸ä¼šç­‰å¾…ï¼Œåˆ©ç”¨ç©ºé—²çš„æ—¶é—´å»åšå…¶ä»–çš„äº‹æƒ…ã€‚</p><p>éœ€æ±‚ï¼šä¸‹è½½ä¸‰å¼ å›¾ç‰‡ï¼ˆç½‘ç»œIOï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;æ™®é€šçš„requestæ–¹å¼&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_image</span>(<span class="params">url</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;å¼€å§‹ä¸‹è½½ï¼š&#x27;</span>, url)</span><br><span class="line">    response = requests.get(url)</span><br><span class="line">    print(<span class="string">&#x27;ä¸‹è½½å®Œæˆ&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    file_name = url.rsplit(<span class="string">&#x27;-&#x27;</span>)[<span class="number">-1</span>]</span><br><span class="line">    <span class="keyword">with</span> open(file_name, mode=<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> file_object:</span><br><span class="line">        file_object.write(response.content)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    url_list = [</span><br><span class="line">        <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/210302/000706-1614614826df15.jpg&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/210228/010301-1614445381005c.jpg&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/190902/152344-1567409024af8c.jpg&#x27;</span></span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> url_list:</span><br><span class="line">        download_image(item)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ä½¿ç”¨aiohttpæ¨¡å—ä¸‹è½½    åç¨‹æ–¹å¼&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> aiohttp</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">fetch</span>(<span class="params">session, url</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;å‘é€è¯·æ±‚ï¼š&#x27;</span>, url)</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> session.get(url, verify_ssl = <span class="literal">False</span>) <span class="keyword">as</span> response:</span><br><span class="line">        content = <span class="keyword">await</span> response.content.read()</span><br><span class="line">        file_name = url.rsplit(<span class="string">&#x27;-&#x27;</span>)[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">with</span> open(file_name, mode=<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> file_object:</span><br><span class="line">            file_object.write(content)</span><br><span class="line">        print(<span class="string">&#x27;ä¸‹è½½å®Œæˆ&#x27;</span>, url)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> aiohttp.ClientSession() <span class="keyword">as</span> session:</span><br><span class="line">        url_list = [</span><br><span class="line">            <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/210302/000706-1614614826df15.jpg&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/210228/010301-1614445381005c.jpg&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/190902/152344-1567409024af8c.jpg&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">        tasks = [asyncio.create_task(fetch(session, url)) <span class="keyword">for</span> url <span class="keyword">in</span> url_list]</span><br><span class="line">        <span class="keyword">await</span> asyncio.wait(tasks)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment">#asyncio.run(main())     #æ­£å¸¸è¿è¡Œä½†æ˜¯ä¼šæŠ¥é”™,æ¢æˆloopæ–¹å¼å°±ok</span></span><br><span class="line">    loop = asyncio.get_event_loop()</span><br><span class="line">    loop.run_until_complete(main())</span><br><span class="line"></span><br><span class="line">print(time.time() - start)</span><br></pre></td></tr></table></figure><h2 id="3-å¼‚æ­¥ç¼–ç¨‹">3. å¼‚æ­¥ç¼–ç¨‹</h2><h3 id="ï¼ˆ1ï¼‰äº‹ä»¶å¾ªç¯">ï¼ˆ1ï¼‰äº‹ä»¶å¾ªç¯</h3><p>**æ¦‚å¿µï¼š**ç†è§£ä¸ºä¸€ä¸ªæ­»å¾ªç¯ï¼Œå»æ£€æµ‹å¹¶æ‰§è¡ŒæŸäº›ä»£ç ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ä¼ªä»£ç </span></span><br><span class="line">ä»»åŠ¡åˆ—è¡¨ = [ä»»åŠ¡1 , ä»»åŠ¡2 , ä»»åŠ¡3 ....]</span><br><span class="line">while True:</span><br><span class="line"><span class="code">å¯æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ï¼Œå·²å®Œæˆçš„ä»»åŠ¡åˆ—è¡¨--&gt;å»ä»»åŠ¡åˆ—è¡¨ä¸­æ£€æµ‹æ‰€æœ‰çš„ä»»åŠ¡ï¼Œå°†â€œå¯æ‰§è¡Œâ€å’Œâ€œå·²å®Œæˆâ€çš„ä»»åŠ¡è¿”å›</span></span><br><span class="line"><span class="code">for å°±ç»ªä»»åŠ¡ in å¯æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨:</span></span><br><span class="line"><span class="code">æ‰§è¡Œå·²å°±ç»ªçš„ä»»åŠ¡</span></span><br><span class="line"><span class="code">    for å·²å®Œæˆçš„ä»»åŠ¡ in å·²å®Œæˆçš„ä»»åŠ¡åˆ—è¡¨:</span></span><br><span class="line"><span class="code">    åœ¨ä»»åŠ¡åˆ—è¡¨ä¸­ç§»é™¤ å·²å®Œæˆçš„ä»»åŠ¡</span></span><br><span class="line"><span class="code">    å¦‚æœ ä»»åŠ¡åˆ—è¡¨ ä¸­çš„ä»»åŠ¡éƒ½å·²ç»å®Œæˆï¼Œåˆ™ç»ˆæ­¢å¾ªç¯ã€‚</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ç”Ÿæˆæˆ–è·å–ä¸€ä¸ªäº‹ä»¶å¾ªç¯</span></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line"><span class="comment"># å°†ä»»åŠ¡taskæ”¾åˆ° ä»»åŠ¡åˆ—è¡¨</span></span><br><span class="line">loop.run_until_complete(task)</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ2ï¼‰å¿«é€Ÿä¸Šæ‰‹">ï¼ˆ2ï¼‰å¿«é€Ÿä¸Šæ‰‹</h3><p>**åç¨‹å‡½æ•°ï¼š**å®šä¹‰å‡½æ•°æ—¶ <code>async def å‡½æ•°å</code></p><p>**åç¨‹å¯¹è±¡ï¼š**æ‰§è¡Œ åç¨‹å‡½æ•° å¾—åˆ°çš„å¯¹è±¡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line">result = func()</span><br></pre></td></tr></table></figure><!--æ³¨æ„ï¼šæ‰§è¡Œåç¨‹å‡½æ•°åˆ›å»ºåç¨‹å¯¹è±¡ï¼Œå‡½æ•°å†…éƒ¨ä»£ç ä¸ä¼šæ‰§è¡Œï¼--><!--å¦‚æœæƒ³è¦è¿è¡Œåç¨‹å‡½æ•°å†…éƒ¨ä»£ç ï¼Œå¿…é¡»è¦å°†åç¨‹ä»£ç äº¤ç»™äº‹ä»¶å¾ªç¯æ¥å¤„ç†ã€‚--><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">print(<span class="string">&#x27;å¿«æ¥æ‰“æˆ‘å§ï¼&#x27;</span>)</span><br><span class="line">result = func()</span><br><span class="line"></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">loop.run_until_complete(result)</span><br><span class="line"><span class="comment">#asyncio.run(result)#python3.7</span></span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ3ï¼‰awaitå…³é”®å­—">ï¼ˆ3ï¼‰awaitå…³é”®å­—</h3><p><code>await å¯ç­‰å¾…çš„å¯¹è±¡(åç¨‹å¯¹è±¡ã€Futureå¯¹è±¡ã€Taskå¯¹è±¡)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹ä¸€&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;æ¥ç©å‘€&#x27;</span>)</span><br><span class="line">    response = <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">&#x27;ç»“æŸ&#x27;</span>, response)</span><br><span class="line"></span><br><span class="line">asyncio.run(func())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹äºŒ&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">others</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;start&#x27;</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;è¿”å›å€¼&#x27;</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;æ‰§è¡Œåç¨‹å‡½æ•°å†…éƒ¨ä»£ç &#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#é‡åˆ°IOæ“ä½œæŒ‚èµ·å½“å‰åç¨‹ï¼ˆä»»åŠ¡ï¼‰ï¼Œç­‰IOæ“ä½œå®Œæˆä»¥åå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œå½“å‰åç¨‹æŒ‚èµ·æ—¶ï¼Œäº‹ä»¶å¾ªç¯å¯ä»¥å»æ‰§è¡Œå…¶ä»–åŒºåç¨‹ï¼ˆä»»åŠ¡</span></span><br><span class="line">    response = <span class="keyword">await</span> others()</span><br><span class="line">    print(<span class="string">&#x27;IOè¯·æ±‚ç»“æŸï¼Œç»“æœä¸ºï¼š&#x27;</span>, response)</span><br><span class="line">asyncio.run(func())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹ä¸‰&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">others</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;start&#x27;</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;è¿”å›å€¼&#x27;</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;æ‰§è¡Œåç¨‹å‡½æ•°å†…éƒ¨ä»£ç &#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ä¸€ä¸ªåç¨‹å‡½æ•°ä¸­å¯ä»¥æœ‰å¤šä¸ªawaitå…³é”®å­—</span></span><br><span class="line">    response1 = <span class="keyword">await</span> others()</span><br><span class="line">    print(<span class="string">&#x27;IOè¯·æ±‚ç»“æŸï¼Œç»“æœä¸ºï¼š&#x27;</span>, response1)</span><br><span class="line"></span><br><span class="line">    response2 = <span class="keyword">await</span> others()</span><br><span class="line">    print(<span class="string">&#x27;IOè¯·æ±‚ç»“æŸï¼Œç»“æœä¸ºï¼š&#x27;</span>, response2)</span><br><span class="line"></span><br><span class="line">asyncio.run(func())</span><br></pre></td></tr></table></figure><!--awaitå°±æ˜¯ç­‰å¾…å¯¹è±¡çš„å€¼å¾—åˆ°ç»“æœä¹‹åå†ç»§ç»­å‘ä¸‹èµ°ã€‚--><h3 id="ï¼ˆ4ï¼‰Taskå¯¹è±¡">ï¼ˆ4ï¼‰Taskå¯¹è±¡</h3><p><a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html?highlight=task#asyncio.Task">Taskå¯¹è±¡å®˜æ–¹æ–‡æ¡£</a></p><p><strong>ä¸»è¦å°±æ˜¯åœ¨äº‹ä»¶å¾ªç¯ä¸­æ·»åŠ å¤šä¸ªä»»åŠ¡ã€‚</strong></p><p>Task ç”¨äºå¹¶å‘è°ƒåº¦åç¨‹ï¼Œ<code>é€šè¿‡asyncio.create_task(åç¨‹å¯¹è±¡)</code> çš„æ–¹å¼åˆ›å»º Task å¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥è®©åç¨‹åŠ å…¥äº‹ä»¶å¾ªç¯ä¸­ç­‰å¾…è¢«è°ƒåº¦æ‰§è¡Œã€‚é™¤äº†ä½¿ç”¨ <code>asyncio.create_task()</code> å‡½æ•°ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä½å±‚çº§çš„ <code>loop.create_task()</code> æˆ–è€… <code>ensure_future()</code> å‡½æ•°ï¼Œä¸å»ºè®®æ‰‹åŠ¨å®ä¾‹åŒ– Task å¯¹è±¡</p><!--æ³¨æ„ï¼šasyncio.create_task() å‡½æ•°åœ¨ Python 3.7 ä¸­è¢«åŠ å…¥ï¼Œåœ¨Python 3.7ä¹‹å‰ï¼Œå¯ä»¥æ”¹ç”¨ä½å±‚çº§çš„ asyncio.ensure_future() å‡½æ•°ã€‚--><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹1&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;è¿”å›å€¼&#x27;</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;mainå¼€å§‹&#x27;</span>)</span><br><span class="line">    <span class="comment"># åˆ›å»ºTaskå¯¹è±¡ï¼Œå°†å½“å‰æ‰§è¡Œfuncå‡½æ•°ä»»åŠ¡æ·»åŠ åˆ°äº‹ä»¶å¾ªç¯</span></span><br><span class="line">    task1 = asyncio.create_task(func())</span><br><span class="line">    <span class="comment"># åˆ›å»ºTaskå¯¹è±¡ï¼Œå°†å½“å‰æ‰§è¡Œfuncå‡½æ•°ä»»åŠ¡æ·»åŠ åˆ°äº‹ä»¶å¾ªç¯</span></span><br><span class="line">    task2 = asyncio.create_task(func())</span><br><span class="line">    print(<span class="string">&#x27;mainç»“æŸ&#x27;</span>)</span><br><span class="line">    <span class="comment"># å½“æ‰§è¡ŒæŸåç¨‹é‡åˆ°IOæ“ä½œæ—¶ï¼Œä¼šè‡ªåŠ¨ååˆ‡æ¢æ‰§è¡Œå…¶ä»–ä»»åŠ¡</span></span><br><span class="line">    <span class="comment"># æ­¤å¤„çš„ await æ˜¯ç­‰å¾…ç›¸å¯¹åº”çš„åç¨‹å…¨éƒ¨æ‰§è¡Œå®Œæ¯•å¹¶è·å–ç»“æœ</span></span><br><span class="line">    ret1 = <span class="keyword">await</span> task1</span><br><span class="line">    ret2 = <span class="keyword">await</span> task2</span><br><span class="line">    print(ret1,ret2)</span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹2&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;è¿”å›å€¼&#x27;</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;mainå¼€å§‹&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    task_list = [</span><br><span class="line">        asyncio.create_task(func(), name=<span class="string">&#x27;n1&#x27;</span>),</span><br><span class="line">        asyncio.create_task(func(), name=<span class="string">&#x27;n2&#x27;</span>)</span><br><span class="line">    ]<span class="comment">#å¤šä¸ªä»»åŠ¡ï¼Œæ›´å¸¸ä½¿ç”¨åˆ—è¡¨å½¢å¼</span></span><br><span class="line">    print(<span class="string">&#x27;mainç»“æŸ&#x27;</span>)    </span><br><span class="line">    </span><br><span class="line">    done, pending = <span class="keyword">await</span> asyncio.wait(task_list, timeout=<span class="literal">None</span>)</span><br><span class="line">    print(done)</span><br><span class="line">    </span><br><span class="line">asyncio.run(main())<span class="comment">#loopäº‹ä»¶å¾ªç¯é¦–å…ˆåˆ›å»ºï¼Œç„¶ååˆ—è¡¨æ‰åˆ›å»ºè¿›å»</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹3&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;è¿”å›å€¼&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨è¿™æ®µä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºåˆ—è¡¨é‡Œçš„ä»£ç ä¼šç«‹å³åŠ åˆ°äº‹ä»¶å¾ªç¯ä¸­å»ï¼Œä½†æ˜¯æ­¤æ—¶äº‹ä»¶å¾ªç¯è¿˜æ²¡æœ‰åˆ›å»º</span></span><br><span class="line"><span class="comment"># task_list = [</span></span><br><span class="line"><span class="comment">#     asyncio.create_task(func(), name=&#x27;n1&#x27;),</span></span><br><span class="line"><span class="comment">#     asyncio.create_task(func(), name=&#x27;n2&#x27;)</span></span><br><span class="line"><span class="comment"># ]</span></span><br><span class="line">task_list = [</span><br><span class="line">    func(),</span><br><span class="line">    func()</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">done, pending = asyncio.run(asyncio.wait(task_list))</span><br><span class="line">print(done)</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ5ï¼‰asyncio-Futureå¯¹è±¡">ï¼ˆ5ï¼‰asyncio.Futureå¯¹è±¡</h3><p><a href="https://docs.python.org/zh-cn/3/library/asyncio-future.html?highlight=future#asyncio.Future">asyncio.Futureå®˜æ–¹æ–‡æ¡£</a></p><p><strong>Task å¯¹è±¡ç»§æ‰¿ Futureï¼ŒTask å¯¹è±¡å†…éƒ¨ await ç»“æœçš„å¤„ç†æ˜¯åŸºäº Future å¯¹è±¡æ¥çš„ã€‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹1&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># è·å–å½“å‰äº‹ä»¶å¾ªç¯</span></span><br><span class="line">    loop = asyncio.get_running_loop()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ä¸ªä»»åŠ¡ï¼ˆFutureå¯¹è±¡ï¼‰ï¼Œè¿™ä¸ªä»»åŠ¡ä»€ä¹ˆéƒ½ä¸å¹²</span></span><br><span class="line">    fut = loop.create_future()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#  ç­‰å¾…ä»»åŠ¡æœ€ç»ˆçš„ç»“æœï¼ˆFutureå¯¹è±¡ï¼‰,æ²¡æœ‰ç»“æœåˆ™ä¼šä¸€ç›´ç­‰ä¸‹å»ã€‚</span></span><br><span class="line">    <span class="keyword">await</span> fut</span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹2&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">set_after</span>(<span class="params">fut</span>):</span></span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    fut.set_result(<span class="string">&#x27;666&#x27;</span>)</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment">#çš„è·å–å½“å‰äº‹ä»¶å¾ªç¯</span></span><br><span class="line">    loop = asyncio.get_running_loop()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ä¸ªä»»åŠ¡ï¼ˆTaskå¯¹è±¡ï¼‰ï¼Œç»‘å®šäº†set_afterå‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨åœ¨2sä¹‹åï¼Œä¼šç»™futèµ‹å€¼</span></span><br><span class="line">    <span class="comment"># å³æ‰‹åŠ¨è®¾ç½®futureä»»åŠ¡çš„æœ€ç»ˆç»“æœï¼Œé‚£ä¹ˆfutå°±å¯ä»¥ç»“æŸäº†</span></span><br><span class="line">    <span class="keyword">await</span> loop.create_task(set_after(fut))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç­‰å¾… future å¯¹è±¡è·å–æœ€ç»ˆç»“æœï¼Œå¦åˆ™ä¼šä¸€ç›´ç­‰ä¸‹å»</span></span><br><span class="line">    data = <span class="keyword">await</span> fut</span><br><span class="line">    print(data)</span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ6ï¼‰concurrent-futures-Futureå¯¹è±¡">ï¼ˆ6ï¼‰concurrent.futures.Futureå¯¹è±¡</h3><p><a href="https://docs.python.org/zh-cn/3/library/concurrent.futures.html?highlight=future#module-concurrent.futures">concurrent.futureså®˜æ–¹æ–‡æ¡£</a></p><p><strong>ä½¿ç”¨è¿›ç¨‹æ± æˆ–è€…çº¿ç¨‹æ± å®ç°å¼‚æ­¥æ“ä½œæ—¶ç”¨åˆ°çš„å¯¹è±¡ã€‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> Future</span><br><span class="line"><span class="keyword">from</span> concurrent.futures.thread <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"><span class="keyword">from</span> concurrent.futures.process <span class="keyword">import</span> ProcessPoolExecutor</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">value</span>):</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    print(value)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># åˆ›å»ºçº¿ç¨‹æ± </span></span><br><span class="line">pool = ThreadPoolExecutor(max_workers= <span class="number">5</span>)</span><br><span class="line"><span class="comment">#åˆ›å»ºè¿›ç¨‹æ± </span></span><br><span class="line"><span class="comment">#  pool = ProcessPoolExecutor(max_workers = 5)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    fut = pool.submit(func, i)</span><br><span class="line">    print(fut)</span><br></pre></td></tr></table></figure><p>ä»¥åå†™ä»£ç æˆ–è®¸è¿˜æœ‰äº¤å‰ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼šcrmé¡¹ç›®80%éƒ½æ˜¯å±äºåŸºäºåç¨‹å¼‚æ­¥ç¼–ç¨‹ + MySQLï¼ˆä¸æ”¯æŒï¼‰ã€çº¿ç¨‹æˆ–è€…è¿›ç¨‹åšå¼‚æ­¥ç¼–ç¨‹ã€‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> concurrent.futures</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    <span class="comment"># æŸä¸ªè€—æ—¶æ“ä½œ</span></span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;SB&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    loop = asyncio.get_running_loop()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 1.Run is the default loop&#x27;s executor(é»˜è®¤ThreadPoolExecutor)</span></span><br><span class="line">    <span class="comment"># step1 ï¼šå†…éƒ¨è°ƒç”¨ThreadPoolExecutor çš„ submit æ–¹æ³•å»çº¿ç¨‹æ± ä¸­ç”³è¯·ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œ func1 å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª concurrent.futures.Future å¯¹è±¡</span></span><br><span class="line">    <span class="comment"># step2 ï¼šè°ƒç”¨asyncio.wrap_future å°† concurrent.futures.Future å¯¹è±¡åŒ…è£…ä¸º asyncio.Future å¯¹è±¡</span></span><br><span class="line">    <span class="comment"># å› ä¸º concurrent.futures.Future å¯¹è±¡ä¸æ”¯æŒ await è¯­æ³•ï¼Œæ‰€ä»¥éœ€è¦åŒ…è£…ä¸º asyncio.Future å¯¹è±¡ï¼Œæ‰å¯ä»¥ä½¿ç”¨</span></span><br><span class="line">    fut = loop.run_in_executor(<span class="literal">None</span>, func1)</span><br><span class="line">    result = <span class="keyword">await</span> fut</span><br><span class="line">    print(<span class="string">&#x27;default thread pool&#x27;</span>, result)</span><br><span class="line">    <span class="comment"># 2.Run in a custom thread pool:</span></span><br><span class="line">    <span class="comment"># with concurrent.futures.ThreadPoolExecutor() as pool:</span></span><br><span class="line">    <span class="comment"># result = await loop.run_in_executor(pool,func1)</span></span><br><span class="line">    <span class="comment"># print(&#x27;custom thread pool&#x27;,result)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 3.Run in a custom process pool:</span></span><br><span class="line">    <span class="comment"># with concurrent.futures.ThreadPoolExecutor() as pool:</span></span><br><span class="line">    <span class="comment"># result = await loop.run_in_executor(pool,func1)</span></span><br><span class="line">    <span class="comment"># print(&#x27;custom process pool&#x27;,result)</span></span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ7ï¼‰æ¡ˆä¾‹ï¼šasyncio-ä¸æ”¯æŒå¼‚æ­¥çš„æ¨¡å—">ï¼ˆ7ï¼‰æ¡ˆä¾‹ï¼šasyncio + ä¸æ”¯æŒå¼‚æ­¥çš„æ¨¡å—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·Ÿå‰ä¸€èŠ‚ä»£ç ä¸€æ ·çš„æ•ˆæœï¼Œä½†æ˜¯æ›´è€—è´¹èµ„æº</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">download_image</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="comment"># å‘é€ç½‘ç»œè¯·æ±‚ï¼Œä¸‹è½½å›¾ç‰‡ï¼ˆé‡åˆ°ç½‘ç»œä¸‹è½½å›¾ç‰‡çš„IOè¯·æ±‚ï¼Œè‡ªåŠ¨åŒ–åˆ‡æ¢åˆ°å…¶ä»–ä»»åŠ¡ï¼‰</span></span><br><span class="line">    print(<span class="string">&#x27;å¼€å§‹ä¸‹è½½&#x27;</span>, url)</span><br><span class="line"></span><br><span class="line">    loop = asyncio.get_event_loop()</span><br><span class="line">    <span class="comment"># requestsæ¨¡å—é»˜è®¤ä¸æ”¯æŒå¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å°±ä½¿ç”¨çº¿ç¨‹æ± æ¥é…åˆå®ç°äº†</span></span><br><span class="line">    future = loop.run_in_executor(<span class="literal">None</span>, requests.get, url)</span><br><span class="line"></span><br><span class="line">    response = <span class="keyword">await</span> future</span><br><span class="line">    print(<span class="string">&#x27;ä¸‹è½½å®Œæˆ&#x27;</span>)</span><br><span class="line">    <span class="comment"># å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶</span></span><br><span class="line">    file_name = url.rsplit(<span class="string">&#x27;-&#x27;</span>)[<span class="number">-1</span>]</span><br><span class="line">    <span class="keyword">with</span> open(file_name, mode=<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> file_object:</span><br><span class="line">        file_object.write(response.content)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    url_list = [</span><br><span class="line">        <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/210302/000706-1614614826df15.jpg&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/200910/200207-1599739327e5a8.jpg&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;https://pic.netbian.com/uploads/allimg/190902/152344-1567409024af8c.jpg&#x27;</span></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    tasks = [download_image(url) <span class="keyword">for</span> url <span class="keyword">in</span> url_list]</span><br><span class="line"></span><br><span class="line">    loop = asyncio.get_event_loop()</span><br><span class="line">    loop.run_until_complete(asyncio.wait(tasks))</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ8ï¼‰å¼‚æ­¥è¿­ä»£å™¨">ï¼ˆ8ï¼‰å¼‚æ­¥è¿­ä»£å™¨</h3><p><strong>ä»€ä¹ˆæ˜¯å¼‚æ­¥è¿­ä»£å™¨ï¼Ÿ</strong></p><p>å®ç°äº† <code>__aiter__()</code> å’Œ <code>__anext__()</code> æ–¹æ³•çš„å¯¹è±¡ã€‚<code>__anext__() </code>å¿…é¡»è¿”å›ä¸€ä¸ª <code>awaitable</code> å¯¹è±¡ã€‚<code>async for</code> ä¼šå¤„ç†å¼‚æ­¥è¿­ä»£å™¨çš„ <code>__anext__() </code> æ–¹æ³•æ‰€è¿”å›çš„å¯ç­‰å¾…å¯¹è±¡ï¼Œç›´åˆ°å…¶å¼•å‘ä¸€ä¸ª <code>StopAsyncIteration</code> å¼‚å¸¸ã€‚ç”± <code>PEP 492</code> å¼•å…¥ã€‚</p><p><strong>ä»€ä¹ˆæ˜¯å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡ï¼Ÿ</strong><br>å¯åœ¨ <code>async for</code> è¯­å¥ä¸­è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚å¿…é¡»é€šè¿‡å®ƒçš„ <code>__aiter__()</code> æ–¹æ³•è¿”å›ä¸€ä¸ª <code>asynchronous iterator</code>ã€‚ç”± <code>PEP 492</code> å¼•å…¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Reader</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;è‡ªå®šä¹‰å¼‚æ­¥è¿­ä»£å™¨ ï¼ˆåŒæ—¶ä¹Ÿæ˜¯ä¸€éƒ¨å¯è¿­ä»£å¯¹è±¡ï¼‰&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">readline</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># await asyncio.sleep(1)</span></span><br><span class="line">        self.count  += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.count == <span class="number">100</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">return</span> self.count</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__aiter__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">__anext__</span>(<span class="params">self</span>):</span></span><br><span class="line">        val = <span class="keyword">await</span> self.readline()</span><br><span class="line">        <span class="keyword">if</span> val == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopAsyncIteration</span><br><span class="line">        <span class="keyword">return</span> val</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    obj = Reader()</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">for</span> item <span class="keyword">in</span> obj:</span><br><span class="line">        print(item)</span><br><span class="line"></span><br><span class="line">asyncio.run( func() )</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ9ï¼‰å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨">ï¼ˆ9ï¼‰å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨</h3><p>æ­¤ç§å¯¹è±¡é€šè¿‡å®šä¹‰ <code>__aenter__()</code> å’Œ <code>__aexit__()</code> æ–¹æ³•æ¥å¯¹ <code>async with</code> è¯­å¥ä¸­çš„ç¯å¢ƒè¿›è¡Œæ§åˆ¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AsyncContextManager</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, conn=None</span>):</span></span><br><span class="line">        self.conn = conn</span><br><span class="line"></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">do_something</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># å¼‚æ­¥æ“ä½œæ•°æ®åº“</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">666</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">__aenter__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># å¼‚æ­¥é“¾æ¥æ•°æ®åº“</span></span><br><span class="line">        self.conn = <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">__aexit__</span>(<span class="params">self, exc_type, exc, tb</span>):</span></span><br><span class="line">        <span class="comment"># å¼‚æ­¥å…³é—­æ•°æ®åº“é“¾æ¥</span></span><br><span class="line">        <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> AsyncContextManager() <span class="keyword">as</span> f:</span><br><span class="line">        result = <span class="keyword">await</span> f.do_something()</span><br><span class="line">        print(result)</span><br><span class="line"></span><br><span class="line">asyncio.run(func())</span><br></pre></td></tr></table></figure><h2 id="4-uvloop">4. uvloop</h2><p><strong>uvloop æ˜¯ asyncio çš„äº‹ä»¶å¾ªç¯çš„æ›¿ä»£æ–¹æ¡ˆã€‚äº‹ä»¶å¾ªç¯ &gt; é»˜è®¤ asyncio çš„äº‹ä»¶å¾ªç¯ã€‚</strong></p><p><code>pip install uvloop</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> uvloop</span><br><span class="line">asyncio.set_event_loop_policy(uvloop.EventLoopPolicy())</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–å†™ asyncio çš„ä»£ç ï¼Œä¸ä¹‹å‰å†™çš„ä»£ç ä¸€è‡´</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å†…éƒ¨çš„äº‹ä»¶å¾ªç¯è‡ªåŠ¨åŒ–ä¼šå˜ä¸º uvloop</span></span><br><span class="line">asyncio.run(...)</span><br></pre></td></tr></table></figure><!--æ³¨æ„ï¼šä¸€ä¸ª asgi ->uvicorn å†…éƒ¨é»˜è®¤ä½¿ç”¨çš„å°±æ˜¯uvloop --><h3 id="5-å®æˆ˜æ¡ˆä¾‹">5. å®æˆ˜æ¡ˆä¾‹</h3><h3 id="ï¼ˆ1ï¼‰å¼‚æ­¥-redis">ï¼ˆ1ï¼‰å¼‚æ­¥ redis</h3><p>åœ¨ä½¿ç”¨ python ä»£ç æ“ä½œ redis æ—¶ï¼Œé“¾æ¥/æ“ä½œ/æ–­å¼€éƒ½æ˜¯ç½‘ç»œIOã€‚</p><p><code>pip install aioredis</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä½œè€…æœªè®¾ç½® redisï¼Œæ•…æ­¤ä»£ç æœªæµ‹è¯•</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> aioredis</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">execute</span>(<span class="params">address, password</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;å¼€å§‹æ‰§è¡Œ&#x27;</span>, address)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šåˆ›å»º redis é“¾æ¥</span></span><br><span class="line">    redis = <span class="keyword">await</span> aioredis.create_redis(address, password = password)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šåœ¨ redis ä¸­è®¾ç½®å“ˆå¸Œå€¼ carï¼Œå†…éƒ¨å†è®¾ä¸‰ä¸ªé”®å€¼å¯¹ï¼Œå³ï¼šredis = &#123;car:&#123;key1:1,key2:2,key3:33&#125;&#125;</span></span><br><span class="line">    <span class="keyword">await</span> redis.hmset_dict(<span class="string">&#x27;car&#x27;</span>, key1 = <span class="number">1</span>, key2 = <span class="number">2</span>, key3 = <span class="number">3</span>)</span><br><span class="line"><span class="comment"># ç½‘ç»œIOæ“ä½œï¼šå» redis ä¸­è·å–å€¼</span></span><br><span class="line">    result = <span class="keyword">await</span> redis.hgetall(<span class="string">&#x27;car&#x27;</span>, encoding = <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    print(result)</span><br><span class="line"></span><br><span class="line">    redis.close()</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šå…³é—­ redis é“¾æ¥</span></span><br><span class="line">    <span class="keyword">await</span> redis.wait_closed()</span><br><span class="line">    print(<span class="string">&#x27;ç»“æŸ&#x27;</span>, address)</span><br><span class="line"></span><br><span class="line">asyncio.run(execute(<span class="string">&#x27;redis://47.93.4.198:6379&#x27;</span>, <span class="string">&quot;root!2345&quot;</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹2&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> aioredis</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">execute</span>(<span class="params">address, password</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;å¼€å§‹æ‰§è¡Œ&#x27;</span>, address)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šå…ˆå»è¿æ¥ 47.93.4.197:6379 é‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢ä»»åŠ¡ï¼Œå»è¿æ¥ 47.93.4.198:6379</span></span><br><span class="line">    redis = <span class="keyword">await</span> aioredis.create_pool(address, password = password)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šé‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢ä»»åŠ¡</span></span><br><span class="line">    <span class="keyword">await</span> redis.hmset_dict(<span class="string">&#x27;car&#x27;</span>, key1 = <span class="number">1</span>, key2 = <span class="number">2</span>, key3 = <span class="number">3</span>)</span><br><span class="line"><span class="comment"># ç½‘ç»œIOæ“ä½œï¼šé‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢ä»»åŠ¡</span></span><br><span class="line">    result = <span class="keyword">await</span> redis.hgetall(<span class="string">&#x27;car&#x27;</span>, encoding = <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    print(result)</span><br><span class="line"></span><br><span class="line">    redis.close()</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šé‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢ä»»åŠ¡</span></span><br><span class="line">    <span class="keyword">await</span> redis.wait_closed()</span><br><span class="line">    print(<span class="string">&#x27;ç»“æŸ&#x27;</span>, address)</span><br><span class="line">    </span><br><span class="line">task_list =[</span><br><span class="line">    execute(<span class="string">&#x27;redis://47.93.4.197:6379&#x27;</span>,<span class="string">&#x27;root!2345&#x27;</span>),</span><br><span class="line">    execute(<span class="string">&#x27;redis://47.93.4.198:6379&#x27;</span>,<span class="string">&#x27;root!2345&#x27;</span>)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">asyncio.run(asyncio.wait(task_list))</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ2ï¼‰å¼‚æ­¥MySQL">ï¼ˆ2ï¼‰å¼‚æ­¥MySQL</h3><p><code>pip3 install aiomysql</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹1&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> aiomysql</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">execute</span>():</span></span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šè¿æ¥ MySQL</span></span><br><span class="line">    conn = <span class="keyword">await</span> aiomysql.connect(host=<span class="string">&#x27;127.0.0.1&#x27;</span>, port= <span class="number">3306</span>, user = <span class="string">&#x27;root&#x27;</span>, password = <span class="string">&#x27;123&#x27;</span>,db= <span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šåˆ›å»º CURSOR</span></span><br><span class="line">    cur = <span class="keyword">await</span> conn.cursor()</span><br><span class="line"><span class="comment"># ç½‘ç»œIOæ“ä½œï¼šæ‰§è¡Œ SQL</span></span><br><span class="line">    <span class="keyword">await</span> cur.execute(<span class="string">&#x27;SELECT Host,User FROM user&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šè·å–SQLç»“æœ</span></span><br><span class="line">    result = <span class="keyword">await</span> cur.fetchall()</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šå…³é—­ é“¾æ¥</span></span><br><span class="line">    <span class="keyword">await</span> cur.close()</span><br><span class="line">    conn.close()</span><br><span class="line"></span><br><span class="line">asyncio.run(execute())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹2&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> aiomysql</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">execute</span>(<span class="params">host, password</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;å¼€å§‹&#x27;</span>, host)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šå…ˆè¿197ï¼Œé‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢ï¼Œå»è¿198</span></span><br><span class="line">    conn = <span class="keyword">await</span> aiomysql.connect(host = host, port= <span class="number">3306</span>, user = <span class="string">&#x27;root&#x27;</span>, password = password,db= <span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šé‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢</span></span><br><span class="line">    cur = <span class="keyword">await</span> conn.cursor()</span><br><span class="line"><span class="comment"># ç½‘ç»œIOæ“ä½œï¼šé‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢</span></span><br><span class="line">    <span class="keyword">await</span> cur.execute(<span class="string">&#x27;SELECT Host,User FROM user&#x27;</span>)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šé‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢</span></span><br><span class="line">    result = <span class="keyword">await</span> cur.fetchall()</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># ç½‘ç»œIOæ“ä½œï¼šé‡åˆ°IOè‡ªåŠ¨åˆ‡æ¢</span></span><br><span class="line">    <span class="keyword">await</span> cur.close()</span><br><span class="line">    conn.close()</span><br><span class="line">    print(<span class="string">&#x27;ç»“æŸ&#x27;</span>, host)</span><br><span class="line">task_list =[</span><br><span class="line">    execute(<span class="string">&#x27;47.93.4.197:6379&#x27;</span>,<span class="string">&#x27;root!2345&#x27;</span>),</span><br><span class="line">    execute(<span class="string">&#x27;47.93.4.198:6379&#x27;</span>,<span class="string">&#x27;root!2345&#x27;</span>)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">asyncio.run(asyncio.wait(task_list))</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ3ï¼‰FastAPIæ¡†æ¶">ï¼ˆ3ï¼‰FastAPIæ¡†æ¶</h3><p><code>pip3 install fastapi</code>   <code>pip3 install uvicorn</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> uvicorn</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(&quot;/&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;æ™®é€šæ“ä½œæ¥å£&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span>&#123;<span class="string">&quot;message&quot;</span>:<span class="string">&quot;Hello World&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    uvicorn.run(<span class="string">&quot;luffy:app&quot;</span>,host= <span class="string">&#x27;127.0.0.1&#x27;</span>,port= <span class="number">5000</span>, log_level= <span class="string">&#x27;info&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ç¤ºä¾‹2&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> aioredis <span class="keyword">import</span> Redis</span><br><span class="line"><span class="keyword">import</span> uvicorn</span><br><span class="line"><span class="keyword">import</span> aioredis</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªredisçš„è¿æ¥æ±  å®é™…è¿è¡Œæ—¶æ›´æ¢è‡ªå·±çš„redis</span></span><br><span class="line">REDIS_POOL = aioredis.ConnectionPool(<span class="string">&#x27;redis://47.193.14.198:6379&#x27;</span>, password= <span class="string">&#x27;root123&#x27;</span>, minsize = <span class="number">1</span> , maxsize = <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(&quot;/&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;æ™®é€šæ“ä½œæ¥å£&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span>&#123;<span class="string">&quot;message&quot;</span>:<span class="string">&quot;Hello World&quot;</span>&#125;</span><br><span class="line"><span class="meta">@app.get(&#x27;/red&#x27;)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">red</span>():</span></span><br><span class="line">    <span class="comment"># å¼‚æ­¥æ“ä½œæ¥å£</span></span><br><span class="line">    print(<span class="string">&#x27;è¯·æ±‚æ¥äº†&#x27;</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">3</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è¿æ¥æ± è·å–ä¸€ä¸ªè¿æ¥</span></span><br><span class="line">    conn = <span class="keyword">await</span> REDIS_POOL.acquire()</span><br><span class="line">    redis = Redis(conn)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è®¾ç½®å€¼</span></span><br><span class="line">    <span class="keyword">await</span> redis.hmset_dict(<span class="string">&#x27;car&#x27;</span>,key1 = <span class="number">1</span>,key2 = <span class="number">2</span>,key3 =<span class="number">3</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è¯»å–å€¼</span></span><br><span class="line">    result = <span class="keyword">await</span> redis.hgetall(<span class="string">&#x27;car&#x27;</span>, encoding =<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#è¿æ¥å½’è¿˜è¿æ¥æ± </span></span><br><span class="line">    REDIS_POOL.release(conn)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    uvicorn.run(<span class="string">&quot;è„šæœ¬å:app&quot;</span>,host= <span class="string">&#x27;127.0.0.1&#x27;</span>,port= <span class="number">5000</span>, log_level= <span class="string">&#x27;info&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ4ï¼‰å¼‚æ­¥çˆ¬è™«">ï¼ˆ4ï¼‰å¼‚æ­¥çˆ¬è™«</h3><p><code>pip3 install aiohttp</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;ä½¿ç”¨aiohttpæ¨¡å—ä¸‹è½½    åç¨‹æ–¹å¼&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> aiohttp</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">fetch</span>(<span class="params">session, url</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;å‘é€è¯·æ±‚ï¼š&#x27;</span>, url)</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> session.get(url, verify_ssl = <span class="literal">False</span>) <span class="keyword">as</span> response:</span><br><span class="line">        text = <span class="keyword">await</span> response.text()</span><br><span class="line">        file_name = url.rsplit(<span class="string">&#x27;-&#x27;</span>)[<span class="number">-1</span>]</span><br><span class="line">        print(<span class="string">&#x27;å¾—åˆ°ç»“æœï¼š&#x27;</span>, url , len(text))</span><br><span class="line">        <span class="keyword">return</span> text</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> aiohttp.ClientSession() <span class="keyword">as</span> session:</span><br><span class="line">        url_list = [</span><br><span class="line">            <span class="string">&#x27;https://python.org&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;https://www.baidu.com&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;https://www.pythonav.com&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">        tasks = [asyncio.create_task(fetch(session, url)) <span class="keyword">for</span> url <span class="keyword">in</span> url_list]</span><br><span class="line">        done, pending = <span class="keyword">await</span> asyncio.wait(tasks)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    asyncio.run(main())    </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>yarnçš„å®‰è£…ä½¿ç”¨</title>
      <link href="/yarn-add.html"/>
      <url>/yarn-add.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2021/02/06/42f0bdfb8e74577e9e0e9cae11816eb4.png" alt=""></p><script src="https://cdn.jsdelivr.net/npm/hls.js"></script><video id="video" preload loop style="height: 100%;width: 100%;object-fit: cover;"></video><script>  var video = document.getElementById('video');  var videoSrc = 'https://cdn.jsdelivr.net/gh/Ysnsn/video-cdn/2021/7/00.m3u8';  if (Hls.isSupported()) {    var hls = new Hls();    hls.loadSource(videoSrc);    hls.attachMedia(video);    hls.on(Hls.Events.MANIFEST_PARSED, function() {      video.play();    });  }</script><h1>èƒŒæ™¯</h1><p>åœ¨ Node ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œä¾èµ–é€šå¸¸å®‰è£…åœ¨é¡¹ç›®çš„ <code>node_modules</code> æ–‡ä»¶å¤¹ä¸­ã€‚ç„¶è€Œï¼Œè¿™ä¸ªæ–‡ä»¶çš„ç»“æ„å’Œå®é™…ä¾èµ–æ ‘å¯èƒ½æœ‰æ‰€åŒºåˆ«ï¼Œå› ä¸ºé‡å¤çš„ä¾èµ–å¯ä»¥åˆå¹¶åˆ°ä¸€èµ·ã€‚<code>npm</code> å®¢æˆ·ç«¯æŠŠä¾èµ–å®‰è£…åˆ° <code>node_modules</code> ç›®å½•çš„è¿‡ç¨‹å…·æœ‰ä¸ç¡®å®šæ€§ã€‚è¿™æ„å‘³ç€å½“ä¾èµ–çš„å®‰è£…é¡ºåºä¸åŒæ—¶ï¼Œ<code>node_modules</code> ç›®å½•çš„ç»“æ„å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚è¿™ç§å·®å¼‚å¯èƒ½ä¼šå¯¼è‡´ç±»ä¼¼â€œæˆ‘çš„ç”µè„‘ä¸Šå¯ä»¥è¿è¡Œï¼Œåˆ«çš„ç”µè„‘ä¸Šä¸è¡Œâ€çš„æƒ…å†µï¼Œå¹¶ä¸”é€šå¸¸éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´å®šä¸ºä¸è§£å†³ã€‚</p><blockquote><p>æœ‰æ—¶å€™å°±ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œå®Œæ•´å¯è¿è¡Œçš„é¡¹ç›®ä¸Šä¼ åˆ° git ä¸Šï¼Œåˆ«äºº pull ä¸‹æ¥ä»¥åï¼Œnpm install ä¼šæŠ¥é”™ã€‚</p></blockquote><p><a href="https://github.com/yarnpkg/yarn">Yarn</a> ä¸€å¼€å§‹çš„ä¸»è¦ç›®æ ‡æ˜¯è§£å†³ç”±äºè¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶è€Œå¯¼è‡´çš„ npm å®‰è£…çš„ä¸ç¡®å®šæ€§é—®é¢˜ã€‚è™½ç„¶å¯ä»¥ç”¨ <code>npm shrinkwrap</code> æ¥å®ç°å¯é¢„æµ‹çš„ä¾èµ–å…³ç³»æ ‘ï¼Œä½†å®ƒå¹¶ä¸æ˜¯é»˜è®¤é€‰é¡¹ï¼Œè€Œæ˜¯å–å†³äºæ‰€æœ‰çš„å¼€å‘äººå‘˜æŒ‡å¯¼å¹¶å¯ç”¨è¿™ä¸ªé€‰é¡¹ã€‚</p><blockquote><p>npm 5+ ä»¥åçš„ç‰ˆæœ¬åŠ å…¥äº† package-lock.json å¯ä»¥ç”¨æ¥é”ç‰ˆæœ¬ï¼Œpackage-lock.json çš„åå­—ï¼Œä¸€çœ‹å°±æ‡‚ï¼Œæ›´æ¸…æ¥šï¼Œä½†æ˜¯ä¸å‘åå…¼å®¹ã€‚</p><p>npm-shrinkwrap.json å‘åå…¼å®¹ npm 2-4ã€‚</p></blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼š<br>npm å¯¹åŒ…å¼•å…¥é¡ºåºä¹Ÿååˆ†çš„æ•æ„Ÿï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªç©ºé¡¹ç›®é‡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br><span class="line">npm install globule@0.1.0 -S</span><br><span class="line">npm install babel-generator@6.19.0 -S</span><br><span class="line">npm install babel-helper-define-map@6.18.0 -S</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿™é‡Œå®‰è£…äº† 3 ä¸ªåŒ…éƒ½ä¾èµ–äº lodashï¼Œä¸è¿‡ globule ä¾èµ– lodash@1.0.3ï¼Œå¦å¤–å¦ä¸ªä¾èµ– lodash@4.xã€‚<br>ç°åœ¨ç›®å½•ä¾èµ–ç»“æ„å¦‚ä¸‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2021/02/06/7bb59830fb98c98421ad8c099d18fdf2.png" alt=""></p><p>è¿™æ˜¯å‡è®¾æˆ‘ä»¬åœ¨é¡¹ç›®é‡Œä½¿ç”¨ lodashï¼Œä½†æ˜¯å¿˜è®°é‡æ–°å®‰è£… lodash</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var lodash &#x3D; require(&#39;lodash&#39;)</span><br><span class="line">console.log(lodash.VERSION)  &#x2F;&#x2F; v1.0.3</span><br></pre></td></tr></table></figure><p>å¦ä¸€ä¸ªåŒäº‹è·å–é¡¹ç›®ä»£ç ï¼Œæ‰§è¡Œ <code>npm install</code>ï¼Œè¿™æ—¶çš„ç›®å½•ä¾èµ–ç»“æ„é‡Œé¢ï¼Œç¬¬ä¸€å±‚ä¾èµ–çš„ lodash å˜æˆäº† 4.x ç‰ˆæœ¬ï¼Œè¿™æ ·å°±é€ æˆäº†ä¾èµ–ç‰ˆæœ¬ä¸ä¸€è‡´çš„é—®é¢˜ã€‚è€Œ yarn åˆ™ä¼šä¿è¯æ— è®ºæ€æ ·å¼•å…¥çš„é¡ºåºï¼Œç›®å½•ä¾èµ–ç»“æ„éƒ½æ˜¯ä¸€è‡´çš„ï¼Œç¡®ä¿ä¸ä¼šå‘ç”Ÿè¿™æ ·çš„BUGã€‚</p><h1>ä»€ä¹ˆæ˜¯ Yarn</h1><p>Yarn å°±æ˜¯ä¸€ä¸ªç±»ä¼¼äº npm çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå®ƒæ˜¯ç”± facebook æ¨å‡ºå¹¶å¼€æºã€‚</p><p>ä¸ npm ç›¸æ¯”ï¼Œyarn æœ‰ç€ä¼—å¤šçš„ä¼˜åŠ¿ï¼Œä¸»è¦çš„ä¼˜åŠ¿åœ¨äºï¼šé€Ÿåº¦å¿«ã€ç¦»çº¿æ¨¡å¼ã€ç‰ˆæœ¬æ§åˆ¶ã€‚</p><h2 id="é€Ÿåº¦å¿«">é€Ÿåº¦å¿«</h2><p>npm ä¼šç­‰ä¸€ä¸ªåŒ…å®Œå…¨å®‰è£…å®Œæ‰è·³åˆ°ä¸‹ä¸€ä¸ªåŒ…ï¼Œä½† yarn ä¼šå¹¶è¡Œæ‰§è¡ŒåŒ…ï¼Œå› æ­¤é€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚</p><p>Yarn ä¼šç¼“å­˜å®ƒä¸‹è½½çš„æ¯ä¸ªåŒ…ï¼Œæ‰€ä»¥æ— éœ€é‡å¤ä¸‹è½½ã€‚å®ƒè¿˜èƒ½å¹¶è¡ŒåŒ–æ“ä½œä»¥æœ€å¤§åŒ–èµ„æºåˆ©ç”¨ç‡ï¼Œå®‰è£…é€Ÿåº¦ä¹‹å¿«å‰æ‰€æœªæœ‰ã€‚</p><h2 id="ç¦»çº¿æ¨¡å¼">ç¦»çº¿æ¨¡å¼</h2><p>ä¹‹å‰å®‰è£…è¿‡çš„åŒ…ä¼šè¢«ä¿å­˜è¿›ç¼“å­˜ç›®å½•ï¼Œä»¥åå®‰è£…å°±ç›´æ¥ä»ç¼“å­˜ä¸­å¤åˆ¶è¿‡æ¥ï¼Œè¿™æ ·åšçš„æœ¬è´¨è¿˜æ˜¯ä¼šæé«˜å®‰è£…ä¸‹è½½çš„é€Ÿåº¦ï¼Œé¿å…ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚ã€‚</p><h2 id="å¯é å¯ç¡®å®šæ€§">å¯é å¯ç¡®å®šæ€§</h2><p>ä¿è¯å„å¹³å°ä¾èµ–çš„ä¸€è‡´æ€§</p><h2 id="ç½‘ç»œä¼˜åŒ–">ç½‘ç»œä¼˜åŒ–</h2><p>åŠ›æ±‚ç½‘ç»œèµ„æºæœ€å¤§åˆ©ç”¨åŒ–ï¼Œè®©èµ„æºä¸‹è½½å®Œç¾é˜Ÿåˆ—æ‰§è¡Œï¼Œé¿å…å¤§é‡çš„æ— ç”¨è¯·æ±‚ï¼Œä¸‹è½½å¤±è´¥ä¼šè‡ªåŠ¨é‡æ–°è¯·æ±‚ï¼Œé¿å…æ•´ä¸ªå®‰è£…è¿‡ç¨‹å¤±è´¥</p><h2 id="æ‰å¹³åŒ–æ¨¡å¼">æ‰å¹³åŒ–æ¨¡å¼</h2><p>å¯¹äºä¸åŒ¹é…çš„ä¾èµ–ç‰ˆæœ¬çš„åŒ…åˆ›ç«‹ä¸€ä¸ªç‹¬ç«‹çš„åŒ…ï¼Œé¿å…åˆ›å»ºé‡å¤çš„ã€‚<br>å¯¹äºå¤šä¸ªåŒ…ä¾èµ–åŒä¸€ä¸ªå­åŒ…çš„æƒ…å†µï¼Œyarn ä¼šå°½é‡æå–ä¸ºåŒä¸€ä¸ªåŒ…ï¼Œé˜²æ­¢å‡ºç°å¤šå¤„å‰¯æœ¬ï¼Œæµªè´¹ç©ºé—´ã€‚</p><h2 id="ç‰ˆæœ¬æ§åˆ¶">ç‰ˆæœ¬æ§åˆ¶</h2><p>npm ç”¨ä¸‹æ¥æ¯”è¾ƒå¼ºçš„ä¸€ä¸ªç—›ç‚¹å°±æ˜¯ï¼šå½“åŒ…çš„ä¾èµ–å±‚æ¬¡æ¯”è¾ƒæ·±æ—¶ï¼Œç‰ˆæœ¬æ§åˆ¶ä¸å¤Ÿç²¾ç¡®ã€‚ä¼šå‡ºç°ç›¸åŒ package.jsonï¼Œä½†ä¸åŒäººçš„ç”µè„‘ä¸Šå®‰è£…å‡ºä¸åŒç‰ˆæœ¬çš„ä¾èµ–åŒ…ï¼Œå‡ºç°ç±»ä¼¼â€œæˆ‘çš„ç”µè„‘ä¸Šå¯ä»¥è¿è¡Œï¼Œåˆ«çš„ç”µè„‘ä¸Šä¸è¡Œâ€çš„ bug å¾ˆéš¾æŸ¥æ‰¾ã€‚ä½ å¯ä»¥ä½¿ç”¨ <a href="https://docs.npmjs.com/cli/shrinkwrap">npm-shrinkwrap</a> æ¥å®ç°ç‰ˆæœ¬å›ºåŒ–ï¼Œç‰ˆæœ¬ä¿¡æ¯ä¼šå†™å…¥ npm-shrinkwrap.json æ–‡ä»¶ä¸­ï¼Œä½†å®ƒæ¯•ç«Ÿä¸æ˜¯ npm çš„æ ‡å‡†é…ç½®ã€‚</p><p>è€Œ yarn å¤©ç”Ÿå°±èƒ½å®ç°ç‰ˆæœ¬å›ºåŒ–ã€‚ä¼šç”Ÿæˆä¸€ä¸ªç±»ä¼¼ npm-shrinkwrap.json çš„ yarn.lock æ–‡ä»¶ï¼Œè€Œæ–‡ä»¶å†…ä¼šæè¿°åŒ…è‡ªèº«çš„ç‰ˆæœ¬å·ï¼Œè¿˜ä¼šé”å®šæ‰€æœ‰å®ƒä¾èµ–çš„åŒ…çš„ç‰ˆæœ¬å·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;@babel&#x2F;code-frame@7.0.0-beta.47&quot;:</span><br><span class="line">  version &quot;7.0.0-beta.47&quot;</span><br><span class="line">  resolved &quot;https:&#x2F;&#x2F;registry.yarnpkg.com&#x2F;@babel&#x2F;code-frame&#x2F;-&#x2F;code-frame-7.0.0-beta.47.tgz#d18c2f4c4ba8d093a2bcfab5616593bfe2441a27&quot;</span><br><span class="line">  dependencies:</span><br><span class="line">    &quot;@babel&#x2F;highlight&quot; &quot;7.0.0-beta.47&quot;</span><br></pre></td></tr></table></figure><p>yarn.lock å­˜å‚¨ç€ä½ çš„æ¯ä¸ªåŒ…çš„ç¡®åˆ‡ä¾èµ–ç‰ˆæœ¬ï¼Œèƒ½ç¡®ä¿ä»æœ¬åœ°å¼€å‘åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæ‰€æœ‰æœºå™¨ä¸Šéƒ½æœ‰ç²¾ç¡®ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬ã€‚</p><h2 id="å…¶ä»–å…³äº-Yarn-çš„ä»‹ç»">å…¶ä»–å…³äº Yarn çš„ä»‹ç»</h2><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ Yarn æ—¶ï¼Œä¾ç„¶è¦è®¿é—® npm ä»“åº“ï¼Œä½† Yarn èƒ½å¤Ÿæ›´å¿«é€Ÿåœ°å®‰è£…è½¯ä»¶åŒ…å’Œç®¡ç†ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è·¨æœºå™¨æˆ–è€…æ— ç½‘ç»œçš„å®‰å…¨ç¯å¢ƒä¸­ä¿æŒä»£ç çš„ä¸€è‡´æ€§ã€‚</p><h1>Yarn å®‰è£…</h1><h2 id="windows">windows</h2><p>åœ¨ Yarn ä¸­æ–‡ç½‘å¯ä»¥æ‰¾åˆ° window ä¸‹çš„ä¸‰ç§å®‰è£…æ–¹æ³•ï¼š</p><p>[<img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2021/02/06/f8abe641e1e4e13558e959abeb955c6e.png" alt="yarn-install"></p><p>ä¸è¿‡æˆ‘è§‰å¾—è¿™ä¸‰ç§æ–¹æ³•éƒ½ä¸å¥½ç”¨ï¼Œå¿«é€Ÿå¥½ç”¨çš„å®‰è£…æ–¹æ³•åº”è¯¥è¿˜æ˜¯ä½¿ç”¨ npm æ¥å®‰è£…ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yarn</span><br></pre></td></tr></table></figure><p>å…³äºä¸ºä»€ä¹ˆä½¿ç”¨ <code>-g</code>ï¼Œä»¥åŠ <code>-g</code> ä¼šå¸¦æ¥å“ªæ¥å½±å“ï¼Œè¿™ä¸ªå¯ä»¥çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼š<a href="https://neveryu.github.io/2017/04/10/npm/">npmè¯¦ç»†ä»‹ç»</a>ï¼Œé‡Œé¢è¯¦ç»†ä»‹ç»äº†ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ <code>-g</code>ï¼Œä»¥åŠ <code>-g</code> çš„ä½œç”¨ã€‚</p><h2 id="mac">mac</h2><h3 id="æ–¹å¼ä¸€">æ–¹å¼ä¸€</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yarn</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰æŠ¥ï¼š <code>Please try running this command again as root/Administrator.</code>ï¼Œå¯èƒ½å°±æ˜¯æƒé™ä¸è¶³ï¼Œå› æ­¤ä½ éœ€è¦åˆ‡æ¢åˆ°æœ€é«˜æƒé™å»æ‰§è¡Œå‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo -s</span><br><span class="line">npm install yarn -g</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼äºŒ">æ–¹å¼äºŒ</h3><p>ä½¿ç”¨å¦ä¸€ç§åˆå§‹åŒ–è„šæœ¬çš„æ–¹æ³•ï¼Œå¯èƒ½å°±ä¼šæ¯”è¾ƒç®€å•ä¸€äº›ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- -L https:&#x2F;&#x2F;yarnpkg.com&#x2F;install.sh | bash</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼ä¸‰">æ–¹å¼ä¸‰</h3><p>å¦‚æœä½ çš„ç”µè„‘ä¸Šé¢å·²ç»å®‰è£…äº† Homebrew çš„è¯ï¼Œä½ å¯ä»¥é€šè¿‡ Homebrew åŒ…ç®¡ç†å™¨å®‰è£… Yarn</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install yarn</span><br></pre></td></tr></table></figure><h1>Yarn æ¢æº</h1><p>Yarn æºä»“åº“åŒ…ä¸‹è½½ä¸ç¨³å®š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æŸ¥çœ‹ yarn é…ç½®</span><br><span class="line">yarn config get registry</span><br><span class="line">æˆ–è€…</span><br><span class="line">yarn config list</span><br><span class="line"></span><br><span class="line">&gt; registry: &#39;https:&#x2F;&#x2F;registry.yarnpkg.com&#39;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å®‰è£…æ·˜å®é•œåƒ</span><br><span class="line">yarn config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure><h1>Yarn å¸¸ç”¨å‘½ä»¤</h1><ul><li><code>npm install</code> === <code>yarn</code> â€”â€” installå®‰è£…æ˜¯é»˜è®¤è¡Œä¸º</li><li><code>npm install taco --save</code> === <code>yarn add taco</code> â€”â€” tacoåŒ…ç«‹å³è¢«ä¿å­˜åˆ° <code>package.json</code> ä¸­ã€‚</li><li><code>npm uninstall taco --save</code> === <code>yarn remove taco</code></li><li><code>npm install taco --save-dev</code> === <code>yarn add taco --dev</code></li><li><code>npm update --save</code> === <code>yarn upgrade</code></li></ul><p>-</p><ul><li><code>npm install taco@latest --save</code> === <code>yarn add taco</code></li><li><code>npm install taco --global</code> === <code>yarn global add taco</code> â€”â€” ä¸€å¦‚æ—¢å¾€ï¼Œè¯·è°¨æ…ä½¿ç”¨ global æ ‡è®°ã€‚</li></ul><blockquote><p>æ³¨æ„ï¼šä½¿ç”¨yarnæˆ–yarn installå®‰è£…å…¨éƒ¨ä¾èµ–æ—¶æ˜¯æ ¹æ®package.jsoné‡Œçš„â€dependenciesâ€å­—æ®µæ¥å†³å®šçš„</p></blockquote><p>-</p><ul><li><code>npm init</code> === <code>yarn init</code></li><li><code>npm init --yes/-y</code> === <code>yarn init --yes/-y</code></li><li><code>npm link</code> === <code>yarn link</code></li><li><code>npm outdated</code> === <code>yarn outdated</code></li><li><code>npm publish</code> === <code>yarn publish</code></li><li><code>npm run</code> === <code>yarn run</code></li><li><code>npm cache clean</code> === <code>yarn cache clean</code></li><li><code>npm login</code> === <code>yarn login</code></li><li><code>npm test</code> === <code>yarn test</code></li></ul><h2 id="Yarn-ç‹¬æœ‰çš„å‘½ä»¤">Yarn ç‹¬æœ‰çš„å‘½ä»¤</h2><ul><li><code>yarn licenses ls</code> â€”â€” å…è®¸ä½ æ£€æŸ¥ä¾èµ–çš„è®¸å¯ä¿¡æ¯</li><li><code>yarn licenses generate</code> â€”â€” è‡ªåŠ¨åˆ›å»ºä¾èµ–å…è´£å£°æ˜ license</li><li><code>yarn why taco</code> â€”â€” æ£€æŸ¥ä¸ºä»€ä¹ˆä¼šå®‰è£… tacoï¼Œè¯¦ç»†åˆ—å‡ºä¾èµ–å®ƒçš„å…¶ä»–åŒ…</li><li><code>yarn why vuepress</code> â€”â€” æ£€æŸ¥ä¸ºä»€ä¹ˆä¼šå®‰è£… vuepressï¼Œè¯¦ç»†åˆ—å‡ºä¾èµ–å®ƒçš„å…¶ä»–åŒ…</li></ul><h1>ç‰¹æ€§</h1><p>Yarn é™¤äº†è®©å®‰è£…è¿‡ç¨‹å˜å¾—æ›´å¿«ä¸æ›´å¯é ï¼Œè¿˜æ·»åŠ äº†ä¸€äº›é¢å¤–çš„ç‰¹æ€§ï¼Œä»è€Œè¿›ä¸€æ­¥ç®€åŒ–ä¾èµ–ç®¡ç†çš„å·¥ä½œæµã€‚</p><ul><li>åŒæ—¶å…¼å®¹ <code>npm</code> ä¸ <code>bower</code> å·¥ä½œæµï¼Œå¹¶æ”¯æŒä¸¤ç§è½¯ä»¶ä»“åº“æ··åˆä½¿ç”¨</li><li>å¯ä»¥é™åˆ¶å·²å®‰è£…æ¨¡å—çš„åè®®ï¼Œå¹¶æä¾›æ–¹æ³•è¾“å‡ºåè®®ä¿¡æ¯</li><li>æä¾›ä¸€å¥—ç¨³å®šçš„å…±æœ‰ JS APIï¼Œç”¨äºè®°å½•æ„å»ºå·¥å…·çš„è¾“å‡ºä¿¡æ¯</li><li>å¯è¯»ã€æœ€å°åŒ–ã€ç¾è§‚çš„ CLI è¾“å‡ºä¿¡æ¯</li></ul>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yarn </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>termuxé«˜é˜¶ä½¿ç”¨æ•™ç¨‹</title>
      <link href="/termux.html"/>
      <url>/termux.html</url>
      
        <content type="html"><![CDATA[<script src="https://cdn.jsdelivr.net/npm/hls.js"></script><video id="video" preload loop style="height: 100%;width: 100%;object-fit: cover;"></video><script>  var video = document.getElementById('video');  var videoSrc = 'https://cdn.jsdelivr.net/gh/Ysnsn/video-cdn/2021/3/00.m3u8';  if (Hls.isSupported()) {    var hls = new Hls();    hls.loadSource(videoSrc);    hls.attachMedia(video);    hls.on(Hls.Events.MANIFEST_PARSED, function() {      video.play();    });  }</script><blockquote><p>æœ¬æ–‡æ‘˜è‡ª <em>å›½å…‰</em> <a href="https://www.sqlsec.com/2018/05/termux.html">https://www.sqlsec.com/2018/05/termux.html</a></p></blockquote><p><img src="https://image.3001.net/images/20180501/15251875958364.png" alt="img"></p><p>Termux é«˜çº§ç»ˆç«¯å®‰è£…ä½¿ç”¨é…ç½®æ•™ç¨‹ï¼Œåˆšå†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå½“æ—¶å›½å†… Termux ç›¸å…³çš„æ–‡ç« å’Œèµ„æ–™ç›¸å¯¹æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œå°±èŠ±äº†å‡ å¤©å†™äº†è¿™ä¸€ç¯‡æ–‡ç« ï¼Œæ²¡æƒ³åˆ°å±…ç„¶ç«äº†ï¼Œå—å® è‹¥æƒŠã€‚æ‰€ä»¥è¿™ç¯‡æ–‡ç« å›½å…‰å°±æ‰“ç®—å®šæœŸæ›´æ–°äº†ï¼Œæƒ³æ‰“é€ æˆ termux çš„ä¸­æ–‡æ–‡æ¡£ï¼Œå¸Œæœ›æœ¬æ–‡å¯ä»¥å¸®åŠ©åˆ°æ›´å¤šå¯¹ Termux æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œå‘æŒ¥ Android å¹³å°æ›´å¤§çš„ DIY ç©ºé—´ã€‚</p><h1>ç‰ˆæƒå£°æ˜</h1><p>17 å¹´å¼€å§‹æ¥è§¦åˆ° Termuxï¼Œå°±å‘ç°å®ƒæœ‰å¾ˆå¤šå€¼å¾—æŒ–æ˜çš„æ½œåŠ›ï¼Œäºæ˜¯æŠ½ç©ºåœ¨ 18 å¹´çš„æŸä¸€ä¸ªæ³•å®šçš„æ•´æ•´èŠ±äº†ä¸‰å¤©å‡æœŸå¼€æ‰å†™å®Œç¬¬ä¸€ç‰ˆæ–‡ç« ï¼Œç„¶åæ–‡ç« é™†é™†ç»­ç»­æ›´æ–°åˆ°ç°åœ¨ï¼ŒæœŸé—´æœ‰ä¸€æ¬¡è¯¯æ“ä½œä¸å°å¿ƒæŠŠåšå®¢æ‰€æœ‰çš„è¯„è®ºéƒ½åˆ äº†ï¼Œå¦åˆ™è¿™ç¯‡æ–‡ç« çš„è¯„è®ºæ•°ä¼šæ›´å¤šã€‚ç°åœ¨æœ¬æ–‡çš„æˆªå›¾æ•°é‡è¾¾åˆ°äº†150å¼ å·¦å³äº†ï¼Œæ–‡å­—æ•°ç›®å·²ç»æ•°ä¸‡å¤šäº†ã€‚è‡ªå·±èŠ±äº†å¾ˆé•¿æ—¶é—´å†™å‡ºæ¥çš„åŸåˆ›æ–‡ç« ï¼ŒæŠ„è¢­ç™½å«–å…šç›´æ¥Ctrl+C Ctrl+Våªè¦å‡ ç§’é’Ÿã€‚åŸåˆ›å¾ˆè¾›è‹¦ï¼ŒæŠ„è¢­çš„æˆæœ¬å´å¾ˆä½ï¼Œç»´æƒçš„æˆæœ¬åˆå¾ˆé«˜ï¼Œè™½ç„¶å›½å†…ç›®å‰çš„æŠ„è¢­é£æ°”å¾ˆä¸¥é‡ï¼Œä½†æ˜¯æˆ‘ç›¸ä¿¡å°Šé‡åŸåˆ›ï¼Œä¿æŠ¤åŸåˆ›ä»ç°åœ¨åšèµ·ä»å¤§å®¶åšèµ·ï¼Œtomorrow is another day! å¦‚æœå¤§é¢è½¬è½½å¼•ç”¨çš„è¯ å¸Œæœ›æ ‡æ˜æ–‡ç« å‡ºå¤„:</p><p><strong>Termux é«˜çº§ç»ˆç«¯å®‰è£…ä½¿ç”¨é…ç½®æ•™ç¨‹</strong></p><p><a href="https://www.sqlsec.com/2018/05/termux.html">https://www.sqlsec.com/2018/05/termux.html</a></p><h1>å­¦ä¹ èµ„æº</h1><p>è€ƒè™‘åˆ°æ‰‹æœºç”¨æˆ·ä½“éªŒå’Œç¦»çº¿è§‚çœ‹æ•™ç¨‹çš„éœ€æ±‚ï¼Œå›½å…‰æ‰“åŒ…äº†å‡ ç§é£æ ¼çš„ PDFç‰ˆæœ¬ï¼Œå¹¶ä¸”å·²ç»æ’å…¥å¥½ç›®å½•ï¼Œé˜…è¯»ä½“éªŒä¼šæ¯”è¾ƒå‹å¥½ã€‚</p><p><strong>é»‘è‰²èƒŒæ™¯çš„ PDF</strong> : <a href="https://sqlsec.lanzous.com/ibuzvna">Termuxå…¥é—¨æŒ‡å—ï¼ˆVue é»‘ï¼‰</a></p><p><strong>ç™½è‰²èƒŒæ™¯çš„ PDF</strong> : <a href="https://sqlsec.lanzous.com/ibuztyj">Termuxå…¥é—¨æŒ‡å—ï¼ˆGithub ç™½ï¼‰</a></p><p><strong>macOS lighté£æ ¼</strong> : <a href="https://sqlsec.lanzous.com/ibuzuxe">Termuxå…¥é—¨æŒ‡å—ï¼ˆmacOS ç™½ï¼‰</a></p><p><strong>Gothicé£æ ¼</strong> : <a href="https://sqlsec.lanzous.com/ibuztch">Termuxå…¥é—¨æŒ‡å—ï¼ˆç®€çº¦çº¿æ¡ï¼‰</a></p><p>æ—©æœŸæˆ‘çš„ä¿¡æ¯å®‰å…¨äº¤æµç¾¤é‡Œé¢é™†é™†ç»­ç»­åŠ äº†å¾ˆå¤š Temux ç©å®¶ï¼Œç„¶è€Œé‚£æ˜¯ä¸€ä¸ªä¿¡æ¯å®‰å…¨äº¤æµç¾¤ï¼ŒTermux çš„æé—®ç»å¸¸æ²¡æœ‰äººå›ç­”ï¼Œæ‰€ä»¥åæ¥æˆ‘å°±æŠŠåšå®¢æ‰€æœ‰çš„åŠ ç¾¤é“¾æ¥ç»™å»äº†ã€‚ç°åœ¨å›½å…‰æˆ‘å•ç‹¬å»ºç«‹äº† 1 ä¸ªTemux ç¾¤ï¼ŒåŠ ç¾¤é“¾æ¥è—åœ¨æœ¬æ–‡å½“ä¸­ï¼Œæ˜¯ä¸€ä¸ªå½©è›‹ï¼Œç¼˜å¦™ä¸å¯è¨€ï¼Œéšç¼˜å…¥ç¾¤å§ã€‚å¥½äº†è¯ä¸å¤šè¯´ï¼Œæ•™ç¨‹å¼€å§‹äº†ï¼Œå¸Œæœ›æœ¬æ–‡å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚</p><h1>Termux ç®€ä»‹</h1><p><strong>æ–‡æ¡£ç›¸å…³</strong></p><ul><li><a href="https://termux.com/">Termux å®˜ç½‘</a></li><li><a href="https://github.com/termux/termux-app">Github é¡¹ç›®åœ°å€</a></li><li><a href="https://wiki.termux.com/wiki/Main_Page">å®˜æ–¹è‹±æ–‡ WiKi æ–‡æ¡£</a></li></ul><p><strong>ä¸‹è½½åœ°å€</strong></p><ul><li><a href="https://play.google.com/store/apps/details?id=com.termux">Google Play ä¸‹è½½åœ°å€</a></li><li><a href="https://f-droid.org/packages/com.termux/">F-Droid ä¸‹è½½åœ°å€</a></li><li><a href="https://www.coolapk.com/apk/com.termux">é…·å®‰ ä¸‹è½½åœ°å€</a></li></ul><blockquote><p>Google Play ä¸‹è½½çš„ç‰ˆæœ¬æ¯”é…·å®‰è¦æ–°ï¼Œè€Œä¸”æ’ä»¶è¿™å—å®‰è£…ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œæœ‰èƒ½åŠ›çš„æœ‹å‹å»ºè®®é¦–å…ˆè€ƒè™‘ä¸‹è½½Google PLayç‰ˆæœ¬çš„ï¼Œç„¶åè€ƒè™‘ F-Droidç‰ˆæœ¬ï¼Œæœ€åå†è€ƒè™‘å¯æ€œå…®å…®çš„é…·å®‰ç‰ˆæœ¬ã€‚</p></blockquote><p>Termux æ˜¯ä¸€ä¸ª Android ä¸‹ä¸€ä¸ªé«˜çº§çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨,å¼€æºä¸”ä¸éœ€è¦ rootï¼Œæ”¯æŒ apt ç®¡ç†è½¯ä»¶åŒ…ï¼Œååˆ†æ–¹ä¾¿å®‰è£…è½¯ä»¶åŒ…ï¼Œå®Œç¾æ”¯æŒ Pythonã€ PHPã€ Rubyã€ Nodejsã€ MySQLç­‰ã€‚éšç€æ™ºèƒ½è®¾å¤‡çš„æ™®åŠå’Œæ€§èƒ½çš„ä¸æ–­æå‡ï¼Œå¦‚ä»Šçš„æ‰‹æœºã€å¹³æ¿ç­‰çš„ç¡¬ä»¶æ ‡å‡†å·²è¾¾åˆ°äº†åˆçº§æ¡Œé¢è®¡ç®—æœºçš„ç¡¬ä»¶æ ‡å‡†ï¼Œç”¨å¿ƒå»æ‰“é€  DIY çš„è¯å®Œå…¨å¯ä»¥æŠŠæ‰‹æœºå˜æˆä¸€ä¸ªå¼ºå¤§çš„æå®¢å·¥å…·ã€‚</p><p><strong>åˆå§‹åŒ–</strong></p><p>ç¬¬ä¸€æ¬¡å¯åŠ¨Termuxçš„æ—¶å€™éœ€è¦ä»è¿œç¨‹æœåŠ¡å™¨åŠ è½½æ•°æ®ï¼Œç„¶è€Œå¯èƒ½ä¼šé‡åˆ°è¿™ç§é—®é¢˜ï¼š</p><p>Verilog</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Ubable to install</span><br><span class="line">Termux was unable to install the bootstrap packages.</span><br><span class="line">Check your network connection <span class="keyword">and</span> try again.</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„Termuxå®˜æ–¹è¿œç¨‹çš„æœåŠ¡å™¨åœ°å€æ˜¯: <a href="http://termux.net/bootstrap/">http://termux.net/bootstrap/</a></p><p><img src="https://image.3001.net/images/20200418/15871943464391.png" alt="img"></p><p>ç›®å‰è§£å†³æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p><ol><li>VPN å…¨å±€ä»£ç† ï¼ˆæˆåŠŸç‡å¾ˆé«˜ï¼‰</li><li>å¦‚æœä½ æ˜¯ WiFi çš„è¯å°è¯•åˆ‡æ¢åˆ°è¿è¥å•†æµé‡ ï¼ˆæœ‰ä¸€å®šæˆåŠŸç‡ï¼‰</li><li>â‘  Google Play â‘¡ F-Droid â‘¢ é…·å®‰ æ ¹æ®è¿™ä¸ªé¡ºåºé‡å¤1ã€2æ“ä½œ</li></ol><h1>åŸºæœ¬æ“ä½œ</h1><p>åŸºæœ¬æ“ä½œè¿˜æ˜¯è¦å­¦ä¹ ä¸€ä¸‹çš„ï¼Œå¯ä»¥äº‹åŠåŠŸå€ã€‚</p><h2 id="ç¼©æ”¾æ–‡æœ¬">ç¼©æ”¾æ–‡æœ¬</h2><p>å¯ä»¥ä½¿ç”¨ç¼©æ”¾æ‰‹åŠ¿æ¥è°ƒæ•´å…¶å­—ä½“å¤§å°ã€‚ å¯¹å°±æ˜¯ åŒæŒ‡æ”¾å¤§ç¼©å°ç…§ç‰‡é‚£æ ·æ“ä½œã€‚</p><p><img src="https://image.3001.net/images/20200418/15872024914185.png" alt="img"></p><h2 id="é•¿æŒ‰å±å¹•">é•¿æŒ‰å±å¹•</h2><p>é•¿æŒ‰å±å¹•ä¼šè°ƒå‡ºæ˜¾ç¤ºèœå•é¡¹ï¼ˆåŒ…æ‹¬å¤åˆ¶ã€ç²˜è´´ã€æ›´å¤šï¼‰ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œå¤åˆ¶æˆ–è€…ç²˜è´´</p><p><img src="https://image.3001.net/images/20200418/15872022768181.png" alt="img"></p><p><code>More</code> èœå•çš„è¯´æ˜å¦‚ä¸‹ï¼š</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">é•¿æŒ‰å±å¹•</span><br><span class="line">â”œâ”€â”€ COPY:    <span class="comment"># å¤åˆ¶</span></span><br><span class="line">â”œâ”€â”€ PASTE:   <span class="comment"># ç²˜è´´</span></span><br><span class="line">â”œâ”€â”€ More:    <span class="comment"># æ›´å¤š</span></span><br><span class="line">   â”œâ”€â”€ Select URL:             <span class="comment"># æå–å±å¹•æ‰€æœ‰ç½‘å€</span></span><br><span class="line">   â””â”€â”€ Share transcipt:        <span class="comment"># åˆ†äº«å‘½ä»¤è„šæœ¬</span></span><br><span class="line">   â””â”€â”€ Reset:                  <span class="comment"># é‡ç½®</span></span><br><span class="line">   â””â”€â”€ Kill process:           <span class="comment"># æ€æ‰å½“å‰ä¼šè¯è¿›ç¨‹</span></span><br><span class="line">   â””â”€â”€ Style:                  <span class="comment"># é£æ ¼é…è‰² éœ€è¦è‡ªè¡Œå®‰è£…</span></span><br><span class="line">   â””â”€â”€ Keep screen on:         <span class="comment"># ä¿æŒå±å¹•å¸¸äº®</span></span><br><span class="line">   â””â”€â”€ Help:                   <span class="comment"># å¸®åŠ©æ–‡æ¡£</span></span><br></pre></td></tr></table></figure><h2 id="ä¼šè¯ç®¡ç†">ä¼šè¯ç®¡ç†</h2><p>æ˜¾ç¤ºéšè—å¼å¯¼èˆªæ ï¼Œå¯ä»¥æ–°å»ºã€åˆ‡æ¢ã€é‡å‘½åä¼šè¯sessionå’Œè°ƒç”¨å¼¹å‡ºè¾“å…¥æ³•</p><p><img src="https://image.3001.net/images/20200418/15872022029549.png" alt="img"></p><p>åŒæ—¶åœ¨Androidçš„é€šçŸ¥æ ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°å½“å‰Termuxè¿è¡Œçš„ä¼šè¯æ•°ï¼š</p><p><img src="https://image.3001.net/images/20200418/15872026639062.png" alt="img"></p><h2 id="å¸¸ç”¨æŒ‰é”®">å¸¸ç”¨æŒ‰é”®</h2><p>å¸¸ç”¨é”®æ˜¯PCç«¯å¸¸ç”¨çš„æŒ‰é”®å¦‚: ESCé”®ã€Tabé”®ã€CTRé”®ã€ALTé”®ï¼Œæœ‰äº†è¿™äº›æŒ‰é”®åå¯ä»¥æé«˜æˆ‘ä»¬æ—¥å¸¸æ“ä½œçš„æ•ˆç‡ï¼Œæ‰€ä»¥Termuxåé¢çš„ç‰ˆæœ¬é»˜è®¤éƒ½æ˜¯æ˜¾ç¤ºè¿™ä¸ªæ‰©å±•åŠŸèƒ½æŒ‰é”®çš„ã€‚ (18å¹´çš„æ—¶å€™é»˜è®¤æ˜¯ä¸æ˜¾ç¤ºçš„)</p><p><img src="https://image.3001.net/images/20200418/15872018464605.png" alt="img"></p><p>æ‰“å¼€å’Œéšè—è¿™ä¸ªæ‰©å±•åŠŸèƒ½æŒ‰é”®ç›®å‰æœ‰ä¸‹é¢ä¸¤ç§æ–¹æ³•ï¼š</p><p><strong>æ–¹æ³•ä¸€</strong></p><p>ä»å·¦å‘å³æ»‘åŠ¨,æ˜¾ç¤ºéšè—å¼å¯¼èˆªæ ,é•¿æŒ‰å·¦ä¸‹è§’çš„<code>KEYBOARD</code></p><p><strong>æ–¹æ³•äºŒ</strong></p><p>ä½¿ç”¨<code>Termux</code>å¿«æ·é”®:<code>éŸ³é‡+</code>+<code>Q</code>é”® æˆ–è€… <code>éŸ³é‡+</code>+<code>K</code>é”®</p><p>å½“ç„¶è¿™ä¸ªå¸¸ç”¨æŒ‰é”®åœ¨ Termux åé¢çš„ç‰ˆæœ¬ä¹Ÿæ”¯æŒè‡ªå®šä¹‰çš„ï¼Œè¯¦æƒ…è§æœ¬æ–‡çš„ã€Œè¿›é˜¶é…ç½®ã€-ã€Œå®šåˆ¶å¸¸ç”¨æŒ‰é”®ã€è¿™ä¸€å°èŠ‚ã€‚</p><h1>åŸºç¡€çŸ¥è¯†</h1><p>è¿™äº›åŸºç¡€çŸ¥è¯†ç®€å•äº†è§£ä¸€ä¸‹å°±å¯ä»¥äº†ï¼ŒLinux ç”¨çš„å¤šäº† å°±ä¼šæ…¢æ…¢ç†Ÿæ‚‰ç†è§£äº†ã€‚</p><h2 id="å¿«æ·é”®è¡¨">å¿«æ·é”®è¡¨</h2><p><code>Ctrl</code>é”®æ˜¯ç»ˆç«¯ç”¨æˆ·å¸¸ç”¨çš„æŒ‰é”®ï¼Œä½†å¤§å¤šæ•°è§¦æ‘¸é”®ç›˜éƒ½æ²¡æœ‰è¿™ä¸ªæŒ‰é”®ï¼Œå› æ­¤ Termux ä½¿ç”¨<code>éŸ³é‡å‡å°æŒ‰é’®</code>æ¥æ¨¡æ‹Ÿ<code>Ctrl</code>é”®ã€‚<br>ä¾‹å¦‚ï¼Œåœ¨è§¦æ‘¸é”®ç›˜ä¸ŠæŒ‰<code>éŸ³é‡å‡å°</code>+ <code>L</code>å°±ç›¸å½“äºæ˜¯é”®ç›˜ä¸ŠæŒ‰<code>Ctrl + L</code>çš„æ•ˆæœä¸€æ ·ï¼Œè¾¾åˆ°æ¸…å±çš„æ•ˆæœã€‚</p><ul><li><code>Ctrl + A</code> -&gt; å°†å…‰æ ‡ç§»åŠ¨åˆ°è¡Œé¦–</li><li><code>Ctrl + C</code> -&gt; ä¸­æ­¢å½“å‰è¿›ç¨‹</li><li><code>Ctrl + D</code> -&gt; æ³¨é”€ç»ˆç«¯ä¼šè¯</li><li><code>Ctrl + E</code> -&gt; å°†å…‰æ ‡ç§»åŠ¨åˆ°è¡Œå°¾</li><li><code>Ctrl + K</code> -&gt; ä»å…‰æ ‡åˆ é™¤åˆ°è¡Œå°¾</li><li><code>Ctrl + U</code> -&gt; ä»å…‰æ ‡åˆ é™¤åˆ°è¡Œé¦–</li><li><code>Ctrl + L</code> -&gt; æ¸…é™¤ç»ˆç«¯</li><li><code>Ctrl + Z</code> -&gt; æŒ‚èµ·ï¼ˆå‘é€SIGTSTPåˆ°ï¼‰å½“å‰è¿›ç¨‹</li><li><code>Ctrl + alt + C</code> -&gt; æ‰“å¼€æ–°ä¼šè¯ï¼ˆä»…é€‚ç”¨äº é»‘å®¢é”®ç›˜ï¼‰</li></ul><p><code>éŸ³é‡åŠ é”®</code>ä¹Ÿå¯ä»¥ä½œä¸ºäº§ç”Ÿç‰¹å®šè¾“å…¥çš„<code>ç‰¹æ®Šé”®</code>.</p><ul><li><code>éŸ³é‡åŠ  + E</code> -&gt; Escé”®</li><li><code>éŸ³é‡åŠ  + T</code> -&gt; Tabé”®</li><li><code>éŸ³é‡åŠ  + 1</code> -&gt; F1ï¼ˆ<code>éŸ³é‡å¢åŠ  + 2</code> â†’ F2â€¦ä»¥æ­¤ç±»æ¨ï¼‰</li><li><code>éŸ³é‡åŠ  + 0</code> -&gt; F10</li><li><code>éŸ³é‡åŠ  + B</code> -&gt; Alt + Bï¼Œä½¿ç”¨readlineæ—¶è¿”å›ä¸€ä¸ªå•è¯</li><li><code>éŸ³é‡åŠ  + F</code> -&gt; Alt + Fï¼Œä½¿ç”¨readlineæ—¶è½¬å‘ä¸€ä¸ªå•è¯</li><li><code>éŸ³é‡åŠ  + X</code> -&gt; Alt+X</li><li><code>éŸ³é‡åŠ  + W</code> -&gt; å‘ä¸Šç®­å¤´é”®</li><li><code>éŸ³é‡åŠ  + A</code> -&gt; å‘å·¦ç®­å¤´é”®</li><li><code>éŸ³é‡åŠ  + S</code> -&gt; å‘ä¸‹ç®­å¤´é”®</li><li><code>éŸ³é‡åŠ  + D</code> -&gt; å‘å³ç®­å¤´é”®</li><li><code>éŸ³é‡åŠ  + L</code> -&gt; | ï¼ˆç®¡é“å­—ç¬¦ï¼‰</li><li><code>éŸ³é‡åŠ  + H</code> -&gt; ã€œï¼ˆæ³¢æµªå·å­—ç¬¦ï¼‰</li><li><code>éŸ³é‡åŠ  + U</code> -&gt; _ (ä¸‹åˆ’çº¿å­—ç¬¦)</li><li><code>éŸ³é‡åŠ  + P</code> -&gt; ä¸Šä¸€é¡µ</li><li><code>éŸ³é‡åŠ  + N</code> -&gt; ä¸‹ä¸€é¡µ</li><li><code>éŸ³é‡åŠ  + .</code> -&gt; Ctrl + \ï¼ˆSIGQUITï¼‰</li><li><code>éŸ³é‡åŠ  + V</code> -&gt; æ˜¾ç¤ºéŸ³é‡æ§åˆ¶</li><li><code>éŸ³é‡åŠ  + Q</code> -&gt; åˆ‡æ¢æ˜¾ç¤ºçš„åŠŸèƒ½é”®è§†</li><li><code>éŸ³é‡åŠ  + K</code> -&gt; åˆ‡æ¢æ˜¾ç¤ºçš„åŠŸèƒ½é”®è§†å›¾</li></ul><p>å¿«æ·é”®ç”¨çš„ç†Ÿæ‚‰çš„è¯ä¹Ÿå¯ä»¥æå¤§æé«˜æ“ä½œçš„æ•ˆç‡ã€‚</p><h2 id="åŸºæœ¬å‘½ä»¤">åŸºæœ¬å‘½ä»¤</h2><p>Termux é™¤äº†æ”¯æŒ <code>apt</code> å‘½ä»¤å¤–ï¼Œè¿˜åœ¨æ­¤åŸºç¡€ä¸Šå°è£…äº†<code>pkg</code>å‘½ä»¤ï¼Œ<code>pkg</code> å‘½ä»¤å‘ä¸‹å…¼å®¹ <code>apt</code> å‘½ä»¤ã€‚<code>apt</code>å‘½ä»¤å¤§å®¶åº”è¯¥éƒ½æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œè¿™é‡Œç›´æ¥ç®€å•çš„ä»‹ç»ä¸‹<code>pkg</code>å‘½ä»¤:</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pkg search &lt;query&gt;              <span class="comment"># æœç´¢åŒ…</span></span><br><span class="line">pkg install &lt;package&gt;           <span class="comment"># å®‰è£…åŒ…</span></span><br><span class="line">pkg uninstall &lt;package&gt;         <span class="comment"># å¸è½½åŒ…</span></span><br><span class="line">pkg reinstall &lt;package&gt;         <span class="comment"># é‡æ–°å®‰è£…åŒ…</span></span><br><span class="line">pkg update                      <span class="comment"># æ›´æ–°æº</span></span><br><span class="line">pkg upgrade                     <span class="comment"># å‡çº§è½¯ä»¶åŒ…</span></span><br><span class="line">pkg list-all                    <span class="comment"># åˆ—å‡ºå¯ä¾›å®‰è£…çš„æ‰€æœ‰åŒ…</span></span><br><span class="line">pkg list-installed              <span class="comment"># åˆ—å‡ºå·²ç»å®‰è£…çš„åŒ…</span></span><br><span class="line">pkg show &lt;package&gt;              <span class="comment"># æ˜¾ç¤ºæŸä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">pkg files &lt;package&gt;             <span class="comment"># æ˜¾ç¤ºæŸä¸ªåŒ…çš„ç›¸å…³æ–‡ä»¶å¤¹è·¯å¾„</span></span><br></pre></td></tr></table></figure><blockquote><p>å›½å…‰å»ºè®®å¤§å®¶ä½¿ç”¨ pkg å‘½ä»¤ï¼Œå› ä¸º pkg å‘½ä»¤æ¯æ¬¡å®‰è£…çš„æ—¶å€™è‡ªåŠ¨æ‰§è¡Œ apt update å‘½ä»¤ï¼Œå¾ˆæ˜¯æ–¹ä¾¿</p></blockquote><h2 id="è½¯ä»¶å®‰è£…">è½¯ä»¶å®‰è£…</h2><p>é™¤äº†é€šè¿‡ä¸Šè¿°çš„ <code>pkg</code> å‘½ä»¤å®‰è£…è½¯ä»¶ä»¥å¤–ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ <code>.deb</code> è½¯ä»¶åŒ…æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>dpkg</code> è¿›è¡Œå®‰è£…ã€‚</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dpkg -i ./package.de         <span class="comment"># å®‰è£… deb åŒ…</span></span><br><span class="line">dpkg --remove [package name] <span class="comment"># å¸è½½è½¯ä»¶åŒ…</span></span><br><span class="line">dpkg -l                      <span class="comment"># æŸ¥çœ‹å·²å®‰è£…çš„åŒ…</span></span><br><span class="line">man dpkg                     <span class="comment"># æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£</span></span><br></pre></td></tr></table></figure><h2 id="ç›®å½•ç»“æ„">ç›®å½•ç»“æ„</h2><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$HOME</span></span><br><span class="line">/data/data/com.termux/files/home</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PREFIX</span></span><br><span class="line">/data/data/com.termux/files/usr</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$TMPPREFIX</span></span><br><span class="line">/data/data/com.termux/files/usr/tmp/zsh</span><br></pre></td></tr></table></figure><p>é•¿æœŸä½¿ç”¨ Linux çš„æœ‹å‹å¯èƒ½ä¼šå‘ç°ï¼Œè¿™ä¸ªHOMEè·¯å¾„çœ‹ä¸Šå»å’Œæˆ‘ä»¬ç”µè„‘ç«¯çš„ä¸å¤ªä¸€æ ·ï¼Œè¿™æ˜¯ä¸ºäº†æ–¹ä¾¿ Termux æä¾›çš„ç‰¹æ®Šçš„ç¯å¢ƒå˜é‡ã€‚</p><p><img src="https://image.3001.net/images/20180502/15252398558622.png" alt="img"></p><h2 id="ç«¯å£æŸ¥çœ‹">ç«¯å£æŸ¥çœ‹</h2><h3 id="Android-10-ä»¥ä¸‹ç‰ˆæœ¬">Android 10 ä»¥ä¸‹ç‰ˆæœ¬</h3><p>Andorid 10 ä»¥ä¸‹çš„ç‰ˆæœ¬æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨netstat å‘½ä»¤çš„ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹ç«¯å£å¼€æ”¾ä¿¡æ¯</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰ç«¯å£</span></span><br><span class="line">netstat -an</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹3306ç«¯å£çš„å¼€æ”¾æƒ…å†µ</span></span><br><span class="line">netstat -an|grep 3306</span><br></pre></td></tr></table></figure><p><img src="https://image.3001.net/images/20200420/15873514956494.jpg" alt="img"></p><h3 id="Android-10-ç‰ˆæœ¬">Android 10 ç‰ˆæœ¬</h3><p>Andorid 10 ç‰ˆæœ¬çš„Termux ä¸‹æ— æ³•æ­£å¸¸ä½¿ç”¨ netstat -an å‘½ä»¤ï¼Œå›½å…‰çš„è§£å†³æ–¹æ³•æ˜¯å®‰è£…ä¸€ä¸ª nmapï¼Œç„¶åæ‰«ææœ¬åœ°ç«¯å£ï¼ˆå¼¯é“è¶…è½¦ï¼‰ï¼š</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…nmapç«¯å£æ‰«æç¥å™¨</span></span><br><span class="line">pkg install nmap</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰«ææœ¬åœ°ç«¯å£</span></span><br><span class="line">nmap 127.0.0.1</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ nmap æ“ä½œ çº¯å±æ— å¥ˆä¹‹ä¸¾ï¼Œä½†æ˜¯åˆä¸æ˜¯ä¸èƒ½ç”¨ï¼ˆæºäºï¼šç½—æ°¸æµ©åè¨€ :-)ï¼‰</p><p><img src="https://image.3001.net/images/20200420/15873522318400.jpg" alt="img"></p><h1>è¿›é˜¶é…ç½®</h1><p>è¦æƒ³ä½¿ç”¨ä½“éªŒå¥½ï¼Œè¿›é˜¶é…ç½®å°‘ä¸äº†ã€‚ï¼ˆå•æŠ¼ï¼‰</p><h2 id="æ›´æ¢å›½å†…æº">æ›´æ¢å›½å†…æº</h2><p>ä½¿ç”¨<code>pkg update</code> æ›´æ–°ä¸€ä¸‹çš„æ—¶å€™å‘ç°é»˜è®¤çš„å®˜æ–¹æºç½‘é€Ÿæœ‰ç‚¹æ…¢ï¼Œåœ¨è¿™ä¸ªå–§åš£æµ®èºçš„æ—¶ä»£ï¼Œæˆ‘ä»¬éš¾ä»¥é™ä¸‹å¿ƒç­‰å¾…ï¼Œè¿™ä¸ªæ—¶å€™å°±å¾—æ›´æ¢æˆå›½å†…çš„<code>Termux</code>æ¸…åå¤§å­¦æºäº†ï¼ŒåŠ å¿«è½¯ä»¶åŒ…ä¸‹è½½é€Ÿåº¦ã€‚</p><h3 id="æ–¹æ³•ä¸€ï¼šè‡ªåŠ¨æ›¿æ¢ï¼ˆæ¨èï¼‰">æ–¹æ³•ä¸€ï¼šè‡ªåŠ¨æ›¿æ¢ï¼ˆæ¨èï¼‰</h3><p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è‡ªåŠ¨æ›¿æ¢å®˜æ–¹æºä¸º TUNA é•œåƒæº</p><blockquote><p><code>pkg update</code> å¡ä½çš„è¯å¤šæŒ‰å‡ æ¬¡å›è½¦ ä¸è¦å‚»ä¹ä¹çš„ç­‰</p></blockquote><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main@&#x27;</span> <span class="variable">$PREFIX</span>/etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;s@^\(deb.*games stable\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable@&#x27;</span> <span class="variable">$PREFIX</span>/etc/apt/sources.list.d/game.list</span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;s@^\(deb.*science stable\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable@&#x27;</span> <span class="variable">$PREFIX</span>/etc/apt/sources.list.d/science.list</span><br><span class="line"></span><br><span class="line">pkg update</span><br></pre></td></tr></table></figure><p>æ›´æ¢æºå‡ ç§’é’Ÿå°±å¯ä»¥æ‰§è¡Œå®Œ<code>pkg update</code>äº†ï¼Œå¿ƒé‡Œé¡¿æ—¶ä¹å¼€äº†èŠ±ã€‚</p><h3 id="æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¿®æ”¹">æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¿®æ”¹</h3><p>è¯·ä½¿ç”¨å†…ç½®æˆ–å®‰è£…åœ¨ Termux é‡Œçš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä¾‹å¦‚ <code>vi</code> / <code>vim</code> / <code>nano</code> ç­‰ç›´æ¥ç¼–è¾‘æºæ–‡ä»¶ï¼Œ<strong>ä¸è¦ä½¿ç”¨ RE ç®¡ç†å™¨ç­‰å…¶ä»–å…·æœ‰ ROOT æƒé™çš„å¤–éƒ¨ APP</strong> æ¥ä¿®æ”¹ Termux çš„æ–‡ä»¶</p><p>ç¼–è¾‘ <code>$PREFIX/etc/apt/sources.list</code> ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The termux repository mirror from TUNA:</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>$PREFIX/etc/apt/sources.list.d/science.list</code> ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The termux repository mirror from TUNA:</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>$PREFIX/etc/apt/sources.list.d/game.list</code> ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The termux repository mirror from TUNA:</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…åŸºç¡€å·¥å…·</strong></p><p>æ›´æ¢æºä¹‹åæ¥èµ¶ç´§æ¥ä¸‹è½½å®‰è£…ä¸€äº›åŸºæœ¬å·¥å…·å§ï¼Œè¿™äº›å·¥å…·åŸºæœ¬ä¸Šæ˜¯ Linux ç³»ç»Ÿè‡ªå¸¦çš„ï¼Œå› ä¸º Termux ä¸ºäº†ä½“ç§¯ä¸è¿‡å¤§ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰å¸¦è¿™äº›å·¥å…·çš„ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…:</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pkg update</span><br><span class="line">pkg install vim curl wget git tree -y</span><br></pre></td></tr></table></figure><h2 id="ç»ˆç«¯é…è‰²æ–¹æ¡ˆ">ç»ˆç«¯é…è‰²æ–¹æ¡ˆ</h2><p><strong>è„šæœ¬é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://github.com/Cabbagec/termux-ohmyzsh/">https://github.com/Cabbagec/termux-ohmyzsh/</a></p><p>è¯¥è„šæœ¬ä¸»è¦ä½¿ç”¨äº†<code>zsh</code>æ¥æ›¿ä»£<code>bash</code>ä½œä¸ºé»˜è®¤ shellï¼Œå¹¶ä¸”æ”¯æŒè‰²å½©å’Œå­—ä½“æ ·å¼ï¼ŒåŒæ—¶ä¹Ÿæ¿€æ´»äº†å¤–ç½®å­˜å‚¨ï¼Œå¯ä»¥ç›´æ¥è®¿é—®SDå¡ä¸‹çš„ç›®å½•ã€‚ä¸»é¢˜é»˜è®¤ä¸º agnosterï¼Œé¢œè‰²æ ·å¼é»˜è®¤ä¸º Tangoï¼Œå­—ä½“é»˜è®¤ä¸º Ubuntuã€‚</p><blockquote><p>æ‰§è¡Œä¸‹é¢è¿™ä¸ªå‘½ä»¤ç¡®ä¿å·²ç»å®‰è£…å¥½äº† curl å‘½ä»¤</p></blockquote><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)</span>&quot;</span>  </span><br></pre></td></tr></table></figure><p>å¦‚æœå› ä¸ºä¸å¯æŠ—åŠ›çš„åŸå› ï¼Œå‡ºç°<code>port 443: Connection refused</code>ç½‘ç»œè¶…æ—¶çš„æƒ…å†µï¼Œé‚£ä¹ˆæ‰§è¡Œä¸‹é¢å›½å…‰è¿ç§»åˆ°å›½å†…çš„åœ°å€çš„å‘½ä»¤å³å¯ï¼š</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://html.sqlsec.com/termux-install.sh)</span>&quot;</span>  </span><br></pre></td></tr></table></figure><p>Android6.0 ä»¥ä¸Šä¼šå¼¹æ¡†ç¡®è®¤æ˜¯å¦æˆæƒè®¿é—®æ–‡ä»¶,ç‚¹å‡»<code>å§‹ç»ˆå…è®¸</code>æˆæƒå Termux å¯ä»¥æ–¹ä¾¿çš„è®¿é—®SDå¡æ–‡ä»¶ã€‚</p><p><img src="https://image.3001.net/images/20200418/1587207468173.png" alt="img"></p><p>æ‰‹æœº App é»˜è®¤åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®ï¼Œå¦‚æœè¦è®¿é—®æ‰‹æœºçš„å­˜å‚¨ï¼Œéœ€è¦è¯·æ±‚æƒé™ï¼Œå¦‚æœä½ åˆšåˆšä¸å°å¿ƒç‚¹äº†æ‹’ç»çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥é‡æ–°è·å–è®¿é—®æƒé™:</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">termux-setup-storage</span><br></pre></td></tr></table></figure><p>è„šæœ¬å…è®¸åå…ˆåæœ‰å¦‚ä¸‹ä¸¤ä¸ªé€‰é¡¹:</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter a number, leave blank to not to change: 14</span><br><span class="line">Enter a number, leave blank to not to change: 6</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«é€‰æ‹©<code>è‰²å½©æ ·å¼</code>å’Œ<code>å­—ä½“æ ·å¼</code>ï¼Œé‡å¯Termux appåç”Ÿæ•ˆé…ç½®ã€‚ä¸æ»¡æ„åˆšåˆšçš„æ•ˆæœï¼Œæƒ³è¦ç»§ç»­æ›´æ”¹é…è‰²æ–¹æ¡ˆçš„è¯ï¼Œå¯ä»¥æ ¹æ®ä¸‹é¢å‘½ä»¤æ¥æ›´æ”¹å¯¹åº”çš„è‰²å½©é…è‰²æ–¹æ¡ˆï¼š</p><p><strong>è®¾ç½®è‰²å½©æ ·å¼</strong>ï¼š</p><p>è¾“å…¥<code>chcolor</code>å‘½ä»¤æ›´æ¢è‰²å½©æ ·å¼ï¼Œæˆ–è€…ï¼š<code>~/.termux/colors.sh</code>å‘½ä»¤</p><p><strong>è®¾ç½®å­—ä½“</strong></p><p>è¿è¡Œ<code>chfont</code>æ›´æ¢å­—ä½“ï¼Œæˆ–è€…ï¼š<code>~/.termux/fonts.sh</code>å‘½ä»¤</p><h2 id="åˆ›å»ºç›®å½•è½¯è¿æ¥">åˆ›å»ºç›®å½•è½¯è¿æ¥</h2><p>æ‰§è¡Œè¿‡ä¸Šé¢çš„ä¸€é”®é…ç½®è„šæœ¬åï¼Œå¹¶ä¸”æˆäºˆ Termux æ–‡ä»¶è®¿é—®æƒé™çš„è¯ï¼Œä¼šåœ¨å®¶ç›®å½•ç”Ÿæˆ<code>storage</code>ç›®å½•ï¼Œå¹¶ä¸”ç”Ÿæˆè‹¥å¹²ç›®å½•ï¼Œè½¯è¿æ¥éƒ½æŒ‡å‘å¤–ç½®å­˜å‚¨å¡çš„ç›¸åº”ç›®å½•:</p><p><img src="https://image.3001.net/images/20200418/15872083523807.png" alt="img"></p><p><strong>åˆ›å»ºQQæ–‡ä»¶å¤¹è½¯è¿æ¥</strong></p><p>æ‰‹æœºä¸Šä¸€èˆ¬ç»å¸¸ä½¿ç”¨æ‰‹æœºQQæ¥æ¥æ”¶æ–‡ä»¶,è¿™é‡Œä¸ºäº†æ–¹ä¾¿æ–‡ä»¶ä¼ è¾“,ç›´æ¥åœ¨<code>storage</code>ç›®å½•ä¸‹åˆ›å»ºè½¯é“¾æ¥.<br><strong>QQ</strong></p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /data/data/com.termux/files/home/storage/shared/tencent/QQfile_recv QQ</span><br></pre></td></tr></table></figure><p><strong>TIM</strong></p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /data/data/com.termux/files/home/storage/shared/tencent/TIMfile_recv TIM</span><br></pre></td></tr></table></figure><p><img src="https://image.3001.net/images/20200418/15872085834532.png" alt="img"></p><p>è¿™æ ·å¯ä»¥ç›´æ¥åœ¨<code>home</code>ç›®å½•ä¸‹å»è®¿é—®QQæ–‡ä»¶å¤¹ï¼Œå¤§å¤§æå‡äº†å·¥ä½œæ•ˆç‡ã€‚</p><h2 id="å®šåˆ¶å¸¸ç”¨æŒ‰é”®">å®šåˆ¶å¸¸ç”¨æŒ‰é”®</h2><p>åœ¨ Termux v0.66 çš„ç‰ˆæœ¬ä¹‹åæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>~/.termux/termux.properties</code> æ–‡ä»¶æ¥å®šåˆ¶æˆ‘ä»¬çš„å¸¸ç”¨åŠŸèƒ½æŒ‰é”®ï¼Œé»˜è®¤æ˜¯ä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶çš„ï¼Œæˆ‘ä»¬å¾—è‡ªå·±é…ç½®åˆ›å»ºä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ã€‚</p><p>ä¸‹é¢åšå°è¯•ç®€å•é…ç½®ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶:</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–°å»ºå¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶</span></span><br><span class="line">vim ~/.termux/termux.properties</span><br></pre></td></tr></table></figure><p>å†…å®¹ä¸ºï¼š</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">extra-keys = [ \</span><br><span class="line"> [<span class="string">&#x27;ESC&#x27;</span>,<span class="string">&#x27;|&#x27;</span>,<span class="string">&#x27;/&#x27;</span>,<span class="string">&#x27;HOME&#x27;</span>,<span class="string">&#x27;UP&#x27;</span>,<span class="string">&#x27;END&#x27;</span>,<span class="string">&#x27;PGUP&#x27;</span>,<span class="string">&#x27;DEL&#x27;</span>], \</span><br><span class="line"> [<span class="string">&#x27;TAB&#x27;</span>,<span class="string">&#x27;CTRL&#x27;</span>,<span class="string">&#x27;ALT&#x27;</span>,<span class="string">&#x27;LEFT&#x27;</span>,<span class="string">&#x27;DOWN&#x27;</span>,<span class="string">&#x27;RIGHT&#x27;</span>,<span class="string">&#x27;PGDN&#x27;</span>,<span class="string">&#x27;BKSP&#x27;</span>] \</span><br><span class="line">]</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæ— æ³•åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆå¾—é¦–å…ˆæ–°å»ºä¸€ä¸‹è¿™ä¸ªç›®å½• mkdir ~/.termux</p></blockquote><p>ä¿®æ”¹å®Œæˆä¿å­˜æ–‡ä»¶åï¼Œé‡å¯ Termux appç”Ÿæ•ˆé…ç½®ï¼š</p><p><img src="https://image.3001.net/images/20200420/15873594933774.jpg" alt="img"></p><p>å¯ä»¥ç›´æ¥è¾“å…¥ç‰¹æ®Šçš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­çš„<code>|</code>å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ­¤å¤– Termux è¿˜æœ‰å°è£…äº†ä¸€äº›ç‰¹æ®ŠæŒ‰é”®ï¼Œå…¥ä¸Šé¢ä¾‹å­ä¸­çš„<code>ESC</code>å°±æ˜¯ Termux è‡ªå¸¦çš„æŒ‰é”®ï¼Œå®Œæ•´çš„ç‰¹æ®ŠæŒ‰é”®è¡¨å¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:left">æŒ‰é”®</th><th style="text-align:left">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left"><code>CTRL</code></td><td style="text-align:left"><strong><code>ç‰¹æ®ŠæŒ‰é”®</code></strong></td></tr><tr><td style="text-align:left"><code>ALT</code></td><td style="text-align:left"><strong><code>ç‰¹æ®ŠæŒ‰é”®</code></strong></td></tr><tr><td style="text-align:left"><code>FN</code></td><td style="text-align:left"><strong><code>ç‰¹æ®ŠæŒ‰é”®</code></strong></td></tr><tr><td style="text-align:left">ESC</td><td style="text-align:left">é€€å‡ºé”®</td></tr><tr><td style="text-align:left">TAB</td><td style="text-align:left">è¡¨æ ¼é”®</td></tr><tr><td style="text-align:left">HOME</td><td style="text-align:left">åŸä½é”®</td></tr><tr><td style="text-align:left">END</td><td style="text-align:left">ç»“å°¾é”®</td></tr><tr><td style="text-align:left">PGUP</td><td style="text-align:left">ä¸Šç¿»é¡µé”®</td></tr><tr><td style="text-align:left">PGDN</td><td style="text-align:left">ä¸‹ç¿»é¡µé”®</td></tr><tr><td style="text-align:left">INS</td><td style="text-align:left">æ’å…¥é”®</td></tr><tr><td style="text-align:left">DEL</td><td style="text-align:left">åˆ é™¤é”®</td></tr><tr><td style="text-align:left">BKSP</td><td style="text-align:left">é€€æ ¼é”®</td></tr><tr><td style="text-align:left">UP</td><td style="text-align:left">æ–¹å‘é”® ä¸Š</td></tr><tr><td style="text-align:left">LEFT</td><td style="text-align:left">æ–¹å‘é”® å·¦</td></tr><tr><td style="text-align:left">RIGHT</td><td style="text-align:left">æ–¹å‘é”® å³</td></tr><tr><td style="text-align:left">DOWN</td><td style="text-align:left">æ–¹å‘é”® ä¸‹</td></tr><tr><td style="text-align:left">ENTER</td><td style="text-align:left">å›è½¦é”®</td></tr><tr><td style="text-align:left">BACKSLASH</td><td style="text-align:left">åæ–œæ  <code>\</code></td></tr><tr><td style="text-align:left">QUOTE</td><td style="text-align:left">åŒå¼•å·é”®</td></tr><tr><td style="text-align:left">APOSTROPHE</td><td style="text-align:left">å•å¼•å·é”®</td></tr><tr><td style="text-align:left">F1~F12</td><td style="text-align:left">F1-F12æŒ‰é”®</td></tr></tbody></table><p>ä¸Šé¢åˆ—å‡ºçš„ä¸‰ä¸ª<strong>ç‰¹æ®Šé”®</strong>ä¸­çš„æ¯ä¸€ä¸ªæœ€å¤šåªèƒ½åœ¨é™„åŠ é”®å®šä¹‰ä¸­åˆ—å‡ºä¸€æ¬¡ï¼Œè¶…è¿‡æ¬¡æ•°å°†ä¼šæŠ¥é”™ã€‚</p><p>ä¸‹é¢æ˜¯å›½å…‰æˆ‘è‡ªç”¨çš„æŒ‰é”®è¡¨ï¼š</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">extra-keys = [ \</span><br><span class="line"> [<span class="string">&#x27;ESC&#x27;</span>,<span class="string">&#x27;|&#x27;</span>,<span class="string">&#x27;/&#x27;</span>,<span class="string">&#x27;`&#x27;</span>,<span class="string">&#x27;UP&#x27;</span>,<span class="string">&#x27;QUOTE&#x27;</span>,<span class="string">&#x27;APOSTROPHE&#x27;</span>], \</span><br><span class="line"> [<span class="string">&#x27;TAB&#x27;</span>,<span class="string">&#x27;CTRL&#x27;</span>,<span class="string">&#x27;~&#x27;</span>,<span class="string">&#x27;LEFT&#x27;</span>,<span class="string">&#x27;DOWN&#x27;</span>,<span class="string">&#x27;RIGHT&#x27;</span>,<span class="string">&#x27;ENTER&#x27;</span>] \</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><img src="https://image.3001.net/images/20200420/15873610423256.jpg" alt="img"></p><h2 id="zsh-ä¸»é¢˜é…è‰²">zsh ä¸»é¢˜é…è‰²</h2><p>ç¼–è¾‘å®¶ç›®å½•ä¸‹çš„<code>.zshrc</code>é…ç½®æ–‡ä»¶</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim .zshrc</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€è¡Œå¯ä»¥çœ‹åˆ°,é»˜è®¤çš„ä¸»é¢˜æ˜¯<code>agnoster</code>ä¸»é¢˜:</p><p><img src="https://image.3001.net/images/20200418/15872087339756.png" alt="img"></p><p>å®é™…ä¸Šè¿™ä¸ªä¸»é¢˜ä¹Ÿè›®é…·çš„ï¼Œå¦‚æœä½ è¿˜æƒ³æ›´æ¢å…¶ä»–ä¸»é¢˜çš„è¯ï¼Œé‚£ä¹ˆåœ¨<code>.oh-my-zsh/themes</code>ç›®å½•ä¸‹æ”¾ç€<code>oh-my-zsh</code>æ‰€æœ‰çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œåªè¦å°†é»˜è®¤çš„ agnoster æ›´æ¢ä¸ºå…¶ä»–çš„ä¸»é¢˜æ–‡ä»¶åå³å¯ã€‚<br>ä¸‹é¢æ˜¯å›½å…‰è®¤ä¸ºè¿˜ä¸é”™çš„å‡ æ¬¾ä¸»é¢˜</p><p><img src="https://image.3001.net/images/20200418/15872089685912.png" alt="agnoster"></p><p><strong>agnoster</strong></p><p><img src="https://image.3001.net/images/20200418/15872091524140.png" alt="ys"></p><p><strong>ys</strong></p><p><img src="https://image.3001.net/images/20200418/15872092946550.png" alt="robbyrussell"></p><p><strong>robbyrussell</strong></p><p>ä¸»é¢˜æ¯”è¾ƒå¤šï¼Œå›½å…‰è¿™é‡Œå°±ä¸åˆ—ä¸¾äº†ï¼Œæ„Ÿå…´è¶£å¤§å®¶å¯ä»¥ä¸€ä¸ªä¸ªå°è¯•å»çœ‹çœ‹ã€‚ å½“ç„¶å¦‚æœä½ æ˜¯ä¸ªå˜æ€çš„è¯ï¼Œå¯ä»¥å°è¯•<code>random</code> ä¸»é¢˜,æ¯æ‰“å¼€ä¸€ä¸ªä¼šè¯é…è‰²ä¸»é¢˜éƒ½æ˜¯éšæœºçš„.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZSH_THEME&#x3D;&quot;random&quot;</span><br></pre></td></tr></table></figure><h2 id="zsh-æ’ä»¶æ¨è">zsh æ’ä»¶æ¨è</h2><p>zsh ä¹‹æ‰€ä»¥å—æ¬¢è¿é™¤äº†å¥½çœ‹çš„é…è‰²ä»¥ä¸ºï¼Œå¦ä¸€ä¸ªåŸå› å°±æ˜¯å¼ºå¤§çš„æ’ä»¶äº†ã€‚ä¸‹é¢å›½å…‰åˆ—ä¸¾ä¸€æ¬¾æ¯”è¾ƒå®ç”¨çš„æ’ä»¶çš„å®‰è£…æ–¹æ³•ï¼Œæ›´å¤šå¼ºå¤§çš„æ’ä»¶ç­‰å¾…å¤§å®¶è‡ªå·±å»æ¢ç´¢ã€‚</p><h3 id="autosuggestions">autosuggestions</h3><p>æ ¹æ®ç”¨æˆ·çš„å¹³æ—¶ä½¿ç”¨ä¹ æƒ¯ï¼Œç»ˆç«¯ä¼šè‡ªåŠ¨æç¤ºæ¥ä¸‹æ¥å¯èƒ½è¦è¾“å…¥çš„å‘½ä»¤ï¼Œè¿™ä¸ªå®é™…ä½¿ç”¨æ•ˆç‡è¿˜æ˜¯æ¯”è¾ƒé«˜çš„ï¼š</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‹·è´åˆ° plugins ç›®å½•ä¸‹</span></span><br><span class="line">git <span class="built_in">clone</span> git://github.com/zsh-users/zsh-autosuggestions <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure><p>åœ¨ <code>~/.zshrc</code> ä¸­é…ç½®ï¼š</p><p>Ini</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins</span>=(å…¶ä»–çš„æ’ä»¶ zsh-autosuggestions)</span><br></pre></td></tr></table></figure><p><img src="https://image.3001.net/images/20200418/15872114762117.png" alt="img"></p><p>è¾“å…¥<code>zsh</code>å‘½ä»¤ç”Ÿæ•ˆé…ç½®:</p><p><img src="https://image.3001.net/images/20200419/15872692273991.png" alt="æ•ˆæœå›¾"></p><p><strong>æ•ˆæœå›¾</strong></p><p>å¯ä»¥çœ‹åˆ°å›½å…‰æˆ‘åªæ•²äº†ä¸€ä¸ª<code>v</code>åé¢çš„å‘½ä»¤å°±è‡ªåŠ¨æç¤ºè¡¥å…¨äº†ï¼Œè¿™æ—¶å€™åªè¦æŒ‰<code>å³æ–¹å‘é”®</code>ï¼Œåœ¨ Termux é‡Œé¢çš„å¿«æ·é”®æ˜¯ <code>éŸ³é‡åŠ  + D</code>ï¼Œå°±å¯ä»¥ç›´æ¥è¡¥å…¨å‘½ä»¤äº†ã€‚</p><h2 id="ä¿®æ”¹å¯åŠ¨é—®å€™è¯­">ä¿®æ”¹å¯åŠ¨é—®å€™è¯­</h2><p>é»˜è®¤çš„å¯åŠ¨é—®å€™è¯­å¦‚ä¸‹:</p><p><img src="https://image.3001.net/images/20200418/15872126727686.jpg" alt="img"></p><p>è¿™ä¸ªå¯åŠ¨é—®å€™è¯­åœ¨å‰æœŸå¯¹äºåˆå­¦è€…æœ‰ä¸€å®šçš„å¸®åŠ©ï¼Œä½†æ˜¯éšç€ä½ ä»¬ Termux çš„ç†Ÿæ‚‰ï¼Œè¿™ä¸ªé»˜è®¤çš„é—®å€™è¯­å°±ä¼šæ˜¾å¾—æ¯”è¾ƒè‡ƒè‚¿ã€‚ç¼–è¾‘é—®å€™è¯­æ–‡ä»¶å¯ä»¥ç›´æ¥ä¿®æ”¹å¯åŠ¨æ˜¾ç¤ºçš„é—®å€™è¯­:</p><p>Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="variable">$PREFIX</span>/etc/motd</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œçš„æ•ˆæœå¦‚ä¸‹:</p><p><img src="https://image.3001.net/images/20200418/1587213178823.jpg" alt="æœ¬æ–‡ç‰ˆæœ¬å½’å›½å…‰æ‰€æœ‰ è½¬è½½æ³¨æ˜å‡ºå¤„å“¦"></p><p><strong>æœ¬æ–‡ç‰ˆæœ¬å½’å›½å…‰æ‰€æœ‰ è½¬è½½æ³¨æ˜å‡ºå¤„å“¦</strong></p><p>è¿™æ ·å¯åŠ¨æ–°çš„ä¼šè¯çš„æ—¶å€™çœ‹ä¸Šå»å°±ä¼šç®€æ´å¾ˆå¤šã€‚ä»€ä¹ˆä½ ä¹Ÿæƒ³è¦è¿™ä¸ªæ•ˆæœï¼Ÿ å‘ ä¸‹é¢æ˜¯å›½å…‰è‡ªå·±ç”Ÿæˆçš„ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶ç²˜è´´:</p><p>Ini</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> _____                              </span><br><span class="line">|_   _|__ _ __ _ __ ___  _   ___  __</span><br><span class="line">  | |/ _ \ &#x27;__| &#x27;_ ` _ \| | | \ \/ /</span><br><span class="line">  | |  __/ |  | | | | | | |_| |&gt;  &lt; </span><br><span class="line">  |_|\___|_|  |_| |_| |_|\__,_/_/\_\</span><br></pre></td></tr></table></figure><h2 id="è¶…çº§ç®¡ç†å‘˜èº«ä»½">è¶…çº§ç®¡ç†å‘˜èº«ä»½</h2>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é£Ÿç”¨æ•™ç¨‹ </tag>
            
            <tag> termux </tag>
            
            <tag> ç»ˆç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨ffmpegåˆ¶ä½œè§†é¢‘åºŠ</title>
      <link href="/jsdelivr-m3u8.html"/>
      <url>/jsdelivr-m3u8.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ­£æ–‡">æ­£æ–‡</h2><p>é¦–å…ˆä½ å¾—äº†è§£ Jsdeliverï¼Œä»–åªåŠ è½½ 20MB ä»¥å†…çš„èµ„æºï¼Œå¦‚æœä½ çš„è§†é¢‘æ­£å¥½æ§åˆ¶è¿™ä¸€èŒƒå›´çš„è¯ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨é»˜è®¤çš„å†…å®¹äº†<br>ä½†æ˜¯ç”±äº Jsdeliver å¯¹è§†é¢‘èµ„æºçš„è§£æä¸å‹å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¾—å¯¹è§†é¢‘èµ„æºåšä¸€å®šçš„å¤„ç†ã€‚</p><p>ç”¨è¿‡ QQ æµè§ˆå™¨çš„éƒ½çŸ¥é“ä¸‹è½½ç½‘é¡µä¸Šçš„è§†é¢‘ä¸‹æ¥éƒ½æ˜¯ M3U8 çš„è§†é¢‘æ ¼å¼ï¼Œå³ä½¿ä½ ä¸ä¸‹è½½ï¼Œåªæ˜¯çœ‹è§†é¢‘éƒ½ä¼šäº§ç”Ÿ M3U8 æ–‡ä»¶å’Œ TS æ–‡ä»¶ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯-M3U8ã€TS-æ–‡ä»¶ï¼Ÿ">ä»€ä¹ˆæ˜¯ M3U8ã€TS æ–‡ä»¶ï¼Ÿ</h2><ul><li>M3U8<br>M3U8 æ˜¯æŒ‡ UTF-8 ç¼–ç æ ¼å¼çš„ M3U æ–‡ä»¶ (M3U ä½¿ç”¨ Latin-1 å­—ç¬¦é›†ç¼–ç )</li></ul><p>M3U æ–‡ä»¶æ˜¯ä¸€ä¸ªè®°å½•ç´¢å¼•çš„çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œæ‰“å¼€å®ƒæ—¶æ’­æ”¾è½¯ä»¶å¹¶ä¸ä¼šæ’­æ”¾å®ƒ</p><p>è€Œæ˜¯æ ¹æ®å®ƒçš„ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„éŸ³è§†é¢‘æ–‡ä»¶çš„ç½‘ç»œåœ°å€è¿›è¡Œåœ¨çº¿æ’­æ”¾</p><ul><li>TS<br>ts æ˜¯æ—¥æœ¬é«˜æ¸…æ‘„åƒæœºæ‹æ‘„ä¸‹è¿›è¡Œçš„å°è£…æ ¼å¼ï¼Œå…¨ç§°ä¸º MPEG2-TSã€‚ts å³â€Transport Streamâ€ çš„ç¼©å†™ã€‚</li></ul><p>å°†ä¸€ä¸ªè§†é¢‘æ–‡ä»¶ (MP4) åˆ‡ç‰‡åˆ†ä¸ºå¾ˆå¤šä¸ª TS æ–‡ä»¶ï¼Œä¸€ä¸ª TS æ–‡ä»¶çš„è§†é¢‘æ—¶å¸¸å¯ä»¥è‡ªå®šä¹‰ï¼Œæ¯”å¦‚åˆ‡ç‰‡ä¸º 5 ç§’</p><p>é‚£ä¹ˆå…¶ä»– ts æ–‡ä»¶ä¹Ÿæ˜¯ 5 ç§’ï¼Œä½†æ˜¯è¿™ä¸ªä¸æ˜¯å®Œå…¨å‡†ç¡®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šæœ‰è¯¯å·®ï¼Œä¼šäº§ç”Ÿ 4-7 ç§’å·¦å³çš„ ts è§†é¢‘æ–‡ä»¶</p><p>é‚£ä»–æ˜¯è¿™ä¹ˆå·¥ä½œçš„å‘¢ï¼Ÿ(ä»¥ä¸‹å›¾ç‰‡æ˜¯æœ¬åœ°è¿è¡Œè¿‡ç¨‹)<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/04/5a2a2316a20c202fa03fe9b7c45da5d0.png" alt=""></p><h2 id="ffmpeg-å·¥å…·">ffmpeg å·¥å…·</h2><p>ä»€ä¹ˆæ˜¯ ffmpeg åœ¨è¿™é‡Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡Œæœç´¢</p><p>äº†è§£äº† M3U8 å’Œ TSï¼Œæˆ‘è¯¥æ€ä¹ˆæŠŠè§†é¢‘åˆ‡ç‰‡å‘¢ï¼Ÿ<br>ä½¿ç”¨ ffmpeg å·¥å…·è¿›è¡Œåˆ‡ç‰‡</p><p>å®˜ç½‘ï¼š<a href="https://ffmpeg.org/download.html">https://ffmpeg.org/download.html</a></p><p>ä¸‹è½½è§£å‹åæ‰“å¼€ bin ç›®å½•ï¼Œåœ¨é‡Œé¢æ‰¾åˆ° ffmpeg.exe å¤åˆ¶åˆ°è‡ªå·±æ–°å»ºçš„ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œï¼Œå†æŠŠæƒ³è¦åˆ‡ç‰‡çš„è§†é¢‘ Copy è¿›æ¥</p><h2 id="è§†é¢‘åˆ‡ç‰‡">è§†é¢‘åˆ‡ç‰‡</h2><blockquote><p>å½“å‰ç›®å½•ä¸‹æœ‰<br>00.mp4<br>ffmpeg.exe<br>æ‰“å¼€ cmdï¼Œcd è¿›å…¥åˆ°åˆšåˆšæ–°å»ºçš„æ–‡ä»¶å¤¹ï¼Œå…³äºæ€ä¹ˆæ“ä½œæˆ‘å°±ä¸å¤š bb äº†<br>æ—¢ç„¶éƒ½ç”¨ä¸Š Githubï¼Œç”¨ Jsdeliver åŠ é€Ÿäº†ï¼Œä½ ç”µè„‘é‡Œä¸€å®šè£…äº† Git å·¥å…·<br>åœ¨å½“å‰ç›®å½•æ‰“å¼€ <em>Git Bash</em> å‘½ä»¤è¡Œ<br>(cmd ä¸éœ€è¦ <em>./</em> )</p></blockquote><ul><li>å°† mp4 è½¬æˆ ts æ ¼å¼ï¼Œ1 å¯¹ 1ï¼Œè½¬æ¢åè§†é¢‘è´¨é‡ä¸å¤§å°æ— å˜åŒ–ã€‚(æ‰§è¡Œä¸‹æ–¹ä»£ç å¾—åˆ° Lete.ts)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;ffmpeg.exe -y -i 00.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb 00.ts</span><br></pre></td></tr></table></figure><p>æŒ‰æ—¶é—´éš”åˆ†ç‰‡ï¼Œ1 å¯¹ Nï¼Œä¸‹é¢çš„ 5 å³æ¯ä¸ªåˆ†ç‰‡5ç§’ï¼Œè‡ªè¡Œä¿®æ”¹</p><ul><li><em>segment_list</em>  00.m3u8 ä¸ºåˆ‡ç‰‡åå¾—åˆ°çš„ m3u8 æ–‡ä»¶</li><li><em>segment_time</em>  5 %03d.ts ä¸ºåˆ‡ç‰‡åå¾—åˆ°çš„ ts æ–‡ä»¶å 5 ä»£è¡¨æ¯ä¸ª ts æ–‡ä»¶ 5 ç§’æ’­æ”¾æ—¶å¸¸ (æœ‰è¯¯å·®ï¼Œä¸å®Œå…¨ 5 ç§’)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;ffmpeg -i 00.ts -c copy -map 0 -f segment -segment_list 00.m3u8 -segment_time 5 00%03d.ts</span><br></pre></td></tr></table></figure><p>è¿™æ—¶ä½ çš„æ–‡ä»¶äº†ä¼šæœ‰å¦‚ä¸‹å›¾æ–‡ä»¶<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/04/743802bb2bc81b8411a36b4c673839f4.png" alt=""></p><p>é‚£ä¹ˆå°†å‰©ä¸‹çš„ä¸œè¥¿ <em>push</em> åˆ°è‡ªå·±çš„ä»“åº“å§</p><blockquote><p>ç°åœ¨è®¿é—®æ˜¯ m3u8 æ˜¯ä¸å¯ä»¥æ’­æ”¾è§†é¢‘çš„ (ä¼šè‡ªåŠ¨ä¸‹è½½å¯¹å§)<br>è®¿é—®æ–‡ä»¶ä¹Ÿæ˜¯ä¸è¡Œçš„ (ä¹±ç å¯¹å§)</p></blockquote><h2 id="HLS-æŠ€æœ¯">HLS æŠ€æœ¯</h2><p>ä»€ä¹ˆæ˜¯ HLS æŠ€æœ¯ï¼Ÿ</p><p>HLS (HTTP Live Streaming) æ˜¯ Apple çš„åŠ¨æ€ç ç‡è‡ªé€‚åº”æŠ€æœ¯ã€‚ä¸»è¦ç”¨äº PC å’Œ Apple ç»ˆç«¯çš„éŸ³è§†é¢‘æœåŠ¡ã€‚<br>åŒ…æ‹¬ä¸€ä¸ª m3u (8) çš„ç´¢å¼•æ–‡ä»¶ï¼ŒTS åª’ä½“åˆ†ç‰‡æ–‡ä»¶å’Œ key åŠ å¯†ä¸²æ–‡ä»¶ã€‚(æ‘˜æŠ„è‡ªç™¾åº¦ç™¾ç§‘)</p><p>CDNï¼š<a href="https://cdn.jsdelivr.net/npm/hls.js">https://cdn.jsdelivr.net/npm/hls.js</a></p><h2 id="è§†é¢‘æ’­æ”¾">è§†é¢‘æ’­æ”¾</h2><table><thead><tr><th style="text-align:center">å±æ€§</th><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">autoplay</td><td>autoplay</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾</td></tr><tr><td style="text-align:center">controls</td><td>controls</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®</td></tr><tr><td style="text-align:center">height</td><td>pixels</td><td>è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„é«˜åº¦</td></tr><tr><td style="text-align:center">loop</td><td>loop</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å½“åª’ä»‹æ–‡ä»¶å®Œæˆæ’­æ”¾åå†æ¬¡å¼€å§‹æ’­æ”¾</td></tr><tr><td style="text-align:center">muted</td><td>muted</td><td>è§„å®šè§†é¢‘çš„éŸ³é¢‘è¾“å‡ºåº”è¯¥è¢«é™éŸ³.</td></tr><tr><td style="text-align:center">poster</td><td>URL</td><td>è§„å®šè§†é¢‘ä¸‹è½½æ—¶æ˜¾ç¤ºçš„å›¾åƒï¼Œæˆ–è€…åœ¨ç”¨æˆ·ç‚¹å‡»æ’­æ”¾æŒ‰é’®å‰æ˜¾ç¤ºçš„å›¾åƒã€‚</td></tr><tr><td style="text-align:center">preload</td><td>preload</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨é¡µé¢åŠ è½½æ—¶è¿›è¡ŒåŠ è½½ï¼Œå¹¶é¢„å¤‡æ’­æ”¾ã€‚å¦‚æœä½¿ç”¨ â€œautoplayâ€ï¼Œåˆ™å¿½ç•¥è¯¥å±æ€§ã€‚</td></tr><tr><td style="text-align:center">src</td><td>url</td><td>è¦æ’­æ”¾çš„è§†é¢‘çš„ URL</td></tr><tr><td style="text-align:center">width</td><td>pixels</td><td>è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„å®½åº¦</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;hls.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;video id&#x3D;&quot;video&quot; preload muted loop autoplay style&#x3D;&quot;height: 100%;width: 100%;object-fit: cover;&quot;&gt;</span><br><span class="line">&lt;&#x2F;video&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  var video &#x3D; document.getElementById(&#39;video&#39;);</span><br><span class="line">  var videoSrc &#x3D; &#39;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;Ysnsn&#x2F;video-cdn&#x2F;003.m3u8&#39;;</span><br><span class="line">  if (Hls.isSupported()) &#123;</span><br><span class="line">    var hls &#x3D; new Hls();</span><br><span class="line">    hls.loadSource(videoSrc);</span><br><span class="line">    hls.attachMedia(video);</span><br><span class="line">    hls.on(Hls.Events.MANIFEST_PARSED, function() &#123;</span><br><span class="line">      video.play();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾</p><script src="https://cdn.jsdelivr.net/npm/hls.js"></script><video id="video" preload muted loop autoplay style="height: 100%;width: 100%;object-fit: cover;"></video><script>  var video = document.getElementById('video');  var videoSrc = 'https://cdn.jsdelivr.net/gh/Ysnsn/video-cdn/003.m3u8';  if (Hls.isSupported()) {    var hls = new Hls();    hls.loadSource(videoSrc);    hls.attachMedia(video);    hls.on(Hls.Events.MANIFEST_PARSED, function() {      video.play();    });  }</script><blockquote><p>Lete  <a href="https://blog.lete114.top/article/Jsdeliver-video.html">https://blog.lete114.top/article/Jsdeliver-video.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> jsdelivr </tag>
            
            <tag> m3u8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŠ“åŒ…ä¸‹è½½é’‰é’‰ç›´æ’­å›æ”¾</title>
      <link href="/dingdingzhibodownload.html"/>
      <url>/dingdingzhibodownload.html</url>
      
        <content type="html"><![CDATA[<script src="https://cdn.jsdelivr.net/npm/hls.js"></script><video id="video" preload loop autoplay style="height: 100%;width: 100%;object-fit: cover;"></video><script>  var video = document.getElementById('video');  var videoSrc = 'https://cdn.jsdelivr.net/gh/Ysnsn/video-cdn/2020/12/00.m3u8';  if (Hls.isSupported()) {    var hls = new Hls();    hls.loadSource(videoSrc);    hls.attachMedia(video);    hls.on(Hls.Events.MANIFEST_PARSED, function() {      video.play();    });  }</script><blockquote><p>ä¸‹è½½å›æ”¾åˆ°æœ¬åœ°ï¼ˆé’ˆå¯¹ç®¡ç†å‘˜è®¾ç½®ä¸èƒ½ä¸‹è½½çš„è§†é¢‘å›æ”¾ï¼‰</p></blockquote><h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2><ul><li>fiddlerï¼ˆæ±‰åŒ–ç‰ˆæœ€å¥½ï¼‰</li><li><a href="https://github.com/magicdmer/M3U8-Downloader">m3u8è§†é¢‘ä¸‹è½½å™¨</a></li><li>é’‰é’‰ç”µè„‘ç‰ˆ</li></ul><h2 id="ä¸»è¦æ­¥éª¤">ä¸»è¦æ­¥éª¤</h2><h3 id="è®¾ç½®fiddler">è®¾ç½®fiddler</h3><ul><li>æ‰“å¼€ Fiddler-&gt; å·¥å…· -&gt; é€‰é¡¹<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/01/f58097901f5c93735725e6d546878cc3.png" alt=""></li><li>è¿˜æ˜¯ Fiddler-&gt; å·¥å…· -&gt; é€‰é¡¹é‡Œï¼Œåˆ‡æ¢åˆ°è¿æ¥é€‰é¡¹å¡ï¼Œè®°ä¸‹ Fiddle æœ¬åœ°ç›‘å¬ç«¯å£ï¼Œæ¯”å¦‚é»˜è®¤çš„æ˜¯ 8888ï¼Œå¦‚éå¿…è¦ï¼ˆæ¯”å¦‚ç«¯å£å†²çªï¼‰å¯ä»¥ä¸ä¿®æ”¹<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/01/16018e5408683d2b404279394dc72c79.png" alt=""></li></ul><h3 id="è®¾ç½®é’‰é’‰">è®¾ç½®é’‰é’‰</h3><ul><li>é€€å‡ºä¹‹å‰ç™»é™†çš„é’‰é’‰è´¦å·ï¼Œæ‰“å¼€ç™»é™†è®¾ç½®<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/01/530a85cb7968694860e426d509f23e9a.png" alt=""><br>è®¾ç½®ä»£ç†å¦‚ä¸‹ï¼Œæ³¨æ„ä»£ç†ç«¯å£è¦å’Œ Fiddlerç›‘å¬ç«¯å£ä¿æŒä¸€è‡´ï¼</li></ul><p>ä»£ç†ç±»å‹ï¼šHTTP ä»£ç†</p><p>ä»£ç†åœ°å€ï¼š127.0.0.1</p><p>ä»£ç†ç«¯å£ï¼š8888<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/01/bb7de761a4e7a05b3f1dc4d429487b73.png" alt=""></p><h3 id="å¼€å§‹æŠ“åŒ…">å¼€å§‹æŠ“åŒ…</h3><ul><li>æ‰“å¼€é’‰é’‰ï¼Œè¿›å…¥ç­çº§ï¼Œæ‰“å¼€ç›´æ’­å›æ”¾ç•Œé¢ï¼Œä½†æ˜¯ ä¸è¦ç‚¹å¼€ä»»ä½•è§†é¢‘</li><li>æ‰“å¼€ Fiddlerï¼ŒCtrl + A é€‰æ‹©æ‰€æœ‰ä¼šè¯ï¼Œé¼ æ ‡å³é”®ç‚¹å‡»ç§»é™¤ï¼Œé€‰æ‹©æ‰€æœ‰ä¼šè¯ç§»é™¤</li><li>è¿™æ—¶å€™æ‰“å¼€é’‰é’‰ç›´æ’­çš„ä¸€ä¸ªè§†é¢‘ï¼Œå¯ä»¥çœ‹åˆ° Fiddler å¼€å§‹æ•è·é’‰é’‰çš„ä¼šè¯</li><li>åœ¨ Fiddler ä¼šè¯åˆ—è¡¨ç”¨å¿«æ·é”® Ctrl + F è¿›è¡ŒæŸ¥æ‰¾ä¼šè¯ï¼ŒæŸ¥æ‰¾æ¡†è¾“å…¥å…³é”®è¯ m3u8ï¼Œå…¶ä»–ä¸ç”¨åŠ¨ï¼Œç‚¹å‡»æŸ¥æ‰¾ä¼šè¯</li><li>æ‰¾åˆ° Hostä¸»æœºåä¸º <a href="http://dtliving-pre.alicdn.com">dtliving-pre.alicdn.com</a> å¹¶ä¸” URL å¸¦æœ‰ m3u8 çš„ä¼šè¯ï¼š</li><li>é¼ æ ‡å³é”®å•å‡»ä¼šè¯ï¼Œå¤åˆ¶è¿™ä¸ªä¼šè¯çš„ URL</li><li>æ‰“å¼€ M3U8-Downloaderï¼Œå°†åˆšæ‰å¤åˆ¶çš„ä¸‹è½½åœ°å€ç²˜è´´åˆ°ä¸‹è½½æ¡†é‡Œé¢</li><li>ç‚¹å‡»ä¸‹è½½ï¼Œç­‰å¾…ä¸‹è½½å®Œæˆæ‰“å¼€ç›®å½•å³å¯çœ‹åˆ°ä½ ä¸‹è½½çš„å›æ”¾è§†é¢‘ï¼ˆæ–‡ä¸­ä½¿ç”¨çš„ M3U8 ä¸‹è½½å™¨ä¸‹è½½åˆå¹¶çš„æ ¼å¼æ˜¯ mp4ï¼Œä¸åŒçš„ M3U8 ä¸‹è½½å™¨å¯èƒ½æœ‰æ‰€ä¸åŒï¼‰</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/01/f8c8c55ea3bbf4be945d34f74519faee.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/01/eb2b8ce37c0e754d7832e4a3648535e8.png" alt=""></p><blockquote><p>ä¿®æ”¹è‡ª Spoience   <a href="https://spoience.com/ddzhibo.html">https://spoience.com/ddzhibo.html</a></p></blockquote><blockquote><p>ä¸‹è½½å®Œçš„è§†é¢‘æ­£å¥½å¯ä»¥åˆ†äº«ç»™æˆ‘çš„é‚£ä¸‰ä¸ªå®¤å‹çœ‹ğŸ˜</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸ç”Ÿæ´» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> m3u8 </tag>
            
            <tag> æŠ“åŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHubå­¦ç”ŸåŒ…çš„ç”³è¯·è¿‡ç¨‹</title>
      <link href="/GitHub-Education.html"/>
      <url>/GitHub-Education.html</url>
      
        <content type="html"><![CDATA[<h2 id="è®°ä¸€æ¬¡ç”³è¯·Githubå­¦ç”Ÿå¼€å‘åŒ…ä»¥åŠè·å¾—Jetbrainsæ•™è‚²è®¸å¯çš„ç»å†">è®°ä¸€æ¬¡ç”³è¯·Githubå­¦ç”Ÿå¼€å‘åŒ…ä»¥åŠè·å¾—Jetbrainsæ•™è‚²è®¸å¯çš„ç»å†</h2><h3 id="Github-å­¦ç”Ÿå¼€å‘åŒ…ç®€ä»‹">Github å­¦ç”Ÿå¼€å‘åŒ…ç®€ä»‹</h3><blockquote><p>Github ä½œä¸ºå…¨çƒæœ€å¤§çš„å¼€æºä»£ç æ‰˜ç®¡å¹³å°ï¼Œåœ¨å…¶ Github Education å®˜ç½‘æœ‰å…³äº Github å­¦ç”Ÿå¼€å‘åŒ…çš„è¯´æ˜ï¼š</p></blockquote><blockquote><p>Learn to ship software like a pro. Thereâ€™s no substitute for hands-on experience. But for most students, real world tools can be cost-prohibitive. Thatâ€™s why we created the GitHub Student Developer Pack with some of our partners and friends: to give students free access to the best developer tools in one place so they can learn by doing.</p></blockquote><h2 id="è¿™ä»½å­¦ç”Ÿå¼€å‘åŒ…æœ‰ä»€ä¹ˆï¼ŸæŸ¥çœ‹å®˜æ–¹ğŸ‘‰ğŸ•³">è¿™ä»½å­¦ç”Ÿå¼€å‘åŒ…æœ‰ä»€ä¹ˆï¼Ÿ<a href="https://education.github.com/pack?sort=popularity">æŸ¥çœ‹å®˜æ–¹ğŸ‘‰ğŸ•³</a></h2><ul><li>Canva Pro å…è´¹è®¢é˜… 12 ä¸ªæœˆ</li><li>åœ¨ä½ å­¦ç”Ÿèº«ä»½æœ‰æ•ˆæœŸå†…å…è´¹è¯•ç”¨ Github Pro</li><li>å…è´¹è®¿é—® 25 ç§ä»¥ä¸Šçš„ Microsoft Azure äº‘æœåŠ¡ä»¥åŠ 100 åˆ€çš„ Microsoft Azure é¢åº¦</li><li>åœ¨ Namecheap <a href="http://xn--4gqta91w3xt9l2apq2a.me">ä¸Šå…è´¹ä¸€å¹´çš„.me</a> åŸŸåå’Œ SSL è¯ä¹¦</li><li><a href="http://Name.com">Name.com</a> ä¸Šä¸€ä¸ªå…è´¹åŸŸåå’Œå…è´¹é«˜çº§å®‰å…¨æ€§ SSL è¯ä¹¦</li><li>Jetbrains å…è´¹è®¢é˜…ä¸“ä¸šç‰ˆæ¡Œé¢ IDEï¼šIntelliJ IDEAã€PyCharmã€PhpStorm ç­‰ï¼ˆæ¯æ¬¡å…è´¹è®¢é˜…ä¸€å¹´ï¼Œæ¯å¹´ç»­è®¢ä¸€æ¬¡ï¼‰</li><li>Unity å…è´¹å­¦ç”Ÿè®¡åˆ’ï¼ˆåœ¨å­¦ç”Ÿèº«ä»½æœ‰æ•ˆæœŸå†…ï¼‰</li><li>Educative è¶…è¿‡ 60 å¤šä¸ªè¯¾ç¨‹ 6 ä¸ªæœˆçš„å…è´¹è¯¾ç¨‹ï¼šWeb å¼€å‘ã€Pythonã€Java å’Œæœºå™¨å­¦ä¹ ç­‰ä¸»æµè¯¾é¢˜</li><li>åœ¨å­¦ç”Ÿèº«ä»½æœ‰æ•ˆæœŸå†…å…è´¹çš„ BootStrap Studio çš„è®¸å¯è¯</li><li>Heroku æä¾›çš„å…è´¹çš„ Hobby Dynoï¼Œæœ€å¤šä¸¤å¹´</li><li>GitKraken Pro Suite åœ¨å­¦ç”Ÿèº«ä»½æœ‰æ•ˆæœŸå†…å¯ç”¨</li><li>å…è´¹ä¸€å¹´çš„.tech åŸŸåä»¥åŠä¸¤ä¸ªå…è´¹çš„ç”µå­é‚®ä»¶è´¦æˆ·å’Œ 100MB çš„å­˜å‚¨ç©ºé—´</li><li>Education Host å…è´¹ä¸€å¹´çš„è®¾è®¡å¸ˆå¥—ä»¶ï¼Œå‡çº§å¯äº«å—æ‰“æŠ˜</li><li>åœ¨å­¦ç”Ÿèº«ä»½æœ‰æ•ˆæœŸå†…å…è´¹ä½¿ç”¨ Termius é«˜çº§è®¡åˆ’</li><li>PompDone Lite å…è´¹æä¾› 2 å¹´</li><li>IconScout ä¸€å¹´å†…æ¯æœˆå…è´¹ä¸‹è½½ 60 ä¸ªé«˜çº§å›¾æ ‡</li><li>$200 çš„ MongoDB Atlas ç§¯åˆ†ï¼Œä»¥åŠä½¿ç”¨ MongoDB Compass å’Œ MongoDB University çš„æƒåˆ©ï¼ŒåŒ…æ‹¬å…è´¹è¯ä¹¦</li><li>Netwise å…è´¹æ‰˜ç®¡å•ä¸ªæœåŠ¡å™¨è½¯ä»¶åŒ… 1 å¹´</li><li>next.tech å…è´¹è®¿é—®ä¸€å¹´çš„æ‰€æœ‰äº¤äº’å¼è¯¾ç¨‹å’Œäº‘è®¡ç®—ç¯å¢ƒ</li><li>Travis CI åœ¨å­¦ç”Ÿèº«ä»½æœ‰æ•ˆæœŸå†…å…è´¹æ„å»ºæ— é™åˆ¶çš„ç§äººä»“åº“</li><li>å­¦ç”ŸæœŸé—´ï¼Œé€‚ç”¨äº iPhone å’Œ iPad å¼ºå¤§çš„ Git å®¢æˆ·ç«¯ Working Copy Pro å…è´¹</li><li>å­¦ç”ŸæœŸé—´ï¼Œ<a href="http://blackfire.io">blackfire.io</a> å…è´¹è®¢é˜… Profiler</li><li>Sentryï¼šæ¯æœˆ 50 ä¸‡äº‹ä»¶è·Ÿè¸ªã€æ— é™é¡¹ç›®ã€æ— é™å›¢é˜Ÿæˆå‘˜</li><li>CodeScene: ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¯è§†ï¼ŒåŒ–å·¥å…·ï¼Œå®ƒä½¿ç”¨ Predictive Analytics è¯†åˆ«ä»£ç ä¸­çš„ç¤¾äº¤æ¨¡å¼ï¼Œæ£€æµ‹äº¤ä»˜é£é™©å¹¶ç®¡ç†æŠ€æœ¯å€ºåŠ¡ï¼Œå­¦ç”ŸæœŸå†…ï¼Œä¸€ä¸ªå…è´¹çš„ Student å¸æˆ·ï¼Œç”¨äºåˆ†æç§æœ‰ GitHub å­˜å‚¨åº“</li><li>AccessLintï¼šå¼•å…¥æ‚¨çš„å¼€å‘å·¥ä½œæµç¨‹è‡ªåŠ¨åŒ–çš„ Web å¯è®¿é—®æ€§æµ‹è¯•ï¼Œå­¦ç”ŸæœŸå†…ï¼Œå¯ä»¥æ— é™ä½¿ç”¨å…¬å…±å’Œç§äººå­˜å‚¨åº“</li><li>â€¦â€¦</li></ul><h2 id="ç”³è¯·æµç¨‹">ç”³è¯·æµç¨‹</h2><blockquote><p>åœ¨ Github æ–‡æ¡£ä¸Šï¼Œå®ƒå‘æˆ‘ä»¬æä¾›äº†å­¦ç”Ÿå¼€å‘åŒ…çš„ç”³è¯·æµç¨‹å’Œä»‹ç»ï¼š<br>åœ¨ç”³è¯·ä¸ªäººæŠ˜æ‰£ä¹‹å‰ï¼Œè¯·æ£€æŸ¥æ‚¨çš„å­¦ä¹ ç¤¾åŒºæ˜¯å¦å·²ä½œä¸º GitHub Education å­¦æ ¡ä¸æˆ‘ä»¬åˆä½œã€‚ æ›´å¤šä¿¡æ¯è¯·å‚é˜… â€œå…³äº GitHub Educationâ€ã€‚<br>åœ¨å›½å†…ï¼Œæœ‰äº›é™¢æ ¡ä¸ç»™å­¦ç”Ÿæä¾›æ•™è‚²é‚®ç®±æˆ–è€…é™¢æ ¡æ²¡æœ‰ä½œä¸º GitHub Education å­¦æ ¡ä¸ Github åˆä½œï¼Œè¿™æ—¶å€™æˆ‘ä»¬åªèƒ½é€šè¿‡å…¶ä»–æ–¹å¼è¯æ˜æˆ‘ä»¬èº«ä»½å¹¶è®¾æ³•é€šè¿‡å­¦ç”Ÿå¼€å‘åŒ…çš„ç”³è¯·ã€‚</p></blockquote><h2 id="ç”³è¯·è¦æ±‚">ç”³è¯·è¦æ±‚</h2><h4 id="è¦è·å¾—ç”³è¯·-GitHub-Student-Developer-Pack-çš„èµ„æ ¼ï¼Œå¿…é¡»ï¼š">è¦è·å¾—ç”³è¯· GitHub Student Developer Pack çš„èµ„æ ¼ï¼Œå¿…é¡»ï¼š</h4><ul><li>ç°æ­£æ”»è¯»å­¦ä½æˆ–æ–‡å‡­æˆäºˆè¯¾ç¨‹ï¼Œå¦‚é«˜ä¸­ã€åˆä¸­ã€å¤§ä¸“ã€å¤§å­¦ã€è‡ªä¸»å­¦ä¹ æˆ–ç±»ä¼¼æ•™è‚²æœºæ„</li><li>å…·æœ‰å­¦æ ¡å‘æ”¾çš„å¯éªŒè¯ç”µå­é‚®ä»¶åœ°å€ï¼Œæˆ–è€…ä¸Šä¼ èƒ½è¯æ˜æ‚¨ç›®å‰å­¦ç”Ÿèº«ä»½çš„æ–‡æ¡£</li><li>æ‹¥æœ‰ GitHub ç”¨æˆ·å¸æˆ·</li><li>è‡³å°‘å¹´æ»¡ 13 å²</li><li>è¯æ˜æ‚¨ç°ä»»å­¦ç”Ÿèº«ä»½çš„æ–‡ä»¶åŒ…æ‹¬å­¦æ ¡ ID ç…§çœ‹ã€ç­çº§è¯¾ç¨‹è¡¨ã€æˆç»©å•å’Œå½’å±æˆ–å…¥å­¦ç­¾åˆ°å‡½ã€‚</li></ul><blockquote><p>åœ¨ä½œä¸ºå­¦ç”ŸæœŸé—´ï¼ŒGithub å¯èƒ½ä¼šæç¤ºæ‚¨å®šæœŸé‡æ–°éªŒè¯ç›®å‰çš„å­¦ä¸šèº«ä»½ã€‚</p></blockquote><h2 id="å¦‚ä½•ç”³è¯·">å¦‚ä½•ç”³è¯·</h2><h4 id="å­¦æ ¡æœ‰æ•™è‚²é‚®ç®±">å­¦æ ¡æœ‰æ•™è‚²é‚®ç®±</h4><p>Github æ˜¯æ¥å—å›½å†…é«˜ç­‰é™¢æ ¡ç”³è¯·çš„ï¼Œå¦‚æœæ‚¨æ‰€åœ¨çš„å¤§å­¦å¾ˆè‰¯å¿ƒçš„æä¾›è¡€æ±—ä¿„å›½æ•™è‚²é‚®ç®±ï¼ˆå›½å†…æ˜¯ <a href="http://edu.cn">edu.cn</a>ï¼‰ï¼Œä½ ä»…éœ€è¦æŠŠè¿™æ•™è‚²é‚®ç®±ç»‘å®šä½ çš„ Github è´¦å·æˆ–è€…ä½¿ç”¨è¿™ä¸ªé‚®ç®±æ³¨å†Œ Githubï¼Œç„¶ååœ¨ç”³è¯·é¡µé¢é€‰æ‹©è¯¥é‚®ç®±å³å¯ã€‚</p><h4 id="æ²¡æœ‰æ•™è‚²é‚®ç®±ï¼Ÿ">æ²¡æœ‰æ•™è‚²é‚®ç®±ï¼Ÿ</h4><p>å¦‚æœä½ åƒæˆ‘ä¸€æ ·çš„å€’éœ‰è›‹ï¼Œåœ¨ä¸€æ‰€ä¸æä¾›æ•™è‚²é‚®ç®±çš„ * å¤§å­¦ï¼Œé‚£ä½ éœ€è¦å°è¯•ä½¿ç”¨è¯æ˜ä½ å­¦ç”Ÿèº«ä»½çš„æ–‡ä»¶ç”³è¯·ï¼Œè¿™ç§æ–¹æ³•éœ€è¦äººå·¥å®¡æ ¸ï¼Œéœ€è¦çš„æ—¶é—´å¯èƒ½é•¿ä¸€ç‚¹ï¼Œè¿˜æœ‰æ¦‚ç‡ç”³è¯·è¢«æ‹’ç»ï¼Œè¯·åšå¥½å¿ƒé‡Œå‡†å¤‡â€¦â€¦ éšè®©å’±ä»¬å­¦æ ¡åƒåœ¾å‘¢ğŸ˜€</p><p>å¼€å§‹å‰ï¼Œå‡†å¤‡â€¦</p><ul><li>Github è´¦å·</li><li>å­¦ç”Ÿè¯ç…§ç‰‡<br>æ‰“å¼€æµè§ˆå™¨è¿›å…¥ <a href="https://education.github.com/pack#offers">GitHub Education</a>ï¼Œå³ä¸Šè§’é€‰æ‹© Get benefits</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/10/30/8c2cfa57b60629916e4544613c2a0c1d.png" alt=""></p><p>ä¿ºä»¬è‚¯å®šé€‰æ‹©å­¦ç”Ÿ<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/10/30/dbf365582940b58cde89e4cc58509fee.png" alt=""></p><p>å¡«å…¥ä½ çš„å­¦æ ¡è‹±æ–‡å…¨ç§°ï¼ˆå¯ä»¥ç»´åŸºç™¾ç§‘çœ‹ä¸‹æ­£å¼è‹±æ–‡å…¨ç§°ï¼‰ï¼Œæ³¨æ„ How do you plan to use Github ä¸€å®šè¦å¥½å¥½å†™ï¼Œç‚¹å‡» â€œSubmit your informationâ€ æäº¤ç”³è¯·<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/10/30/9140f434270dd1485cf7f05c57d2ed4c.png" alt=""></p><p>å› ä¸ºä¿ºä»¬è¿™å­¦æ ¡æ²¡æœ‰æ•™è‚²é‚®ç®±ï¼Œæ‰€ä»¥æäº¤ä¸Šé¢çš„ç”³è¯·å Github éœ€è¦ä½ æä¾›æ›´å¤šä¿¡æ¯ä»¥è¯æ˜ä½ çš„èº«ä»½ï¼Œå·¦è¾¹çš„æ˜¯ä½¿ç”¨å­¦ç”Ÿè¯æ¥è¯æ˜ä½ çš„èº«ä»½<br>ä¸‹æ‹‰é¡µé¢ï¼Œä½ å¯ä»¥é€‰æ‹©ç°åœ¨æ‹ç…§æˆ–è€…ä¸Šä¼ å­¦ç”Ÿè¯ç…§ç‰‡ï¼ˆæ³¨æ„å›¾ç‰‡ä¸èƒ½è¶…è¿‡ 5MBï¼‰</p><p>å®Œæˆåç‚¹å‡»æäº¤ç”³è¯·</p><h2 id="å®Œæˆ">å®Œæˆ</h2><blockquote><p>æ„Ÿè°¢æ‚¨çš„æäº¤ï¼ è¯·åŠ¡å¿…æ£€æŸ¥æ‚¨çš„ç”µå­é‚®ä»¶ã€‚å¦‚æœæ‚¨åœ¨ä¸€å°æ—¶å†…æ²¡æœ‰æ”¶åˆ°æˆ‘ä»¬çš„å›éŸ³ï¼Œæ‚¨åº”è¯¥åœ¨ä¸åˆ° 1 ä¸ªæœˆçš„æ—¶é—´å†…æ”¶åˆ°æˆ‘ä»¬çš„ç”µå­é‚®ä»¶ã€‚ç¥æ‚¨åº¦è¿‡ä¸€ä¸ªç¾å¥½çš„ä¸€å¤©ï¼<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/10/30/6a8e8e78edd30ec7c17f145376c2b1e3.png" alt=""></p></blockquote><h2 id="æ£€æŸ¥é‚®ç®±å¼€å§‹ç­‰å¾…ç”³è¯·ç»“æœ">æ£€æŸ¥é‚®ç®±å¼€å§‹ç­‰å¾…ç”³è¯·ç»“æœ</h2><h2 id="æˆ‘çš„ä¸åˆ°ä¸€ä¸ªå°æ—¶å°±ç”³è¯·é€šè¿‡äº†ğŸ’Œï¼ˆå¼€å¿ƒï¼Œå¯ä»¥æ„‰å¿«ç©è€äº†ï¼‰">æˆ‘çš„ä¸åˆ°ä¸€ä¸ªå°æ—¶å°±ç”³è¯·é€šè¿‡äº†ğŸ’Œï¼ˆå¼€å¿ƒï¼Œå¯ä»¥æ„‰å¿«ç©è€äº†ï¼‰</h2><p><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/10/30/22d31aeb218decfbb0457b50df03eb1c.png" alt=""></p><blockquote><p>è½¬è‡ª <em>Spoience</em>  <a href="https://spoience.com/github-jetbrains-edu.html">https://spoience.com/github-jetbrains-edu.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšè®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> æ•™è‚²ä¼˜æƒ  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitå‘½ä»¤å¤§å…¨200ä¸ªå·¦å³</title>
      <link href="/git-using.html"/>
      <url>/git-using.html</url>
      
        <content type="html"><![CDATA[<p>æˆ‘å¹³æ—¶ä½¿ç”¨ Git çš„æ—¶å€™ï¼Œå¾ˆå¤šçš„ Git å‘½ä»¤æˆ‘éƒ½ä¸æ˜¯å¾ˆå¸¸ç”¨ï¼Œå·¥ä½œä¸­ä¸€èˆ¬æˆ‘ä»¬ä¼šé…åˆä¸€äº›å¯è§†åŒ–å·¥å…·ï¼Œæˆ–è€…ç¼–è¾‘å™¨è‡ªå¸¦çš„ä¸€äº›æ’ä»¶å»ç»´æŠ¤ Git ä»“åº“ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿè¦è®°å¾—ä¸€äº›å¸¸ç”¨ Git å‘½ä»¤æ¥åº”å˜ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ï¼Œä¸‹é¢æ˜¯æˆ‘æ”¶å½•æ•´ç†çš„å¸¸ç”¨å’Œä¸å¸¸ç”¨çš„ä¸€äº› Git å‘½ä»¤ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶æ›´å¥½çš„æŒæ¡ Git çš„ä½¿ç”¨ï¼Œå¦‚æœæ–‡ç« å’Œç¬”è®°èƒ½å¸¦æ‚¨ä¸€ä¸å¸®åŠ©æˆ–è€…å¯å‘ï¼Œè¯·ä¸è¦åå•¬ä½ çš„èµå’Œæ”¶è—ï¼Œä½ çš„è‚¯å®šæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§åŠ¨åŠ›ã€‚</p><h2 id="æ–°å»º">æ–°å»º</h2><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ git ç‰ˆæœ¬åº“ã€‚è¿™ä¸ªç‰ˆæœ¬åº“çš„é…ç½®ã€å­˜å‚¨ç­‰ä¿¡æ¯ä¼šè¢«ä¿å­˜åˆ°.git æ–‡ä»¶å¤¹ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># åˆå§‹åŒ–å½“å‰é¡¹ç›®</span><br><span class="line">$ git init</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“</span><br><span class="line">$ git init [project-name]</span><br><span class="line"></span><br><span class="line"># åœ¨æŒ‡å®šç›®å½•åˆ›å»ºä¸€ä¸ªç©ºçš„ Git ä»“åº“ã€‚è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸º directoryï¼ŒåªåŒ…å« .git å­ç›®å½•çš„ç©ºç›®å½•ã€‚</span><br><span class="line"></span><br><span class="line">$ git init --bare &lt;directory&gt;</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²</span><br><span class="line"># è¿™ä¸ªå‘½ä»¤å°±æ˜¯å°†ä¸€ä¸ªç‰ˆæœ¬åº“æ‹·è´åˆ°å¦ä¸€ä¸ªç›®å½•ä¸­ï¼ŒåŒæ—¶ä¹Ÿå°†åˆ†æ”¯éƒ½æ‹·è´åˆ°æ–°çš„ç‰ˆæœ¬åº“ä¸­ã€‚è¿™æ ·å°±å¯ä»¥åœ¨æ–°çš„ç‰ˆæœ¬åº“ä¸­æäº¤åˆ°è¿œç¨‹åˆ†æ”¯</span><br><span class="line">$ git clone [url]</span><br></pre></td></tr></table></figure><h2 id="é…ç½®">é…ç½®</h2><p>æ›´æ”¹è®¾ç½®ã€‚å¯ä»¥æ˜¯ç‰ˆæœ¬åº“çš„è®¾ç½®ï¼Œä¹Ÿå¯ä»¥æ˜¯ç³»ç»Ÿçš„æˆ–å…¨å±€çš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># æ˜¾ç¤ºå½“å‰çš„Gité…ç½®</span><br><span class="line">$ git config --list</span><br><span class="line"></span><br><span class="line"># ç¼–è¾‘Gité…ç½®æ–‡ä»¶</span><br><span class="line">$ git config -e [--global]</span><br><span class="line"></span><br><span class="line"># è¾“å‡ºã€è®¾ç½®åŸºæœ¬çš„å…¨å±€å˜é‡</span><br><span class="line">$ git config --global user.email</span><br><span class="line">$ git config --global user.name</span><br><span class="line"></span><br><span class="line">$ git config --global user.email &quot;MyEmail@gmail.com&quot;</span><br><span class="line">$ git config --global user.name &quot;My Name&quot;</span><br><span class="line"></span><br><span class="line"># å®šä¹‰å½“å‰ç”¨æˆ·æ‰€æœ‰æäº¤ä½¿ç”¨çš„ä½œè€…é‚®ç®±ã€‚</span><br><span class="line">$ git config --global alias.&lt;alias-name&gt; &lt;git-command&gt;</span><br><span class="line"></span><br><span class="line"># ä¸ºGitå‘½ä»¤åˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼ï¼ˆåˆ«åï¼‰ã€‚</span><br><span class="line">$ git config --system core.editor &lt;editor&gt;</span><br></pre></td></tr></table></figure><h2 id="å¸®åŠ©">å¸®åŠ©</h2><p>git å†…ç½®äº†å¯¹å‘½ä»¤éå¸¸è¯¦ç»†çš„è§£é‡Šï¼Œå¯ä»¥ä¾›æˆ‘ä»¬å¿«é€ŸæŸ¥é˜…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥æ‰¾å¯ç”¨å‘½ä»¤</span><br><span class="line">$ git help</span><br><span class="line"></span><br><span class="line"># æŸ¥æ‰¾æ‰€æœ‰å¯ç”¨å‘½ä»¤</span><br><span class="line">$ git help -a</span><br><span class="line"></span><br><span class="line"># åœ¨æ–‡æ¡£å½“ä¸­æŸ¥æ‰¾ç‰¹å®šçš„å‘½ä»¤</span><br><span class="line"># git help &lt;å‘½ä»¤&gt;</span><br><span class="line">$ git help add</span><br><span class="line">$ git help commit</span><br><span class="line">$ git help init</span><br></pre></td></tr></table></figure><h2 id="çŠ¶æ€">çŠ¶æ€</h2><p>æ˜¾ç¤ºç´¢å¼•æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯å½“å‰å·¥ä½œç©ºé—´ï¼‰å’Œå½“å‰çš„å¤´æŒ‡é’ˆæŒ‡å‘çš„æäº¤çš„ä¸åŒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æ˜¾ç¤ºåˆ†æ”¯ï¼Œæœªè·Ÿè¸ªæ–‡ä»¶ï¼Œæ›´æ”¹å’Œå…¶ä»–ä¸åŒ</span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å…¶ä»–çš„git statusçš„ç”¨æ³•</span><br><span class="line">$ git help status</span><br></pre></td></tr></table></figure><h2 id="ä¿¡æ¯">ä¿¡æ¯</h2><p>è·å–æŸäº›æ–‡ä»¶ï¼ŒæŸäº›åˆ†æ”¯ï¼ŒæŸæ¬¡æäº¤ç­‰ git ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"># æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶</span><br><span class="line">$ git log --stat</span><br><span class="line"></span><br><span class="line"># æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯</span><br><span class="line">$ git log -S [keyword]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ</span><br><span class="line">$ git log [tag] HEAD --pretty&#x3D;format:%s</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶&quot;æäº¤è¯´æ˜&quot;å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶</span><br><span class="line">$ git log [tag] HEAD --grep feature</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å</span><br><span class="line">$ git log --follow [file]</span><br><span class="line">$ git whatchanged [file]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff</span><br><span class="line">$ git log -p [file]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤</span><br><span class="line">$ git log -5 --pretty --oneline</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº</span><br><span class="line">$ git shortlog -sn</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡</span><br><span class="line">$ git blame [file]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span><br><span class="line">$ git diff</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span><br><span class="line">$ git diff --cached [file]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span><br><span class="line">$ git diff HEAD</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</span><br><span class="line">$ git diff [first-branch]...[second-branch]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç </span><br><span class="line">$ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;</span><br><span class="line"></span><br><span class="line"># æ¯”è¾ƒæš‚å­˜åŒºå’Œç‰ˆæœ¬åº“å·®å¼‚</span><br><span class="line">$ git diff --staged</span><br><span class="line"></span><br><span class="line"># æ¯”è¾ƒæš‚å­˜åŒºå’Œç‰ˆæœ¬åº“å·®å¼‚</span><br><span class="line">$ git diff --cached</span><br><span class="line"></span><br><span class="line"># ä»…ä»…æ¯”è¾ƒç»Ÿè®¡ä¿¡æ¯</span><br><span class="line">$ git diff --stat</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span><br><span class="line">$ git show [commit]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶</span><br><span class="line">$ git show --name-only [commit]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span><br><span class="line">$ git show [commit]:[filename]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤</span><br><span class="line">$ git reflog</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</span><br><span class="line">$ git br -r</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºæ–°çš„åˆ†æ”¯</span><br><span class="line">$ git br &lt;new_branch&gt;</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å„ä¸ªåˆ†æ”¯æœ€åæäº¤ä¿¡æ¯</span><br><span class="line">$ git br -v</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å·²ç»è¢«åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</span><br><span class="line">$ git br --merged</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å°šæœªè¢«åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</span><br><span class="line">$ git br --no-merged</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ ">æ·»åŠ </h2><p>æ·»åŠ æ–‡ä»¶åˆ°å½“å‰å·¥ä½œç©ºé—´ä¸­ã€‚å¦‚æœä½ ä¸ä½¿ç”¨ <code>git add</code> å°†æ–‡ä»¶æ·»åŠ è¿›å»ï¼Œé‚£ä¹ˆè¿™äº›æ–‡ä»¶ä¹Ÿä¸ä¼šæ·»åŠ åˆ°ä¹‹åçš„æäº¤ä¹‹ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># æ·»åŠ ä¸€ä¸ªæ–‡ä»¶</span><br><span class="line">$ git add test.js</span><br><span class="line"></span><br><span class="line"># æ·»åŠ ä¸€ä¸ªå­ç›®å½•ä¸­çš„æ–‡ä»¶</span><br><span class="line">$ git add &#x2F;path&#x2F;to&#x2F;file&#x2F;test.js</span><br><span class="line"></span><br><span class="line"># æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼</span><br><span class="line">$ git add .&#x2F;*.js</span><br><span class="line"></span><br><span class="line"># æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">$ git add [file1] [file2] ...</span><br><span class="line"></span><br><span class="line"># æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•</span><br><span class="line">$ git add [dir]</span><br><span class="line"></span><br><span class="line"># æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">$ git add .</span><br><span class="line"></span><br><span class="line"># æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤</span><br><span class="line"># å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤</span><br><span class="line">$ git add -p</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤">åˆ é™¤</h2><p>rm å’Œä¸Šé¢çš„ add å‘½ä»¤ç›¸åï¼Œä»å·¥ä½œç©ºé—´ä¸­å»æ‰æŸä¸ªæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># ç§»é™¤ HelloWorld.js</span><br><span class="line">$ git rm HelloWorld.js</span><br><span class="line"></span><br><span class="line"># ç§»é™¤å­ç›®å½•ä¸­çš„æ–‡ä»¶</span><br><span class="line">$ git rm &#x2F;pather&#x2F;to&#x2F;the&#x2F;file&#x2F;HelloWorld.js</span><br><span class="line"></span><br><span class="line"># åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span><br><span class="line">$ git rm [file1] [file2] ...</span><br><span class="line"></span><br><span class="line"># åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº</span><br><span class="line">$ git rm --cached [file]</span><br></pre></td></tr></table></figure><h2 id="åˆ†æ”¯">åˆ†æ”¯</h2><p>ç®¡ç†åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡ä¸‹åˆ—å‘½ä»¤å¯¹åˆ†æ”¯è¿›è¡Œå¢åˆ æ”¹æŸ¥åˆ‡æ¢ç­‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹æ‰€æœ‰çš„åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span><br><span class="line">$ git branch -a</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯</span><br><span class="line">$ git branch [branch-name]</span><br><span class="line"></span><br><span class="line"># é‡å‘½ååˆ†æ”¯</span><br><span class="line"># git branch -m &lt;æ—§åç§°&gt; &lt;æ–°åç§°&gt;</span><br><span class="line">$ git branch -m [branch-name] [new-branch-name]</span><br><span class="line"></span><br><span class="line"># ç¼–è¾‘åˆ†æ”¯çš„ä»‹ç»</span><br><span class="line">$ git branch [branch-name] --edit-description</span><br><span class="line"></span><br><span class="line"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span><br><span class="line">$ git branch</span><br><span class="line"></span><br><span class="line"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span><br><span class="line">$ git branch -r</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span><br><span class="line">$ git branch [branch-name]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span><br><span class="line">$ git checkout -b [branch]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span><br><span class="line">$ git branch [branch] [commit]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span><br><span class="line">$ git branch --track [branch] [remote-branch]</span><br><span class="line"></span><br><span class="line"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº</span><br><span class="line">$ git checkout [branch-name]</span><br><span class="line"></span><br><span class="line"># åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</span><br><span class="line">$ git checkout -</span><br><span class="line"></span><br><span class="line"># å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´</span><br><span class="line">$ git branch --set-upstream [branch] [remote-branch]</span><br><span class="line"></span><br><span class="line"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">$ git merge [branch]</span><br><span class="line"></span><br><span class="line"># é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span><br><span class="line">$ git cherry-pick [commit]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤åˆ†æ”¯</span><br><span class="line">$ git branch -d [branch-name]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br><span class="line">$ git push origin --delete [branch-name]</span><br><span class="line">$ git branch -dr [remote&#x2F;branch]</span><br><span class="line"></span><br><span class="line"># åˆ‡æ¢åˆ°æŸä¸ªåˆ†æ”¯</span><br><span class="line">$ git co &lt;branch&gt;</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼Œå¹¶ä¸”åˆ‡æ¢è¿‡å»</span><br><span class="line">$ git co -b &lt;new_branch&gt;</span><br><span class="line"></span><br><span class="line"># åŸºäºbranchåˆ›å»ºæ–°çš„new_branch</span><br><span class="line">$ git co -b &lt;new_branch&gt; &lt;branch&gt;</span><br><span class="line"></span><br><span class="line"># æŠŠæŸæ¬¡å†å²æäº¤è®°å½•checkoutå‡ºæ¥ï¼Œä½†æ— åˆ†æ”¯ä¿¡æ¯ï¼Œåˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ä¼šè‡ªåŠ¨åˆ é™¤</span><br><span class="line">$ git co $id</span><br><span class="line"></span><br><span class="line"># æŠŠæŸæ¬¡å†å²æäº¤è®°å½•checkoutå‡ºæ¥ï¼Œåˆ›å»ºæˆä¸€ä¸ªåˆ†æ”¯</span><br><span class="line">$ git co $id -b &lt;new_branch&gt;</span><br><span class="line"></span><br><span class="line"># åˆ é™¤æŸä¸ªåˆ†æ”¯</span><br><span class="line">$ git br -d &lt;branch&gt;</span><br><span class="line"></span><br><span class="line"># å¼ºåˆ¶åˆ é™¤æŸä¸ªåˆ†æ”¯ (æœªè¢«åˆå¹¶çš„åˆ†æ”¯è¢«åˆ é™¤çš„æ—¶å€™éœ€è¦å¼ºåˆ¶)</span><br><span class="line">$ git br -D &lt;branch&gt;</span><br></pre></td></tr></table></figure><h2 id="æ£€å‡º">æ£€å‡º</h2><p>å°†å½“å‰å·¥ä½œç©ºé—´æ›´æ–°åˆ°ç´¢å¼•æ‰€æ ‡è¯†çš„æˆ–è€…æŸä¸€ç‰¹å®šçš„å·¥ä½œç©ºé—´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># æ£€å‡ºä¸€ä¸ªç‰ˆæœ¬åº“ï¼Œé»˜è®¤å°†æ›´æ–°åˆ°masteråˆ†æ”¯</span><br><span class="line">$ git checkout</span><br><span class="line"># æ£€å‡ºåˆ°ä¸€ä¸ªç‰¹å®šçš„åˆ†æ”¯</span><br><span class="line">$ git checkout branchName</span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶ä¸”åˆ‡æ¢è¿‡å»ï¼Œç›¸å½“äº&quot;git branch &lt;åå­—&gt;; git checkout &lt;åå­—&gt;&quot;</span><br><span class="line">$ git checkout -b newBranch</span><br></pre></td></tr></table></figure><h2 id="è¿œç¨‹åŒæ­¥">è¿œç¨‹åŒæ­¥</h2><p>è¿œç¨‹åŒæ­¥çš„è¿œç«¯åˆ†æ”¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"># ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span><br><span class="line">$ git fetch [remote]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span><br><span class="line">$ git remote -v</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯</span><br><span class="line">$ git remote show [remote]</span><br><span class="line"></span><br><span class="line"># å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span><br><span class="line">$ git remote add [shortname] [url]</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹è¿œç¨‹æœåŠ¡å™¨åœ°å€å’Œä»“åº“åç§°</span><br><span class="line">$ git remote -v</span><br><span class="line"></span><br><span class="line"># æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€</span><br><span class="line">$ git remote add origin git@ github:xxx&#x2F;xxx.git</span><br><span class="line"></span><br><span class="line"># è®¾ç½®è¿œç¨‹ä»“åº“åœ°å€(ç”¨äºä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€)</span><br><span class="line">$ git remote set-url origin git@ github.com:xxx&#x2F;xxx.git</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è¿œç¨‹ä»“åº“</span><br><span class="line">$ git remote rm &lt;repository&gt;</span><br><span class="line"></span><br><span class="line"># ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line"># æŠŠæœ¬åœ°çš„åˆ†æ”¯æ›´æ–°åˆ°è¿œç«¯originçš„masteråˆ†æ”¯ä¸Š</span><br><span class="line"># git push &lt;è¿œç«¯&gt; &lt;åˆ†æ”¯&gt;</span><br><span class="line"># git push ç›¸å½“äº git push origin master</span><br><span class="line">$ git push [remote] [branch]</span><br><span class="line"></span><br><span class="line"># å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span><br><span class="line">$ git push [remote] --force</span><br><span class="line"></span><br><span class="line"># æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line">$ git push [remote] --all</span><br></pre></td></tr></table></figure><h2 id="æ’¤é”€">æ’¤é”€</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"># æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</span><br><span class="line">$ git checkout [file]</span><br><span class="line"></span><br><span class="line"># æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</span><br><span class="line">$ git checkout [commit] [file]</span><br><span class="line"></span><br><span class="line"># æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</span><br><span class="line">$ git checkout .</span><br><span class="line"></span><br><span class="line"># é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git reset [file]</span><br><span class="line"></span><br><span class="line"># é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</span><br><span class="line">$ git reset --hard</span><br><span class="line"></span><br><span class="line"># é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git reset [commit]</span><br><span class="line"></span><br><span class="line"># é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´</span><br><span class="line">$ git reset --hard [commit]</span><br><span class="line"></span><br><span class="line"># é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git reset --keep [commit]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit</span><br><span class="line"># åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">$ git revert [commit]</span><br><span class="line"></span><br><span class="line"># æ¢å¤æœ€åä¸€æ¬¡æäº¤çš„çŠ¶æ€</span><br><span class="line">$ git revert HEAD</span><br><span class="line"></span><br><span class="line"># æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥</span><br><span class="line">$ git stash</span><br><span class="line">$ git stash pop</span><br><span class="line"></span><br><span class="line"># åˆ—æ‰€æœ‰stash</span><br><span class="line">$ git stash list</span><br><span class="line"></span><br><span class="line"># æ¢å¤æš‚å­˜çš„å†…å®¹</span><br><span class="line">$ git stash apply</span><br><span class="line"></span><br><span class="line"># åˆ é™¤æš‚å­˜åŒº</span><br><span class="line">$ git stash drop</span><br></pre></td></tr></table></figure><h2 id="commit">commit</h2><p>å°†å½“å‰ç´¢å¼•çš„æ›´æ”¹ä¿å­˜ä¸ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œè¿™ä¸ªæäº¤åŒ…æ‹¬ç”¨æˆ·åšå‡ºçš„æ›´æ”¹ä¸ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒºé™„å¸¦æäº¤ä¿¡æ¯</span><br><span class="line">$ git commit -m [message]</span><br><span class="line"></span><br><span class="line"># æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº</span><br><span class="line">$ git commit [file1] [file2] ... -m [message]</span><br><span class="line"></span><br><span class="line"># æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span><br><span class="line">$ git commit -a</span><br><span class="line"></span><br><span class="line"># æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</span><br><span class="line">$ git commit -v</span><br><span class="line"></span><br><span class="line"># ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤</span><br><span class="line"># å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span><br><span class="line">$ git commit --amend -m [message]</span><br><span class="line"></span><br><span class="line"># é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span><br><span class="line">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure><h2 id="diff">diff</h2><p>æ˜¾ç¤ºå½“å‰å·¥ä½œç©ºé—´å’Œæäº¤çš„ä¸åŒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># æ˜¾ç¤ºå·¥ä½œç›®å½•å’Œç´¢å¼•çš„ä¸åŒ</span><br><span class="line">$ git diff</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºç´¢å¼•å’Œæœ€è¿‘ä¸€æ¬¡æäº¤çš„ä¸åŒ</span><br><span class="line">$ git diff --cached</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºå·¥ä½œç›®å½•å’Œæœ€è¿‘ä¸€æ¬¡æäº¤çš„ä¸åŒ</span><br><span class="line">$ git diff HEAD</span><br></pre></td></tr></table></figure><h2 id="grep">grep</h2><p>å¯ä»¥åœ¨ç‰ˆæœ¬åº“ä¸­å¿«é€ŸæŸ¥æ‰¾</p><p>å¯é€‰é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># æ„Ÿè°¢Travis Jefferyæä¾›çš„ä»¥ä¸‹ç”¨æ³•ï¼š</span><br><span class="line"># åœ¨æœç´¢ç»“æœä¸­æ˜¾ç¤ºè¡Œå·</span><br><span class="line">$ git config --global grep.lineNumber true</span><br><span class="line"></span><br><span class="line"># æ˜¯æœç´¢ç»“æœå¯è¯»æ€§æ›´å¥½</span><br><span class="line">$ git config --global alias.g &quot;grep --break --heading --line-number&quot;</span><br><span class="line"># åœ¨æ‰€æœ‰çš„javaä¸­æŸ¥æ‰¾variableName</span><br><span class="line">$ git grep &#39;variableName&#39; -- &#39;*.java&#39;</span><br><span class="line"></span><br><span class="line"># æœç´¢åŒ…å« &quot;arrayListName&quot; å’Œ, &quot;add&quot; æˆ– &quot;remove&quot; çš„æ‰€æœ‰è¡Œ</span><br><span class="line">$ git grep -e &#39;arrayListName&#39; --and \( -e add -e remove \)</span><br></pre></td></tr></table></figure><h2 id="log">log</h2><p>æ˜¾ç¤ºè¿™ä¸ªç‰ˆæœ¬åº“çš„æ‰€æœ‰æäº¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># æ˜¾ç¤ºæ‰€æœ‰æäº¤</span><br><span class="line">$ git log</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸå‡ æ¡æäº¤ä¿¡æ¯</span><br><span class="line">$ git log -n 10</span><br><span class="line"></span><br><span class="line"># ä»…æ˜¾ç¤ºåˆå¹¶æäº¤</span><br><span class="line">$ git log --merges</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹è¯¥æ–‡ä»¶æ¯æ¬¡æäº¤è®°å½•</span><br><span class="line">$ git log &lt;file&gt;</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æ¯æ¬¡è¯¦ç»†ä¿®æ”¹å†…å®¹çš„diff</span><br><span class="line">$ git log -p &lt;file&gt;</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡è¯¦ç»†ä¿®æ”¹å†…å®¹çš„diff</span><br><span class="line">$ git log -p -2</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹æäº¤ç»Ÿè®¡ä¿¡æ¯</span><br><span class="line">$ git log --stat</span><br></pre></td></tr></table></figure><h2 id="merge">merge</h2><p>åˆå¹¶å°±æ˜¯å°†å¤–éƒ¨çš„æäº¤åˆå¹¶åˆ°è‡ªå·±çš„åˆ†æ”¯ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># å°†å…¶ä»–åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">$ git merge branchName</span><br><span class="line"></span><br><span class="line"># åœ¨åˆå¹¶æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„åˆå¹¶åçš„æäº¤</span><br><span class="line"># ä¸è¦ Fast-Foward åˆå¹¶ï¼Œè¿™æ ·å¯ä»¥ç”Ÿæˆ merge æäº¤</span><br><span class="line">$ git merge --no-ff branchName</span><br></pre></td></tr></table></figure><h2 id="mv">mv</h2><p>é‡å‘½åæˆ–ç§»åŠ¨ä¸€ä¸ªæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># é‡å‘½å</span><br><span class="line">$ git mv test.js test2.js</span><br><span class="line"></span><br><span class="line"># ç§»åŠ¨</span><br><span class="line">$ git mv test.js .&#x2F;new&#x2F;path&#x2F;test.js</span><br><span class="line"></span><br><span class="line"># æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº</span><br><span class="line">$ git mv [file-original] [file-renamed]</span><br><span class="line"></span><br><span class="line"># å¼ºåˆ¶é‡å‘½åæˆ–ç§»åŠ¨</span><br><span class="line"># è¿™ä¸ªæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå°†è¦è¦†ç›–æ‰</span><br><span class="line">$ git mv -f myFile existingFile</span><br></pre></td></tr></table></figure><h2 id="tag">tag</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># åˆ—å‡ºæ‰€æœ‰tag</span><br><span class="line">$ git tag</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit</span><br><span class="line">$ git tag [tag]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit</span><br><span class="line">$ git tag [tag] [commit]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤æœ¬åœ°tag</span><br><span class="line">$ git tag -d [tag]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è¿œç¨‹tag</span><br><span class="line">$ git push origin :refs&#x2F;tags&#x2F;[tagName]</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹tagä¿¡æ¯</span><br><span class="line">$ git show [tag]</span><br><span class="line"></span><br><span class="line"># æäº¤æŒ‡å®štag</span><br><span class="line">$ git push [remote] [tag]</span><br><span class="line"></span><br><span class="line"># æäº¤æ‰€æœ‰tag</span><br><span class="line">$ git push [remote] --tags</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag</span><br><span class="line">$ git checkout -b [branch] [tag]</span><br></pre></td></tr></table></figure><h2 id="pull">pull</h2><p>ä»è¿œç«¯ç‰ˆæœ¬åº“åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ä»è¿œç«¯originçš„masteråˆ†æ”¯æ›´æ–°ç‰ˆæœ¬åº“</span><br><span class="line"># git pull &lt;è¿œç«¯&gt; &lt;åˆ†æ”¯&gt;</span><br><span class="line">$ git pull origin master</span><br><span class="line"></span><br><span class="line"># æŠ“å–è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯æ›´æ–°å¹¶åˆå¹¶åˆ°æœ¬åœ°ï¼Œä¸è¦å¿«è¿›åˆå¹¶</span><br><span class="line">$ git pull --no-ff</span><br></pre></td></tr></table></figure><h2 id="ci">ci</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git ci &lt;file&gt;</span><br><span class="line">$ git ci .</span><br><span class="line"># å°†git add, git rmå’Œgit ciç­‰æ“ä½œéƒ½åˆå¹¶åœ¨ä¸€èµ·åš</span><br><span class="line">$ git ci -a</span><br><span class="line">$ git ci -am &quot;some comments&quot;</span><br><span class="line"># ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤è®°å½•</span><br><span class="line">$ git ci --amend</span><br></pre></td></tr></table></figure><h2 id="rebase-è°¨æ…ä½¿ç”¨">rebase (è°¨æ…ä½¿ç”¨)</h2><p>å°†ä¸€ä¸ªåˆ†æ”¯ä¸Šæ‰€æœ‰çš„æäº¤å†å²éƒ½åº”ç”¨åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Š<em>ä¸è¦åœ¨ä¸€ä¸ªå·²ç»å…¬å¼€çš„è¿œç«¯åˆ†æ”¯ä¸Šä½¿ç”¨ rebase</em>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># å°†experimentBranchåº”ç”¨åˆ°masterä¸Šé¢</span><br><span class="line"># git rebase &lt;basebranch&gt; &lt;topicbranch&gt;</span><br><span class="line">$ git rebase master experimentBranch</span><br></pre></td></tr></table></figure><h2 id="reset-è°¨æ…ä½¿ç”¨">reset (è°¨æ…ä½¿ç”¨)</h2><p>å°†å½“å‰çš„å¤´æŒ‡é’ˆå¤ä½åˆ°ä¸€ä¸ªç‰¹å®šçš„çŠ¶æ€ã€‚è¿™æ ·å¯ä»¥ä½¿ä½ æ’¤é”€ mergeã€pullã€commitsã€add ç­‰ è¿™æ˜¯ä¸ªå¾ˆå¼ºå¤§çš„å‘½ä»¤ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨æ—¶ä¸€å®šè¦æ¸…æ¥šå…¶æ‰€äº§ç”Ÿçš„åæœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># ä½¿ staging åŒºåŸŸæ¢å¤åˆ°ä¸Šæ¬¡æäº¤æ—¶çš„çŠ¶æ€ï¼Œä¸æ”¹å˜ç°åœ¨çš„å·¥ä½œç›®å½•</span><br><span class="line">$ git reset</span><br><span class="line"></span><br><span class="line"># ä½¿ staging åŒºåŸŸæ¢å¤åˆ°ä¸Šæ¬¡æäº¤æ—¶çš„çŠ¶æ€ï¼Œè¦†ç›–ç°åœ¨çš„å·¥ä½œç›®å½•</span><br><span class="line">$ git reset --hard</span><br><span class="line"></span><br><span class="line"># å°†å½“å‰åˆ†æ”¯æ¢å¤åˆ°æŸæ¬¡æäº¤ï¼Œä¸æ”¹å˜ç°åœ¨çš„å·¥ä½œç›®å½•</span><br><span class="line"># åœ¨å·¥ä½œç›®å½•ä¸­æ‰€æœ‰çš„æ”¹å˜ä»ç„¶å­˜åœ¨</span><br><span class="line">$ git reset dha78as</span><br><span class="line"></span><br><span class="line"># å°†å½“å‰åˆ†æ”¯æ¢å¤åˆ°æŸæ¬¡æäº¤ï¼Œè¦†ç›–ç°åœ¨çš„å·¥ä½œç›®å½•</span><br><span class="line"># å¹¶ä¸”åˆ é™¤æ‰€æœ‰æœªæäº¤çš„æ”¹å˜å’ŒæŒ‡å®šæäº¤ä¹‹åçš„æ‰€æœ‰æäº¤</span><br><span class="line">$ git reset --hard dha78as</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–">å…¶ä»–</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…</span><br><span class="line">$ git archive</span><br><span class="line"></span><br><span class="line"># æ‰“è¡¥ä¸</span><br><span class="line">$ git apply ..&#x2F;sync.patch</span><br><span class="line"></span><br><span class="line"># æµ‹è¯•è¡¥ä¸èƒ½å¦æˆåŠŸ</span><br><span class="line">$ git apply --check ..&#x2F;sync.patch</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹Gitçš„ç‰ˆæœ¬</span><br><span class="line">$ git --version</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£</h2><ul><li>å¸¸ç”¨ Git å‘½ä»¤æ¸…å•: <a href="https://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html">https://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html</a></li><li>Linuxã€MySQLã€Nginxã€PHPã€Gitã€Shell ç­‰ç¬”è®°: <a href="https://github.com/guanguans/notes">https://github.com/guanguans/notes</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pipé«˜é˜¶ç”¨æ³•</title>
      <link href="/pip-using.html"/>
      <url>/pip-using.html</url>
      
        <content type="html"><![CDATA[<p>pip åº”è¯¥æ˜¯å¤§å®¶æœ€ç†Ÿæ‚‰çš„ Python åŒ…å®‰è£…ä¸ç®¡ç†å·¥å…·äº†ï¼Œä½†æ˜¯é™¤äº†pip install è¿™ä¸ªæœ€å¸¸ç”¨çš„å‘½ä»¤ï¼Œè¿˜æœ‰å¾ˆå¤šæœ‰ç”¨çš„ç©æ³•ã€‚è¿™é‡Œå°±ä»‹ç»å‡ ä¸ªæˆ‘å¹³æ—¶ä¼šç”¨åˆ°çš„ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚</p><h2 id="pip-freeze">pip freeze</h2><p>è¿™ä¸ªå‘½ä»¤å¯ä»¥æŸ¥çœ‹å·²ç»å®‰è£…çš„åŒ…åŠç‰ˆæœ¬ä¿¡æ¯ï¼Œå½“ä½ è¦æ¢ç”µè„‘ï¼Œæˆ–è€…æœ‹å‹æƒ³å¤åˆ»ä½ å·²å®‰è£…çš„åŒ…ï¼Œåˆä¸æƒ³ä¸€ä¸ªä¸€ä¸ªé‡æ–°å®‰è£…ã€‚è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨pip freeze &gt; requirements.txt ï¼Œæ‰¹é‡å¯¼å‡ºå½“å‰å¼€å‘ç¯å¢ƒçš„åŒ…ä¿¡æ¯ï¼Œç„¶åå®‰è£…requirements.txtä¾èµ–å°±è¡Œäº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt </span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><h2 id="pip-cache">pip cache</h2><p>ç”¨pipå®‰è£…pythonæ¨¡å—çš„æ—¶å€™ï¼Œé‡å¤å®‰è£…æŸä¸€æ¨¡å—ä¼šç»å¸¸å‡ºç°â€œUsing cacheâ€ï¼Œè¿™æ ·å¾ˆå®¹æ˜“è£…é”™ç‰ˆæœ¬ã€‚è€Œä¸”cacheè¿˜ä¼šå ç”¨ä¸å°‘Cç›˜ç©ºé—´ï¼Œå¦‚æœç©ºé—´ä¸è¶³ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤è¿™äº›ç¼“å­˜ã€‚ æ–¹æ³•ï¼š</p><p>Win + R ï¼Œè¾“å…¥%LocalAppData%\pip\Cache</p><p>åˆ æ‰ cache/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹å°±å¥½äº†</p><h2 id="pip-list">pip list</h2><p>pip list å‘½ä»¤åˆ—å‡ºæ‰€æœ‰å®‰è£…åŒ…å’Œç‰ˆæœ¬ä¿¡æ¯ï¼Œpip list --outdateå¯ä»¥åˆ—å‡ºæ‰€æœ‰å¯å‡çº§çš„åŒ…ã€‚</p><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img">ä½†æ˜¯å½“å‰å†…å»ºå‘½ä»¤å¹¶ä¸æ”¯æŒå‡çº§æ‰€æœ‰å·²å®‰è£…çš„Pythonæ¨¡å—ï¼Œä¸è¿‡å¯ä»¥å†™ä¸€ä¸ªï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import pip</span><br><span class="line">from subprocess import call</span><br><span class="line">from pip._internal.utils.misc import get_installed_distributions</span><br><span class="line">for dist in get_installed_distributions():</span><br><span class="line">    call(&quot;pip install --upgrade &quot; + dist.project_name, shell&#x3D;True)</span><br></pre></td></tr></table></figure><p>æ›¿ä»£æ–¹æ¡ˆæ˜¯ä½¿ç”¨pip-reviewï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ†å‰pip-toolsï¼Œå‡çº§åŒ…å°±å¤ªæ–¹ä¾¿äº†ã€‚å®‰è£…å’Œä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pip install pip-review</span><br><span class="line">#æŸ¥çœ‹å¯æ›´æ–° </span><br><span class="line">pip-review</span><br><span class="line">#è‡ªåŠ¨æ‰¹é‡å‡çº§ </span><br><span class="line">pip-review --auto</span><br><span class="line">#ä»¥äº¤äº’æ–¹å¼è¿è¡Œï¼Œå¯¹æ¯ä¸ªåŒ…è¿›è¡Œå‡çº§ </span><br><span class="line">pip-review --interactive</span><br></pre></td></tr></table></figure><h2 id="pip-init">pip.init</h2><p>pip ç”¨å›½å¤–çš„æºä¸‹è½½å®‰è£…åŒ…ä¼šæ¯”è¾ƒæ…¢ï¼Œè¿˜ç»å¸¸å‡ºé”™å®‰è£…å¤±è´¥ï¼Œå¯ä»¥å°†å®‰è£…æºåˆ‡æ¢æˆå›½å†…é•œåƒï¼Œé€Ÿåº¦Ã—10ï¼æ”¹ä¸€äº›pip.inité…ç½®ï¼Œä¸€åŠ³æ°¸é€¸ï¼Œå…·ä½“åšæ³•ï¼šWin + R ï¼Œè¾“å…¥  %APPDATA% åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»º pip æ–‡ä»¶å¤¹ï¼Œç„¶åæ–°å»º pip.ini æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url &#x3D; https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;pypi&#x2F;simple&#x2F;trusted-host&#x3D;mirrors.aliyun.com</span><br></pre></td></tr></table></figure><p>æˆ‘ç›´æ¥è®¾ç½®æˆäº†é˜¿é‡Œçš„,è±†ç“£çš„æºé€Ÿåº¦ä¹Ÿå¾ˆå¿«ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è±†ç“£(douban) http:&#x2F;&#x2F;pypi.douban.com&#x2F;simple&#x2F; </span><br><span class="line">æ¸…åå¤§å­¦ https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple&#x2F; </span><br><span class="line">ä¸­å›½ç§‘æŠ€å¤§å­¦ https:&#x2F;&#x2F;pypi.mirrors.ustc.edu.cn&#x2F;simple&#x2F; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é’å¹´å¤§å­¦ä¹ è·³è¿‡è§†é¢‘ï¼Œç›´æ¥æ»¡åˆ†</title>
      <link href="/qingniandaxuexi.html"/>
      <url>/qingniandaxuexi.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>åºŸè¯ä¸å¤šè¯´ç›´æ¥ä¸Šæ•™ç¨‹</p></blockquote><h3 id="é£Ÿç”¨æ•™ç¨‹">é£Ÿç”¨æ•™ç¨‹</h3><ul><li>ç¬¬ä¸€æ­¥åœ¨å¾®ä¿¡ä¸­æ‰“å¼€ä¸‹é¢çš„é“¾æ¥ï¼ˆå‘é€ç»™ä»»æ„å¥½å‹ï¼Œæˆ–è€…å¾®ä¿¡å…¬ä¼—å·ä¹Ÿå¯ä»¥ã€‚ï¼‰</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">debugtbs.qq.com</span><br></pre></td></tr></table></figure><ul><li>æ¥ç€ï¼Œæ‰“å¼€ DebugX5 åœˆçº¢å¤„<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/07/d0c362144490dc2bb73554dd0a8d12b8.png" alt=""></li><li>ç„¶åï¼Œç‚¹å‡»å¦‚ä¸‹å›¾æ‰€ç¤ºçš„é¡¶éƒ¨çš„&quot;ä¿¡æ¯&quot;ï¼Œå‹¾é€‰ æ‰“å¼€vconsoleè°ƒè¯•åŠŸèƒ½<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/07/6f6ccf2c45e468620b9099d2a0b86e6a.png" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/07/ccbf70d8ad71f24fd2138e27b7e9caa6.png" alt=""></li><li>å¤åˆ¶å¥½ä¸‹é¢çš„ä»£ç <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Bvideo.currentTime&#x3D;900;</span><br><span class="line">Cvideo.currentTime&#x3D;900;</span><br><span class="line">video.ended&#x3D;1;</span><br><span class="line">score&#x3D;100;allScore&#x3D;100;</span><br><span class="line">__vconsole.style.display&#x3D;&quot;none&quot;;</span><br></pre></td></tr></table></figure></li><li>æ‰“å¼€é’å¹´å¤§å­¦ä¹ çœ‹è§†é¢‘ï¼Œå³ä¸‹è§’ä¼šæœ‰ä¸ªç»¿è‰²çš„ <code>vconsole</code> æŠŠå¤åˆ¶çš„ä»£ç å¡«è¿›å»ï¼Œç‚¹å‡»<code>OK</code>ï¼Œç›´æ¥è·³è¿‡è§†é¢‘<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/07/a8ff89ace4f99e7cc153b1970b35f881.png" alt=""></li><li>äº²æµ‹æœ‰æ•ˆï¼Œæä¸å®šçš„ç•™è¨€ğŸ¬</li></ul>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è°ƒè¯• </tag>
            
            <tag> é’å¹´å¤§å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¼˜é›…çš„è¿›è¡Œç­¾åˆ°-dora&amp;äº‘å‡½æ•°&amp;GitHubAction</title>
      <link href="/beautiful-checkin.html"/>
      <url>/beautiful-checkin.html</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸˆå‰è¨€é¡»çŸ¥">ğŸˆå‰è¨€é¡»çŸ¥</h2><ul><li>æ¯å¤©è‡ªåŠ¨ç­¾åˆ°ï¼Œè§£æ”¾ä½ çš„åŒæ‰‹ï¼Œå†ä¹Ÿä¸æ€•å¿˜è®°ç­¾åˆ°äº†</li></ul><h2 id="ğŸ—¡å¿…å¤‡æŠ€å·§">ğŸ—¡å¿…å¤‡æŠ€å·§</h2><ul><li>ä¼šæŠ“å–ç½‘é¡µå’Œæ‰‹æœºç«¯cookie</li><li>æ´»çš„è„‘å­å’Œæ‰‹</li></ul><h2 id="ğŸ“‘ç­¾åˆ°åˆ—è¡¨-è‡ªç”¨">ğŸ“‘ç­¾åˆ°åˆ—è¡¨-(è‡ªç”¨)</h2><ol><li>çˆ±å¥‡è‰ºä¼šå‘˜æ‘‡ä¸€æ‘‡(å¿…é¡»æ˜¯ä¼šå‘˜æ‰èƒ½å‚åŠ )</li><li>å“”å“©å“”å“©ç­¾åˆ°</li><li>äº¬ä¸œç­¾åˆ°å¾—äº¬è±†<br>4.ç½‘æŠ‘äº‘ç­¾åˆ°ï¼ˆ300é¦–ï¼‰</li><li>wpsæ‰“å¡å¾—ä¼šå‘˜</li><li>å¤©ç¿¼äº‘ç­¾åˆ°å¾—ç©ºé—´ï¼ˆä¸€å¤©100Mï¼‰</li><li>å¾çˆ±pojie</li><li>v2ex</li><li>glados</li><li>å¥½æ¸¸å¿«çˆ†</li><li>å¤šçœ‹é˜…è¯»</li></ol><h2 id="ğŸ’Šdora-js-APPä¸‹è½½">ğŸ’Š<a href="https://www.coolapk.com/apk/com.linroid.dora">dora.js APPä¸‹è½½</a></h2><ul><li>è®¢é˜… <strong>@chegege</strong> çš„ç­¾åˆ°ç›’<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/05/3b82acaff90c9a7184cb829b5b7e6714.png" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/05/cf869c8fc0136ce7c38150a5c900edc1.png" alt=""></li><li>æˆ‘çš„è®¢é˜…åˆ—è¡¨åˆ†äº«<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/05/846a2945c8252867b65a428261a7c5a7.png" alt=""></li><li>ä¸ªäººæ„Ÿè§‰è¿™ä¸ªappæŒºå¥½ç”¨å¾—ï¼Œå¯ä»¥å–ä»£åŸç”Ÿå¾—appï¼Œæœ‰å…´è¶£å¾—å¯ä»¥å»ç ”ç©¶ä¸‹</li></ul><h2 id="ğŸ¯GitHubAction">ğŸ¯GitHubAction</h2><ul><li>é¡¹ç›®é‡Œéƒ½æœ‰æ•™ç¨‹(é¡ºä¾¿æ±‚ä¸€æ³¢star)</li><li><a href="https://github.com/Ysnsn/wps-sign">wpsæ‰“å¡</a></li><li><a href="https://github.com/Ysnsn/v2ex-checkin">V2ex</a></li><li><a href="https://github.com/Ysnsn/52pojie-checkin/actions">å¾çˆ±pojie</a></li><li><a href="https://github.com/Ysnsn/glados-checkin">glados</a></li><li><a href="https://github.com/Ysnsn/cloud189-sign">å¤©ç¿¼äº‘</a></li><li><a href="https://github.com/Ysnsn/bilibili-sign">bilibili ç›´æ’­ç­¾åˆ°</a></li><li><a href="https://github.com/Ysnsn/wangyiyun-action">ç½‘æŠ‘äº‘</a></li></ul><blockquote><p>ä»¥ä¸Šæºç æ¥è‡ªäºç½‘ç»œæ”¶é›†ï¼Œæˆ‘åªæ˜¯ä¸ªå·¥å…·äººè¯·è‡ªè¡ŒæŸ¥çœ‹åŸä½œè€…</p></blockquote><h2 id="ğŸ“Œè…¾è®¯äº‘å‡½æ•°">ğŸ“Œè…¾è®¯äº‘å‡½æ•°</h2><ul><li>äº‘å‡½æ•°å°±ä¸æ”¾æºç äº†ï¼Œæœ‰ç‚¹éº»çƒ¦ï¼Œæœ‰éœ€è¦çš„è¯·ç•™è¨€ğŸ”‘<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/05/134058ab0beb7a8dd7da554b50ba3147.png" alt=""></li></ul><h2 id="ğŸ§ä»¥ä¸Šç­¾åˆ°æ‰“å¡åŸºæœ¬éƒ½æ”¯æŒ-Qmsgé…±-å’Œ-serveré…±-æé†’">ğŸ§ä»¥ä¸Šç­¾åˆ°æ‰“å¡åŸºæœ¬éƒ½æ”¯æŒ <strong>Qmsgé…±</strong> å’Œ <strong>serveré…±</strong> æé†’</h2><ul><li>Qmsgé…± QQæé†’-(ç°å·²ä¸å¼€æ”¾æ³¨å†Œäº†ï¼Œå·²ç»æ³¨å†Œçš„å¯ä»¥ç»§ç»­é£Ÿç”¨)  <a href="https://qmsg.zendee.cn/">https://qmsg.zendee.cn/</a><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/06/cfdfd1f4cc2fff0a7c791d09b0c5cce6.png" alt=""></li><li>serveré…± å¾®ä¿¡æé†’  <a href="http://sc.ftqq.com/?c=code">http://sc.ftqq.com/?c=code</a><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/06/8b7bbe2c552f25ec130fc6334dd3846a.png" alt=""></li></ul>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHubAction </tag>
            
            <tag> äº‘å‡½æ•° </tag>
            
            <tag> dora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿæ­å»ºè‡ªå·±çš„ç½‘é¡µç‰ˆGitHubå›¾åºŠï¼ˆçœŸé¦™ï¼‰</title>
      <link href="/40781.html"/>
      <url>/40781.html</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸ¥¢å‰è¨€">ğŸ¥¢å‰è¨€</h2><ol><li>ç”±äºæœ¬åšå®¢éœ€è¦ä¸€ä¸ªè¾ƒç¨³å®šä¸”å¿«é€Ÿçš„å›¾åºŠæ¥å­˜å‚¨è‡ªå·±çš„åšå®¢å›¾ç‰‡ï¼Œæ‰€ä»¥æ‰æœ‰äº†ä¸‹é¢</li><li>ç™½å«–Githubçš„å­˜å‚¨ç©ºé—´ï¼Œé€šè¿‡jsdelivrå…¨çƒåŠ é€Ÿ(å«æœ‰å›½å†…èŠ‚ç‚¹)ã€‚å®ç°å›¾åºŠçš„ç›®çš„ã€‚</li><li>ç™½å«–Giteeçš„å­˜å‚¨ç©ºé—´ï¼Œ å®ç°å›¾åºŠçš„ç›®çš„ã€‚å­˜å‚¨å’Œè®¿é—®èŠ‚ç‚¹éƒ½åœ¨å›½å†…ï¼Œè¯·åœ¨éµå¾ªå›½å†…ç›¸å…³æ³•å¾‹çš„å‰æä¸‹ä½¿ç”¨ã€‚ æ–‡ä»¶åœ¨1Mä»¥ä¸Šéœ€è¦è®¿å®¢ç™»å½•æ‰èƒ½è®¿é—®ã€‚1Mä»¥ä¸‹ï¼Œç›¸å½“ç¨³ã€‚</li></ol><h2 id="å‚è€ƒ">å‚è€ƒ</h2><ol><li><a href="https://github.com/yumusb/autoPicCdn">https://github.com/yumusb/autoPicCdn</a></li><li><a href="https://plushine.cn/38834.html">https://plushine.cn/38834.html</a></li></ol><h2 id="ğŸ¬å‡†å¤‡å·¥ä½œ">ğŸ¬å‡†å¤‡å·¥ä½œ</h2><ol><li>è„‘å­å’Œæ‰‹</li><li>ä¸€ä¸ªåŸŸå</li><li>ä¸€å°è™šæ‹Ÿä¸»æœºï¼ˆå›½å¤–çš„ï¼ŒåŸŸåå¯ä»¥å…å¤‡æ¡ˆï¼‰</li><li>ä¸€ä¸ªGitHubè´¦å·æˆ–ç€gitee</li></ol><h2 id="ğŸ–å¼€å·¥">ğŸ–å¼€å·¥</h2><ol><li><p>ä¸‹è½½é¡¹ç›®åœ°å€ <a href="https://github.com/yumusb/autoPicCdn">https://github.com/yumusb/autoPicCdn</a></p></li><li><p>é…ç½®up.phpä¸­çš„ç›¸å…³å­—æ®µ</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">define(&quot;TYPE&quot;,&quot;GITHUB&quot;);&#x2F;&#x2F;é€‰æ‹©github</span><br><span class="line">define(&quot;USER&quot;,&quot;pic-cdn&quot;);&#x2F;&#x2F;ä½ çš„GitHub&#x2F;Giteeçš„ç”¨æˆ·å</span><br><span class="line">define(&quot;REPO&quot;,&quot;cdn2&quot;);&#x2F;&#x2F;å¿…é¡»æ˜¯ä¸Šé¢ç”¨æˆ·åä¸‹çš„ å…¬å¼€ä»“åº“</span><br><span class="line">define(&quot;MAIL&quot;,&quot;yumusb@foxmail.com&quot;);&#x2F;&#x2F;é‚®ç®±æ— æ‰€è°“ï¼Œéšä¾¿å†™</span><br><span class="line">define(&quot;TOKEN&quot;,&quot;YourToken&quot;);</span><br></pre></td></tr></table></figure><ol start="3"><li><p><a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>  å»è¿™ä¸ªé¡µé¢ç”Ÿæˆä¸€ä¸ªæœ‰å†™æƒé™çš„tokenï¼ˆrepoï¼šFull control of private repositories å’Œwrite:packageså‰æ‰“å‹¾ï¼‰</p></li><li><p>æ–‡ä»¶é…ç½®å¥½ä¹‹åå°±å¯ä»¥ä¸Šä¼ åˆ°è‡ªå·±çš„è™šæ‹Ÿä¸»æœºäº†  å‚è§ <a href="https://ysnsn.cn/2817.html">https://ysnsn.cn/2817.html</a>  æˆ–è€…æ¨è  <a href="https://plushine.cn/38834.html">https://plushine.cn/38834.html</a></p></li><li><p>ç»‘å®šåŸŸåä¹‹åå°±å¯ä»¥é€šè¿‡åŸŸåè®¿é—®ï¼Œè‡ªå·±æµ‹è¯•ä¸‹èƒ½ä¸èƒ½ä¸Šä¼ æˆåŠŸ</p></li></ol><blockquote><p>phpç‰ˆæœ¬é€‰æ‹© 7.2</p></blockquote><h2 id="ğŸ³giteeè·ŸGitHubå·®ä¸å¤šä¸€æ ·å®Œäº‹ï¼ŒçœŸé¦™">ğŸ³giteeè·ŸGitHubå·®ä¸å¤šä¸€æ ·å®Œäº‹ï¼ŒçœŸé¦™</h2>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> jsdelivr </tag>
            
            <tag> è™šæ‹Ÿä¸»æœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonåŸºç¡€å­¦ä¹ ç¬”è®°(ä¸€)</title>
      <link href="/python-study1.html"/>
      <url>/python-study1.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç»™pipè®¾ç½®æ¸…åé•œåƒæºæˆ–è®¾ç½®è‡ªå·±çš„ä»£ç†">ç»™pipè®¾ç½®æ¸…åé•œåƒæºæˆ–è®¾ç½®è‡ªå·±çš„ä»£ç†</h2><details><summary>ç‚¹å‡»å±•å¼€ğŸ‘‰ å‘½ä»¤</summary><ul><li>Windowsè®¾ç½®æ–¹æ³•:<br>è·¯å¾„ Windows: %APPDATA%\pip\pip.iniï¼Œ%APPDATA%çš„å®é™…è·¯å¾„æˆ‘ç”µè„‘ä¸Šæ˜¯C:\Users\user_xxx\AppData\Roamingï¼Œå¯åœ¨cmdé‡Œæ‰§è¡Œecho %APPDATA%å‘½ä»¤æŸ¥çœ‹(æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å°±æ–°å»º)<ul><li>pip.ini *   é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url &#x3D; http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;pypi&#x2F;simple&#x2F; # è¿™é‡Œä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„é•œåƒæºä¹Ÿå¯ä»¥ä½¿ç”¨æ¸…åé•œåƒæº  https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple</span><br><span class="line">proxy&#x3D;http:&#x2F;&#x2F;xxx.xxx.xxx.xxx:7890 # æ›¿æ¢å‡ºè‡ªå·±çš„ä»£ç†åœ°å€ï¼Œæ ¼å¼ä¸º[user:passwd@]proxy.server:port</span><br><span class="line"></span><br><span class="line">[install]</span><br><span class="line">trusted-host&#x3D;mirrors.aliyun.com # ä¿¡ä»»é˜¿é‡Œäº‘çš„é•œåƒæºï¼Œå¦åˆ™ä¼šæœ‰è­¦å‘Š</span><br></pre></td></tr></table></figure><ul><li>æ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@latest/2020/12/02/95f5bc317a9b40ec7d123576de0ee982.png" alt=""></li></ul></details><blockquote><h2 id="ğŸ¥¢å­¦ä¹ é€”å¾„">ğŸ¥¢å­¦ä¹ é€”å¾„</h2></blockquote><ol><li><p>moocåµ©å¤©  <a href="https://www.icourse163.org/learn/BIT-1002058035?tid=1002161029#/learn/announce">https://www.icourse163.org/learn/BIT-1002058035?tid=1002161029#/learn/announce</a></p></li><li><p>Bç«™ ç”¨æ¥çš„å­¦ä¹ ç½‘ç«™ï¼ˆæ²¡è¯´é”™å§ï¼‰</p></li><li><p>python100å¤©  <a href="https://github.com/jackfrued/Python-100-Days">https://github.com/jackfrued/Python-100-Days</a></p></li><li><p>pythonèœé¸Ÿæ•™ç¨‹  <a href="https://www.runoob.com/python/python-tutorial.html">https://www.runoob.com/python/python-tutorial.html</a></p></li><li><p>æ·˜å®ä¹°çš„äºŒçº§ä¹¦</p></li></ol><h2 id="ğŸ¬è½¯ä»¶ä½¿ç”¨">ğŸ¬è½¯ä»¶ä½¿ç”¨</h2><ol><li><p>å®˜ç½‘pythonç‰ˆæœ¬ä¸€èˆ¬ç”¨3.7.0   <a href="https://www.python.org/">https://www.python.org/</a></p></li><li><p>vscode è£…äº†æ’ä»¶åå¥½çœ‹ç”¨  <a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></p></li><li><p>æ¨èä½¿ç”¨<a href="https://www.sublimetext.com/">Sublime</a></p></li></ol><h2 id="âœ…é‡ç‚¹è®°å½•">âœ…é‡ç‚¹è®°å½•</h2><ol><li>é‡å¤å…ƒç´ åˆ¤å®š</li></ol><p>ä»¥ä¸‹æ–¹æ³•å¯ä»¥æ£€æŸ¥ç»™å®šåˆ—è¡¨æ˜¯ä¸æ˜¯å­˜åœ¨é‡å¤å…ƒç´ ï¼Œå®ƒä¼šä½¿ç”¨ set() å‡½æ•°æ¥ç§»é™¤æ‰€æœ‰é‡å¤å…ƒç´ ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def all_unique(lst):</span><br><span class="line">return len(lst)&#x3D;&#x3D; len(set(lst))</span><br><span class="line">x &#x3D; [1,1,2,2,3,2,3,4,5,6]</span><br><span class="line">y &#x3D; [1,2,3,4,5]</span><br><span class="line">all_unique(x) # False</span><br><span class="line">all_unique(y) # True</span><br></pre></td></tr></table></figure><ol start="2"><li>å­—ç¬¦å…ƒç´ ç»„æˆåˆ¤å®š</li></ol><p>æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç»„æˆå…ƒç´ æ˜¯ä¸æ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from collections import Counter</span><br><span class="line">def anagram(first, second):</span><br><span class="line">return Counter(first) &#x3D;&#x3D; Counter(second)</span><br><span class="line">anagram(&quot;abcd3&quot;, &quot;3acdb&quot;) # True</span><br></pre></td></tr></table></figure><ol start="3"><li>å†…å­˜å ç”¨</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">variable &#x3D; 30</span><br><span class="line">print(sys.getsizeof(variable)) # 24</span><br></pre></td></tr></table></figure><ol start="4"><li>å­—èŠ‚å ç”¨</li></ol><p>ä¸‹é¢çš„ä»£ç å—å¯ä»¥æ£€æŸ¥å­—ç¬¦ä¸²å ç”¨çš„å­—èŠ‚æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def byte_size(string):</span><br><span class="line">return(len(string.encode(&#39;utf-8&#39;)))</span><br><span class="line">byte_size(&#39;&#39;) # 4</span><br><span class="line">byte_size(&#39;Hello World&#39;) # 11</span><br></pre></td></tr></table></figure><ol start="5"><li>æ‰“å° N æ¬¡å­—ç¬¦ä¸²</li></ol><p>è¯¥ä»£ç å—ä¸éœ€è¦å¾ªç¯è¯­å¥å°±èƒ½æ‰“å° N æ¬¡å­—ç¬¦ä¸²ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n &#x3D; 2</span><br><span class="line">s &#x3D;&quot;Programming&quot;</span><br><span class="line">print(s * n)</span><br><span class="line"># ProgrammingProgramming</span><br></pre></td></tr></table></figure><p>6 å¤§å†™ç¬¬ä¸€ä¸ªå­—æ¯</p><p>ä»¥ä¸‹ä»£ç å—ä¼šä½¿ç”¨ title() æ–¹æ³•ï¼Œä»è€Œå¤§å†™å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s &#x3D; &quot;programming is awesome&quot;</span><br><span class="line">print(s.title())</span><br><span class="line"># Programming Is Awesome</span><br></pre></td></tr></table></figure><ol start="7"><li>åˆ†å—</li></ol><p>ç»™å®šå…·ä½“çš„å¤§å°ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°ä»¥æŒ‰ç…§è¿™ä¸ªå¤§å°åˆ‡å‰²åˆ—è¡¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from math import ceil</span><br><span class="line">def chunk(lst, size):</span><br><span class="line">return list(</span><br><span class="line">map(lambda x: lst[x * size:x * size + size],</span><br><span class="line">list(range(0, ceil(len(lst) &#x2F; size)))))</span><br><span class="line">chunk([1,2,3,4,5],2)</span><br><span class="line"># [[1,2],[3,4],5]</span><br></pre></td></tr></table></figure><ol start="8"><li>å‹ç¼©</li></ol><p>è¿™ä¸ªæ–¹æ³•å¯ä»¥å°†å¸ƒå°”å‹çš„å€¼å»æ‰ï¼Œä¾‹å¦‚ï¼ˆFalseï¼ŒNoneï¼Œ0ï¼Œâ€œâ€ï¼‰ï¼Œå®ƒä½¿ç”¨ filter() å‡½æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def compact(lst):</span><br><span class="line">return list(filter(bool, lst))</span><br><span class="line">compact([0, 1, False, 2, &#39;&#39;, 3, &#39;a&#39;, &#39;s&#39;, 34])</span><br><span class="line"># [ 1, 2, 3, &#39;a&#39;, &#39;s&#39;, 34 ]</span><br></pre></td></tr></table></figure><ol start="9"><li>è§£åŒ…</li></ol><p>å¦‚ä¸‹ä»£ç æ®µå¯ä»¥å°†æ‰“åŒ…å¥½çš„æˆå¯¹åˆ—è¡¨è§£å¼€æˆä¸¤ç»„ä¸åŒçš„å…ƒç»„ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array &#x3D; [[&#39;a&#39;, &#39;b&#39;], [&#39;c&#39;, &#39;d&#39;], [&#39;e&#39;, &#39;f&#39;]]</span><br><span class="line">transposed &#x3D; zip(*array)</span><br><span class="line">print(transposed)</span><br><span class="line"># [(&#39;a&#39;, &#39;c&#39;, &#39;e&#39;), (&#39;b&#39;, &#39;d&#39;, &#39;f&#39;)]</span><br></pre></td></tr></table></figure><ol start="10"><li>é“¾å¼å¯¹æ¯”</li></ol><p>æˆ‘ä»¬å¯ä»¥åœ¨ä¸€è¡Œä»£ç ä¸­ä½¿ç”¨ä¸åŒçš„è¿ç®—ç¬¦å¯¹æ¯”å¤šä¸ªä¸åŒçš„å…ƒç´ ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; 3</span><br><span class="line">print( 2 &lt; a &lt; 8) # True</span><br><span class="line">print(1 &#x3D;&#x3D; a &lt; 2) # False</span><br></pre></td></tr></table></figure><ol start="11"><li>é€—å·è¿æ¥</li></ol><p>ä¸‹é¢çš„ä»£ç å¯ä»¥å°†åˆ—è¡¨è¿æ¥æˆå•ä¸ªå­—ç¬¦ä¸²ï¼Œä¸”æ¯ä¸€ä¸ªå…ƒç´ é—´çš„åˆ†éš”æ–¹å¼è®¾ç½®ä¸ºäº†é€—å·ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hobbies &#x3D; [&quot;basketball&quot;, &quot;football&quot;, &quot;swimming&quot;]</span><br><span class="line">print(&quot;My hobbies are: &quot; + &quot;, &quot;.join(hobbies))</span><br><span class="line"># My hobbies are: basketball, football, swimming</span><br></pre></td></tr></table></figure><ol start="12"><li>å…ƒéŸ³ç»Ÿè®¡</li></ol><p>ä»¥ä¸‹æ–¹æ³•å°†ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³ (â€˜aâ€™, â€˜eâ€™, â€˜iâ€™, â€˜oâ€™, â€˜uâ€™) çš„ä¸ªæ•°ï¼Œå®ƒæ˜¯é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åšçš„ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">def count_vowels(str):</span><br><span class="line">return len(len(re.findall(r&#39;[aeiou]&#39;, str, re.IGNORECASE)))</span><br><span class="line">count_vowels(&#39;foobar&#39;) # 3</span><br><span class="line">count_vowels(&#39;gym&#39;) # 0</span><br></pre></td></tr></table></figure><ol start="13"><li>é¦–å­—æ¯å°å†™</li></ol><p>å¦‚ä¸‹æ–¹æ³•å°†ä»¤ç»™å®šå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç»Ÿä¸€ä¸ºå°å†™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def decapitalize(string):</span><br><span class="line">return str[:1].lower() + str[1:]</span><br><span class="line">decapitalize(&#39;FooBar&#39;) # &#39;fooBar&#39;</span><br><span class="line">decapitalize(&#39;FooBar&#39;) # &#39;fooBar&#39;</span><br></pre></td></tr></table></figure><ol start="14"><li>å±•å¼€åˆ—è¡¨</li></ol><p>è¯¥æ–¹æ³•å°†é€šè¿‡é€’å½’çš„æ–¹å¼å°†åˆ—è¡¨çš„åµŒå¥—å±•å¼€ä¸ºå•ä¸ªåˆ—è¡¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">def spread(arg):</span><br><span class="line">ret &#x3D; []</span><br><span class="line">for i in arg:</span><br><span class="line">if isinstance(i, list):</span><br><span class="line">ret.extend(i)</span><br><span class="line">else:</span><br><span class="line">ret.append(i)</span><br><span class="line">return ret</span><br><span class="line">def deep_flatten(lst):</span><br><span class="line">result &#x3D; []</span><br><span class="line">result.extend(</span><br><span class="line">spread(list(map(lambda x: deep_flatten(x) if type(x) &#x3D;&#x3D; list else x, lst))))</span><br><span class="line">return result</span><br><span class="line">deep_flatten([1, [2], [[3], 4], 5]) # [1,2,3,4,5]</span><br></pre></td></tr></table></figure><ol start="15"><li>åˆ—è¡¨çš„å·®</li></ol><p>è¯¥æ–¹æ³•å°†è¿”å›ç¬¬ä¸€ä¸ªåˆ—è¡¨çš„å…ƒç´ ï¼Œå…¶ä¸åœ¨ç¬¬äºŒä¸ªåˆ—è¡¨å†…ã€‚å¦‚æœåŒæ—¶è¦åé¦ˆç¬¬äºŒä¸ªåˆ—è¡¨ç‹¬æœ‰çš„å…ƒç´ ï¼Œè¿˜éœ€è¦åŠ ä¸€å¥ set_b.difference(set_a)ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def difference(a, b):</span><br><span class="line">set_a &#x3D; set(a)</span><br><span class="line">set_b &#x3D; set(b)</span><br><span class="line">comparison &#x3D; set_a.difference(set_b)</span><br><span class="line">return list(comparison)</span><br><span class="line">difference([1,2,3], [1,2,4]) # [3]</span><br></pre></td></tr></table></figure><ol start="16"><li>é€šè¿‡å‡½æ•°å–å·®</li></ol><p>å¦‚ä¸‹æ–¹æ³•é¦–å…ˆä¼šåº”ç”¨ä¸€ä¸ªç»™å®šçš„å‡½æ•°ï¼Œç„¶åå†è¿”å›åº”ç”¨å‡½æ•°åç»“æœæœ‰å·®åˆ«çš„åˆ—è¡¨å…ƒç´ ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def difference_by(a, b, fn):</span><br><span class="line">b &#x3D; set(map(fn, b))</span><br><span class="line">return [item for item in a if fn(item) not in b]</span><br><span class="line">from math import floor</span><br><span class="line">difference_by([2.1, 1.2], [2.3, 3.4],floor) # [1.2]</span><br><span class="line">difference_by([&#123; &#39;x&#39;: 2 &#125;, &#123; &#39;x&#39;: 1 &#125;], [&#123; &#39;x&#39;: 1 &#125;], lambda v : v[&#39;x&#39;])</span><br><span class="line"># [ &#123; x: 2 &#125; ]</span><br></pre></td></tr></table></figure><ol start="17"><li>é“¾å¼å‡½æ•°è°ƒç”¨</li></ol><p>ä½ å¯ä»¥åœ¨ä¸€è¡Œä»£ç å†…è°ƒç”¨å¤šä¸ªå‡½æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def add(a, b):</span><br><span class="line">return a + b</span><br><span class="line">def subtract(a, b):</span><br><span class="line">return a - b</span><br><span class="line">a, b &#x3D; 4, 5</span><br><span class="line">print((subtract if a &gt; b else add)(a, b)) # 9</span><br></pre></td></tr></table></figure><ol start="18"><li>æ£€æŸ¥é‡å¤é¡¹</li></ol><p>å¦‚ä¸‹ä»£ç å°†æ£€æŸ¥ä¸¤ä¸ªåˆ—è¡¨æ˜¯ä¸æ˜¯æœ‰é‡å¤é¡¹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def has_duplicates(lst):</span><br><span class="line">return len(lst) !&#x3D; len(set(lst))</span><br><span class="line">x &#x3D; [1,2,3,4,5,5]</span><br><span class="line">y &#x3D; [1,2,3,4,5]</span><br><span class="line">has_duplicates(x) # True</span><br><span class="line">has_duplicates(y) # False</span><br></pre></td></tr></table></figure><ol start="19"><li>åˆå¹¶ä¸¤ä¸ªå­—å…¸</li></ol><p>ä¸‹é¢çš„æ–¹æ³•å°†ç”¨äºåˆå¹¶ä¸¤ä¸ªå­—å…¸ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def merge_two_dicts(a, b):</span><br><span class="line">c &#x3D; a.copy() # make a copy of a </span><br><span class="line">c.update(b) # modify keys and values of a with the once from b</span><br><span class="line">return c</span><br><span class="line">a&#x3D;&#123;&#39;x&#39;:1,&#39;y&#39;:2&#125;</span><br><span class="line">b&#x3D;&#123;&#39;y&#39;:3,&#39;z&#39;:4&#125;</span><br><span class="line">print(merge_two_dicts(a,b))</span><br><span class="line">#&#123;&#39;y&#39;:3,&#39;x&#39;:1,&#39;z&#39;:4&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ Python 3.5 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼åˆå¹¶å­—å…¸ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def merge_dictionaries(a, b)</span><br><span class="line">return &#123;**a, **b&#125;</span><br><span class="line">a &#x3D; &#123; &#39;x&#39;: 1, &#39;y&#39;: 2&#125;</span><br><span class="line">b &#x3D; &#123; &#39;y&#39;: 3, &#39;z&#39;: 4&#125;</span><br><span class="line">print(merge_dictionaries(a, b))</span><br><span class="line"># &#123;&#39;y&#39;: 3, &#39;x&#39;: 1, &#39;z&#39;: 4&#125;</span><br></pre></td></tr></table></figure><ol start="20"><li>å°†ä¸¤ä¸ªåˆ—è¡¨è½¬åŒ–ä¸ºå­—å…¸</li></ol><p>å¦‚ä¸‹æ–¹æ³•å°†ä¼šæŠŠä¸¤ä¸ªåˆ—è¡¨è½¬åŒ–ä¸ºå•ä¸ªå­—å…¸ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def to_dictionary(keys, values):</span><br><span class="line">return dict(zip(keys, values))</span><br><span class="line">keys &#x3D; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><br><span class="line">values &#x3D; [2, 3, 4]</span><br><span class="line">print(to_dictionary(keys, values))</span><br><span class="line">#&#123;&#39;a&#39;: 2, &#39;c&#39;: 4, &#39;b&#39;: 3&#125;</span><br></pre></td></tr></table></figure><ol start="21"><li>ä½¿ç”¨æšä¸¾</li></ol><p>æˆ‘ä»¬å¸¸ç”¨ For å¾ªç¯æ¥éå†æŸä¸ªåˆ—è¡¨ï¼ŒåŒæ ·æˆ‘ä»¬ä¹Ÿèƒ½æšä¸¾åˆ—è¡¨çš„ç´¢å¼•ä¸å€¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list &#x3D; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span><br><span class="line">for index, element in enumerate(list): </span><br><span class="line">print(&quot;Value&quot;, element, &quot;Index &quot;, index, )</span><br><span class="line"># (&#39;Value&#39;, &#39;a&#39;, &#39;Index &#39;, 0)</span><br><span class="line"># (&#39;Value&#39;, &#39;b&#39;, &#39;Index &#39;, 1)</span><br><span class="line">#(&#39;Value&#39;, &#39;c&#39;, &#39;Index &#39;, 2)</span><br><span class="line"># (&#39;Value&#39;, &#39;d&#39;, &#39;Index &#39;, 3)</span><br></pre></td></tr></table></figure><ol start="22"><li>æ‰§è¡Œæ—¶é—´</li></ol><p>å¦‚ä¸‹ä»£ç å—å¯ä»¥ç”¨æ¥è®¡ç®—æ‰§è¡Œç‰¹å®šä»£ç æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">start_time &#x3D; time.time()</span><br><span class="line">a &#x3D; 1</span><br><span class="line">b &#x3D; 2</span><br><span class="line">c &#x3D; a + b</span><br><span class="line">print(c) #3</span><br><span class="line">end_time &#x3D; time.time()</span><br><span class="line">total_time &#x3D; end_time - start_time</span><br><span class="line">print(&quot;Time: &quot;, total_time)</span><br><span class="line"># (&#39;Time: &#39;, 1.1205673217773438e-05) </span><br></pre></td></tr></table></figure><ol start="23"><li>Try else</li></ol><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ try/except è¯­å¥çš„æ—¶å€™ä¹Ÿå¯ä»¥åŠ ä¸€ä¸ª else å­å¥ï¼Œå¦‚æœæ²¡æœ‰è§¦å‘é”™è¯¯çš„è¯ï¼Œè¿™ä¸ªå­å¥å°±ä¼šè¢«è¿è¡Œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">2*3</span><br><span class="line">except TypeError:</span><br><span class="line">print(&quot;An exception was raised&quot;)</span><br><span class="line">else:</span><br><span class="line">print(&quot;Thank God, no exceptions were raised.&quot;)</span><br><span class="line">#Thank God, no exceptions were raised.</span><br></pre></td></tr></table></figure><ol start="24"><li>å…ƒç´ é¢‘ç‡</li></ol><p>ä¸‹é¢çš„æ–¹æ³•ä¼šæ ¹æ®å…ƒç´ é¢‘ç‡å–åˆ—è¡¨ä¸­æœ€å¸¸è§çš„å…ƒç´ ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def most_frequent(list):</span><br><span class="line">return max(set(list), key &#x3D; list.count)</span><br><span class="line">list &#x3D; [1,2,1,2,3,2,1,4,2]</span><br><span class="line">most_frequent(list)</span><br></pre></td></tr></table></figure><ol start="25"><li>å›æ–‡åºåˆ—</li></ol><p>ä»¥ä¸‹æ–¹æ³•ä¼šæ£€æŸ¥ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡åºåˆ—ï¼Œå®ƒé¦–å…ˆä¼šæŠŠæ‰€æœ‰å­—æ¯è½¬åŒ–ä¸ºå°å†™ï¼Œå¹¶ç§»é™¤éè‹±æ–‡å­—æ¯ç¬¦å·ã€‚æœ€åï¼Œå®ƒä¼šå¯¹æ¯”å­—ç¬¦ä¸²ä¸åå‘å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™è¡¨ç¤ºä¸ºå›æ–‡åºåˆ—ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def palindrome(string):</span><br><span class="line">from re import sub</span><br><span class="line">s &#x3D; sub(&#39;[\W_]&#39;, &#39;&#39;, string.lower())</span><br><span class="line">return s &#x3D;&#x3D; s[::-1]</span><br><span class="line">palindrome(&#39;taco cat&#39;) # True</span><br></pre></td></tr></table></figure><ol start="26"><li>ä¸ä½¿ç”¨ if-else çš„è®¡ç®—å­</li></ol><p>è¿™ä¸€æ®µä»£ç å¯ä»¥ä¸ä½¿ç”¨æ¡ä»¶è¯­å¥å°±å®ç°åŠ å‡ä¹˜é™¤ã€æ±‚å¹‚æ“ä½œï¼Œå®ƒé€šè¿‡å­—å…¸è¿™ä¸€æ•°æ®ç»“æ„å®ç°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import operator</span><br><span class="line">action &#x3D; &#123;</span><br><span class="line">&quot;+&quot;: operator.add,</span><br><span class="line">&quot;-&quot;: operator.sub,</span><br><span class="line">&quot;&#x2F;&quot;: operator.truediv,</span><br><span class="line">&quot;*&quot;: operator.mul,</span><br><span class="line">&quot;**&quot;: pow</span><br><span class="line">&#125;</span><br><span class="line">print(action[&#39;-&#39;](50, 25)) # 25</span><br></pre></td></tr></table></figure><ol start="27"><li>Shuffle</li></ol><p>è¯¥ç®—æ³•ä¼šæ‰“ä¹±åˆ—è¡¨å…ƒç´ çš„é¡ºåºï¼Œå®ƒä¸»è¦ä¼šé€šè¿‡ Fisher-Yates ç®—æ³•å¯¹æ–°åˆ—è¡¨è¿›è¡Œæ’åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from copy import deepcopy</span><br><span class="line">from random import randint</span><br><span class="line">def shuffle(lst):</span><br><span class="line">temp_lst &#x3D; deepcopy(lst)</span><br><span class="line">m &#x3D; len(temp_lst)</span><br><span class="line">while (m):</span><br><span class="line">m -&#x3D; 1</span><br><span class="line">i &#x3D; randint(0, m)</span><br><span class="line">temp_lst[m], temp_lst[i] &#x3D; temp_lst[i], temp_lst[m]</span><br><span class="line">return temp_lst</span><br><span class="line">foo &#x3D; [1,2,3]</span><br><span class="line">shuffle(foo) # [2,3,1] , foo &#x3D; [1,2,3]</span><br></pre></td></tr></table></figure><ol start="28"><li>å±•å¼€åˆ—è¡¨</li></ol><p>å°†åˆ—è¡¨å†…çš„æ‰€æœ‰å…ƒç´ ï¼ŒåŒ…æ‹¬å­åˆ—è¡¨ï¼Œéƒ½å±•å¼€æˆä¸€ä¸ªåˆ—è¡¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def spread(arg):</span><br><span class="line">ret &#x3D; []</span><br><span class="line">for i in arg:if isinstance(i, list):</span><br><span class="line">ret.extend(i)</span><br><span class="line">else:</span><br><span class="line">ret.append(i)</span><br><span class="line">return ret</span><br><span class="line">spread([1,2,3,[4,5,6],[7],8,9]) # [1,2,3,4,5,6,7,8,9]</span><br></pre></td></tr></table></figure><ol start="29"><li>äº¤æ¢å€¼</li></ol><p>ä¸éœ€è¦é¢å¤–çš„æ“ä½œå°±èƒ½äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def swap(a, b):</span><br><span class="line">return b, a</span><br><span class="line">a, b &#x3D; -1, 14</span><br><span class="line">swap(a, b) # (14, -1)</span><br><span class="line">spread([1,2,3,[4,5,6],[7],8,9]) # [1,2,3,4,5,6,7,8,9]</span><br></pre></td></tr></table></figure><ol start="30"><li>å­—å…¸é»˜è®¤å€¼</li></ol><p>é€šè¿‡ Key å–å¯¹åº”çš„ Value å€¼ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¾ç½®é»˜è®¤å€¼ã€‚å¦‚æœ get() æ–¹æ³•æ²¡æœ‰è®¾ç½®é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå¦‚æœé‡åˆ°ä¸å­˜åœ¨çš„ Keyï¼Œåˆ™ä¼šè¿”å› Noneã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d &#x3D; &#123;&#39;a&#39;: 1, &#39;b&#39;: 2&#125;</span><br><span class="line">print(d.get(&#39;c&#39;, 3)) # 3</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsdelivrçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•</title>
      <link href="/GitHub-jsdelivr.html"/>
      <url>/GitHub-jsdelivr.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2><blockquote><p>CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDNæ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚â€”â€”ç™¾åº¦ç™¾ç§‘</p></blockquote><blockquote><p>æ”¾åœ¨Githubçš„èµ„æºåœ¨å›½å†…åŠ è½½é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨CDNåŠ é€Ÿæ¥ä¼˜åŒ–ç½‘ç«™æ‰“å¼€é€Ÿåº¦ï¼ŒjsDelivr + Githubä¾¿æ˜¯å…è´¹ä¸”å¥½ç”¨çš„CDNï¼Œéå¸¸é€‚åˆåšå®¢ç½‘ç«™ä½¿ç”¨ã€‚</p></blockquote><h2 id="é£Ÿç”¨æ–¹æ³•">é£Ÿç”¨æ–¹æ³•</h2><ol><li>æ–°å»ºGithubä»“åº“</li><li>ä¸Šä¼ èµ„æºï¼ˆå›¾ç‰‡ï¼‰</li><li>ä½¿ç”¨jsdelivrç›´æ¥è®¿é—®ä»“åº“é‡Œçš„å›¾ç‰‡è¿æ¥å¦‚ä¸‹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;GitHubç”¨æˆ·å&#x2F;æ–°å»ºçš„ä»“åº“å&#x2F;**å›¾ç‰‡**.jpg</span><br></pre></td></tr></table></figure></li><li>å®Œäº‹ï¼Œå›¾åºŠåšå¥½äº†</li></ol><h2 id="å‘ç°é—®é¢˜">å‘ç°é—®é¢˜</h2><ol><li>å½“ä½ çš„releaseåŒ…å¤§äº50MBï¼Œé‚£ä¹ˆjsdelivrä¼šç»™ä½ æŠ¥é”™å¹¶ä¸”ä¸ç»™ä½ æä¾›åŠ é€ŸæœåŠ¡ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ¡é“¾æ¥<br><a href="https://cdn.jsdelivr.net/gh/Ysnsn/picture/111/03613.jpg">https://cdn.jsdelivr.net/gh/Ysnsn/picture/111/03613.jpg</a><br>æ‰“å¼€å°±ä¼šå‡ºç°<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Package size exceeded the configured limit of 50 MB</span><br></pre></td></tr></table></figure></li><li>æ„Ÿè§‰ä¸Šé¢çš„ä½¿ç”¨æ–¹æ³•æœ‰ç‚¹å¤æ‚,</li></ol><h2 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h2><p>ä¸€. å½“ä½ çš„releaseç‰ˆæœ¬å·å†™ä¸ºmasteræ—¶ï¼Œåªéœ€è¦ç¬¬ä¸€æ¬¡å‘å¸ƒreleaseå³å¯ï¼Œåé¢ç›´æ¥ç”¨masteråˆ†æ”¯çš„æ–‡ä»¶ï¼Œä¹Ÿæ²¡æœ‰50MBçš„æ–‡ä»¶åŒ…å¤§å°é™åˆ¶æŒ‰ç…§å®˜æ–¹çš„æ ¼å¼ï¼Œå°±æ˜¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;&lt;username&gt;&#x2F;&lt;repo-name&gt;@&lt;version&gt;&#x2F;&lt;path&gt;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œä¸‹é¢å°±å¯ä»¥è®¿é—®äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;Ysnsn&#x2F;picture@master&#x2F;111&#x2F;03613.jpg</span><br></pre></td></tr></table></figure><ol><li>æ‰“å¼€ä½ çš„å›¾åºŠä»“åº“ï¼Œé€‰æ‹©creat a new release<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/11120200821183855.png" alt=""></li><li>æŒ‰ç…§ä¸‹å›¾å¡«å†™1å¤„å¡«å†™ <strong>master</strong> ä¸è¦å†™é”™ï¼Œ2å¤„å¯ä¸å†™ 3å¤„å¡«å†™æè¿°ï¼ˆéšä¾¿ï¼‰æœ€åç‚¹å‡»ç»¿è‰²æ–¹æ¡†æäº¤<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/11120200821183843.png" alt=""></li><li>é—®é¢˜è§£å†³ï¼ˆæ­¤æ—¶å°±èƒ½è®¿é—®  <a href="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/111/03613.jpg">https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/111/03613.jpg</a>  ï¼‰</li></ol><p>äºŒ. é€šè¿‡picgoé…åˆGitHub æ¥ä½¿å›¾ç‰‡å¿«é€Ÿä¸Šä¼ ï¼Œé…ç½®picgoå¦‚ä¸‹<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/11120200821185814.png" alt=""><br>tokenè·å–è·¯å¾„<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/11120200821190108.png" alt=""><br>ä¸‹é¢çš„å°æ–¹æ ¼å¯ä»¥å…¨éƒ¨é€‰ä¸Šï¼ˆå¦‚æœä¸çŸ¥é“æ˜¯å•¥æ„æ€æ—¶ï¼‰<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/11120200821190239.png" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/111/20200822083609.png" alt=""></p><script src="https://cdn.jsdelivr.net/npm/hls.js"></script><video id="video" preload loop style="height: 100%;width: 100%;object-fit: cover;"></video><script>  var video = document.getElementById('video');  var videoSrc = 'https://cdn.jsdelivr.net/gh/Ysnsn/video-cdn/002.m3u8';  if (Hls.isSupported()) {    var hls = new Hls();    hls.loadSource(videoSrc);    hls.attachMedia(video);    hls.on(Hls.Events.MANIFEST_PARSED, function() {      video.play();    });  }</script>]]></content>
      
      
      <categories>
          
          <category> é£Ÿç”¨æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsdelivr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®ç”¨è½¯ä»¶åˆ†äº«</title>
      <link href="/64141.html"/>
      <url>/64141.html</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸ§¨å‰è¨€é¡»çŸ¥">ğŸ§¨å‰è¨€é¡»çŸ¥</h2><blockquote><ul><li>æœ¬åšå®¢ä¸æä¾›ä»»ä½•ç»è¿‡ç¬¬ä¸‰æ–¹ä¿®æ”¹çš„è½¯ä»¶</li><li>ä»…ä»…æ˜¯ä¸ºäº†è®°å½•è‡ªå·±ä½¿ç”¨è¿‡çš„ä¸€äº›å®ç”¨è½¯ä»¶</li></ul></blockquote><h2 id="ğŸƒæ­£ç¡®çš„è®¿é—®Googleï¼ˆä¸»è¦æ˜¯çœ‹åˆ°å¥½å¤šäººè¿˜ä¸ä¼šï¼‰">ğŸƒæ­£ç¡®çš„è®¿é—®Googleï¼ˆä¸»è¦æ˜¯çœ‹åˆ°å¥½å¤šäººè¿˜ä¸ä¼šï¼‰</h2><blockquote><p>è°·æ­Œé‚®ç®± è°·æ­Œæœç´¢ è°·æ­Œæ‰©å±•å•†åº— è°·æ­Œå®¶çš„ä¸œè¥¿åŸºæœ¬éƒ½èƒ½è®¿é—®äº†</p></blockquote><ul><li><p>IGGè°·æ­Œè®¿é—®åŠ©æ‰‹ğŸ‘‰<a href="https://iguge.app/">IGG</a></p><p><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img/20200821%20(1).png" alt="å›¾1"></p></li><li><p>é€‰æ‹©ç¦»çº¿å®‰è£…ï¼Œä¸‹è½½å¾—åˆ°å‹ç¼©åŒ…å¹¶è§£å‹å¾—åˆ°å›¾3</p></li><li><p>æ‰“å¼€ä½ çš„Chromeæµè§ˆå™¨çš„ æ›´å¤šå·¥å…·&gt;æ‰©å±•ç¨‹åºé¡µé¢<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img/20200821%20(2).png" alt="å›¾2"></p></li><li><p>1ã€ç‚¹å‡»å³ä¸Šè§’ å¼€å‘è€…æ¨¡å¼ å¼€å…³ 2ã€å†ç‚¹å‡»å·¦ä¸Šè§’ â€œæ·»åŠ å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€ 3ã€é€‰æ‹©æœ¬æ¬¡ä¸‹è½½åŒ…é‡Œç›®å½•ï¼ˆå³å›¾3æ‰€ç¤ºï¼‰  4ã€ç¡®è®¤é€‰å–.<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img/20200821%20(3).png" alt="å›¾3"></p></li><li><p>æ’ä»¶å®‰è£…æˆåŠŸåå¦‚ä¸‹å›¾æ‰€ç¤º å¹¶æ‰“å¼€ç‚¹å‡»è¿æ¥ï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨Google<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img/202008214.png" alt=""></p></li><li><p>ä»¥ä¸Šæ˜¯è°·æ­Œæµè§ˆå™¨çš„æ–¹æ³•ï¼Œå…¶å®ƒæµè§ˆå™¨è¯·æ­£å¸¸å®‰è£…ã€‚</p></li></ul><h2 id="ğŸ¡è½¯ä»¶åˆ†äº«ç½‘ç«™">ğŸ¡è½¯ä»¶åˆ†äº«ç½‘ç«™</h2><ol><li>æœæ ¸å‰¥å£³  <a href="https://www.ghpym.com/">https://www.ghpym.com/</a></li><li>å°ä¼—è½¯ä»¶ <a href="https://www.appinn.com/">https://www.appinn.com/</a></li><li>å¾çˆ±  <a href="https://www.52pojie.cn/">https://www.52pojie.cn/</a></li><li>å¼‚æ˜Ÿè½¯ä»¶  <a href="http://www.yxssp.com/">http://www.yxssp.com/</a></li><li>æ‡’å¾—å‹¤å¿«  <a href="https://masuit.com/">https://masuit.com/</a></li><li>ç”µå½±åˆ†äº«è“å…‰åŸç›˜  <a href="http://www.yinfans.me/">http://www.yinfans.me/</a></li><li><a href="https://getitfree.cn/">æ­£ç‰ˆä¸­å›½</a> è¿™æ˜¯ä¸€ä¸ªæä¾›æ­£ç‰ˆè½¯ä»¶ä¸‹è½½çš„ç½‘ç«™ï¼Œç”±ä¸€ç¾¤å¤§å­¦ç”Ÿåˆ›å»ºï¼Œæ—¨åœ¨è®©æ›´å¤šäººèƒ½ç”¨ä¸Šæ­£ç‰ˆè½¯ä»¶ã€‚æ¯”å¦‚åœ¨å®˜ç½‘é¦–é¡µï¼Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°Officeç›¸å…³çš„æŠ˜æ‰£ä¿¡æ¯ï¼ŒåŠ›åº¦å¾ˆå¤§ï¼Œæœ€ä½çš„ç›´æ¥åˆ°äº†2æŠ˜ï¼ŒçœŸçš„èƒ½çœä¸å°‘é’±ã€‚ä¸è¿‡è¿™ç±»çš„æ‰“æŠ˜æ´»åŠ¨å¾€å¾€æœ‰æ—¶é—´é™åˆ¶ã€‚</li><li><a href="https://www.remove.bg/">removebg</a>è¿™æ˜¯å›½å¤–ä¸€ä¸ªä¸“æ³¨äºäººç‰©æŠ å›¾çš„ç¥å™¨ï¼ŒæŠ å›¾é€Ÿåº¦å¿«ï¼ˆ5ç§’å†…æå®šï¼‰ï¼Œæ•ˆæœå¥½ã€‚ä½ åªéœ€ä¸Šä¼ å›¾ç‰‡ï¼Œå‰©ä¸‹çš„äº‹æƒ…å®ƒä¼šå¸®ä½ æå®šã€‚</li><li><a href="https://www.toolnb.com">çˆ±èµ„æ–™å·¥å…·</a>åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯å› ä¸ºä¸€äº›ä½é¢‘éœ€æ±‚ï¼Œè¢«è¿«å»ç½‘ä¸Šå¯»æ‰¾å„ç§è½¯</li><li><a href="https://tools.miku.ac/">MikuTools</a></li></ol><h2 id="âš¡å¸è½½å·¥å…·">âš¡å¸è½½å·¥å…·</h2><ol><li><p>å°å·§è€Œèƒ½åŠ›å¼ºå¤§çš„geekï¼Œå…è´¹ç‰ˆåŸºæœ¬å¤Ÿç”¨ğŸ‘‰<a href="https://geekuninstaller.com/download">geek</a></p></li><li><p>ä¸Šé¢è¿™ä¸€ä¸ªå°±å¤Ÿæ—¥å¸¸ä½¿ç”¨ï¼Œä¸å†æ¨èäº†</p></li></ol><h2 id="ğŸš€ä¸‹è½½ç¥å™¨">ğŸš€ä¸‹è½½ç¥å™¨</h2><ol><li>IDM å¤šçº¿ç¨‹ä¸‹è½½ï¼Œé€Ÿåº¦æ²¡å¾—è¯´å¿«å°±å®Œäº‹ğŸ¤<a href="https://www.internetdownloadmanager.com/">IDM</a>æ­£ç‰ˆéœ€è¦ä»˜è´¹ï¼Œå½“ç„¶ç½‘ä¸Šé‚£äº›ä¿®æ”¹ç‰ˆçš„ä¹Ÿæœ‰ï¼ˆè‡ªå·±å»Googleï¼‰</li><li>å“”å“©å“”å“©è§†é¢‘åŠå¼¹å¹•ä¸‹è½½ ğŸš©<a href="http://client.jijidown.com/">å”§å”§</a></li><li>ç™¾åº¦ç½‘ç›˜ä¸‹è½½<ul><li><a href="https://github.com/liupan1890/xiaobaiyang">6ç›˜å°ç™½ç¾Š</a></li><li><a href="https://github.com/yuantuo666/baiduwp-php">ç½‘é¡µç‰ˆé€Ÿç›˜</a>å¯ä»¥è‡ªå·±æ­å»º</li></ul></li><li>éŸ³ä¹ä¸‹è½½<ul><li>music downloadæ‰¹é‡æ— æŸä¸‹è½½ <a href="https://www.nitian1207.cn/">ğŸ›´ç›´è¾¾</a></li><li>ç½‘é¡µç‰ˆä¹Ÿæœ‰å¾ˆå¤šï¼ˆGoogleï¼‰</li></ul></li></ol><h2 id="ğŸ‡è§†é¢‘music">ğŸ‡è§†é¢‘music</h2><ol><li>[potplayer] (<a href="https://daumpotplayer.com/download/">https://daumpotplayer.com/download/</a>)</li><li>éŸ³ä¹xiazmusic tool <a href="http://tool.yijingying.com/musictools/">ä¸‹è½½</a> ğŸ§<a href="http://tool.yijingying.com/">å®˜ç½‘</a><br>3.<a href="https://www.lanzoux.com/b0sopazc">è§£é”ç½‘æŠ‘äº‘ç°è‰²æ­Œæ›²ä¸‹è½½</a>  ä¸»ç¨‹åºåœ°å€  <a href="https://github.com/nondanee/UnblockNeteaseMusic">https://github.com/nondanee/UnblockNeteaseMusic</a></li></ol><h2 id="âœ…æ€æ¯’è½¯ä»¶">âœ…æ€æ¯’è½¯ä»¶</h2><ol><li>win10è‡ªå¸¦çš„å°±å¤Ÿæ—¥å¸¸ä½¿ç”¨</li><li><a href="https://www.huorong.cn/">ç«ç»’å®‰å…¨</a></li></ol><h2 id="â™»åƒåœ¾æ¸…ç†">â™»åƒåœ¾æ¸…ç†</h2><ol><li><p>CCleanerğŸ€<a href="https://www.ccleaner.com/ccleaner/download">è¿™é‡Œç›´è¾¾</a></p></li><li><p>ç«ç»’ä¹Ÿè‡ªå¸¦åƒåœ¾æ¸…ç†   <a href="https://www.huorong.cn/">https://www.huorong.cn/</a></p></li></ol><h2 id="ğŸ”¶ç”µè„‘å½•å±">ğŸ”¶ç”µè„‘å½•å±</h2><ol><li>screen to gif<a href="https://www.screentogif.com/downloads">å®˜ç½‘</a></li></ol><a class="btn-beautify button--animated outline pink larger" href="https://ysnsn.herokuapp.com/yn/%E7%94%B5%E8%84%91%E8%BD%AF%E4%BB%B6/ScreenToGif_2.26_Single.zip"   title="ç‚¹æˆ‘ä¸‹è½½"><i class="fas fa-download fa-fw"></i><span>ç‚¹æˆ‘ä¸‹è½½</span></a><ol start="2"><li>ç­åº•å½•å±<a href="https://www.bandicam.cn/downloads/">ä¼ é€</a></li></ol><a class="btn-beautify button--animated outline pink larger" href="https://ysnsn.herokuapp.com/yn/%E7%94%B5%E8%84%91%E8%BD%AF%E4%BB%B6/Bandicam%204.5.8.1673%E7%BB%BF%E8%89%B2%E7%89%88.zip"   title="ç‚¹æˆ‘ä¸‹è½½"><i class="fas fa-download fa-fw"></i><span>ç‚¹æˆ‘ä¸‹è½½</span></a><ol start="3"><li>å‚²è½¯å½•å±  <a href="https://www.apowersoft.cn/record-all-screen">https://www.apowersoft.cn/record-all-screen</a></li></ol><a class="btn-beautify button--animated outline pink larger" href="https://ysnsn.herokuapp.com/yn/%E7%94%B5%E8%84%91%E8%BD%AF%E4%BB%B6/ApowerREC%201.1.8.zip"   title="ç‚¹æˆ‘ä¸‹è½½"><i class="fas fa-download fa-fw"></i><span>ç‚¹æˆ‘ä¸‹è½½</span></a><ol start="4"><li>officeä¸­çš„PPTä¹Ÿå¯ä»¥å½•å±</li></ol><h2 id="ğŸ›´è§£å‹ç¼©">ğŸ›´è§£å‹ç¼©</h2><ol><li><a href="https://www.bandisoft.com/bandizip/">bandizip</a>å°å·§</li><li>Winrarå¥½åƒæœ‰å¹¿å‘Š<a href="https://winrar.en.softonic.com/">ç›´è¾¾ğŸŒ‚</a><ul><li>æŠŠä¸‹é¢è¿™æ®µcodeæ–‡æœ¬å¤åˆ¶åˆ°ä¸€ä¸ªæ–°å»ºçš„è®°äº‹æœ¬txtæ–‡æ¡£ä¸­ï¼Œç„¶åå¦å­˜ä¸ºrarreg.keyæ–‡ä»¶ï¼Œæ³¨æ„åç¼€å.txtæ”¹ä¸º .keyæ‰è¡Œ</li></ul> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">RAR registration data</span><br><span class="line">Federal Agency for Education</span><br><span class="line">1000000 PC usage license</span><br><span class="line">UID&#x3D;b621cca9a84bc5deffbf</span><br><span class="line">6412612250ffbf533df6db2dfe8ccc3aae5362c06d54762105357d</span><br><span class="line">5e3b1489e751c76bf6e0640001014be50a52303fed29664b074145</span><br><span class="line">7e567d04159ad8defc3fb6edf32831fd1966f72c21c0c53c02fbbb</span><br><span class="line">2f91cfca671d9c482b11b8ac3281cb21378e85606494da349941fa</span><br><span class="line">e9ee328f12dc73e90b6356b921fbfb8522d6562a6a4b97e8ef6c9f</span><br><span class="line">fb866be1e3826b5aa126a4d2bfe9336ad63003fc0e71c307fc2c60</span><br><span class="line">64416495d4c55a0cc82d402110498da970812063934815d81470829275</span><br></pre></td></tr></table></figure><ul><li>ç„¶åæŠŠrarreg.keyæ–‡ä»¶æ”¾å…¥WinRARå®‰è£…ç›®å½•å³å¯å®Œæˆæ³¨å†Œã€‚(æ²¡æœ‰å¼¹çª—)</li></ul></li></ol><h2 id="ğŸ‘“ç¼©æ”¾æµè§ˆ">ğŸ‘“ç¼©æ”¾æµè§ˆ</h2><ol><li><p>Bigjpg - AIäººå·¥æ™ºèƒ½å›¾ç‰‡æ— æŸæ”¾å¤§  <a href="https://bigjpg.com/">https://bigjpg.com/</a></p></li><li><p>ImageGlass <a href="https://imageglass.org/">åœ°å€â€“</a></p></li><li><p>Quickerlook <a href="https://github.com/QL-Win/QuickLook/">é€è¾¾ğŸ¢</a> win10 <a href="https://www.microsoft.com/en-us/p/quicklook/9nv4bs3l1h4s/">å•†åº—é‡Œä¹Ÿæœ‰</a>è¿˜å¯ä»¥è£…æ’ä»¶, æ”¯æŒä¸€ä¸‹æ ¼å¼<br><img src="http://m.qpic.cn/psc?/V51YP3cQ2bNLyv1lNkGr4bDahQ3AuFl7/ruAMsa53pVQWN7FLK88i5lNaKOSyKTUrDkvsyDeAt4GgXIjTo4L0IslrOx9Med5YlPJnu.ZnJexSa6TCiFnU2r.yItrQzDZ7rysYu6.o6ac!/b&amp;bo=VAT.AQAAAAADB40!&amp;rf=viewer_4" alt=""></p></li></ol><h2 id="ğŸ“œå†™ä½œ">ğŸ“œå†™ä½œ</h2><ol><li>VScode <a href="https://code.visualstudio.com/">å†™ä»£ç å¸¸ç”¨</a></li><li>typora â™¥markdownå†™ä½œå¸¸ç”¨ <a href="https://typora.io/">https://typora.io/</a></li></ol><h2 id="Quicker"><a href="https://getquicker.net/">Quicker</a></h2><ul><li>ä¸ºå¸¸ç”¨æ“ä½œå»ºç«‹æ·å¾„ï¼Œè®©æ•ˆç‡è§¦æ‰‹å¯åŠ!<br><img src="http://m.qpic.cn/psc?/V51YP3cQ2bNLyv1lNkGr4bDahQ3AuFl7/ruAMsa53pVQWN7FLK88i5kfMbTZx19VJv3CWAfJ6vHHOhJQtyMd8t3QnPTiJOjHHHeEAgF9ta5Y.nhEOp1ZLZ8Nef9XEUe4iYSSJtHhMM9o!/b&amp;bo=SwZ7A0sGewMDCSw!&amp;rf=viewer_4" alt=""></li></ul><h2 id="ğŸ§´CADä¸‹è½½">ğŸ§´CADä¸‹è½½</h2><ol><li>CADè‡ªå­¦ç½‘  <a href="http://www.cadzxw.com/">http://www.cadzxw.com/</a></li><li>å®˜ç½‘  <a href="https://www.autodesk.com/solutions/cad-design">https://www.autodesk.com/solutions/cad-design</a></li></ol><h2 id="ğŸ¥ è¿œç¨‹æ§åˆ¶">ğŸ¥ è¿œç¨‹æ§åˆ¶</h2><ol><li>teamview  å…è´¹ <a href="https://www.teamviewer.cn/cn/">https://www.teamviewer.cn/cn/</a></li><li>todesk  ä¸ªäººå…è´¹  <a href="https://www.todesk.com/">https://www.todesk.com/</a></li></ol><blockquote><h2 id="ğŸ­å¯ä»¥å»æˆ‘çš„ç½‘ç›˜çœ‹çœ‹">ğŸ­<a href="https://ysnsn.herokuapp.com/">å¯ä»¥å»æˆ‘çš„ç½‘ç›˜çœ‹çœ‹</a></h2><h2 id="ğŸˆè¿˜æœ‰ä»€ä¹ˆè¦è¡¥å†²çš„è¯·ç•™è¨€ï¼Œåç»­ä¼šæ…¢æ…¢åŠ ä¸Š">ğŸˆè¿˜æœ‰ä»€ä¹ˆè¦è¡¥å†²çš„è¯·ç•™è¨€ï¼Œåç»­ä¼šæ…¢æ…¢åŠ ä¸Š</h2></blockquote>]]></content>
      
      
      <categories>
          
          <category> å®ç”¨è½¯ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PC </tag>
            
            <tag> è½¯ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>butterflyé‡è£…æ‰€éœ€</title>
      <link href="/58458.html"/>
      <url>/58458.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸»è¦æ­¥éª¤">ä¸»è¦æ­¥éª¤</h3><blockquote><p>é…ç½® Git æœ¬åœ°ä»£ç†</p></blockquote><details><summary>ç‚¹å‡»å±•å¼€ğŸ‘‰ Gitæœ¬åœ°ä»£ç†</summary><p>Git åŒæ—¶æ”¯æŒ Socket5 å’Œ HTTP ä»£ç†ï¼Œæ ¹æ®æœ¬åœ°å®¢æˆ·ç«¯å…·ä½“æƒ…å†µé€‰æ‹©ä¸€ç§é…ç½®å°±å¯ä»¥äº†</p><h4 id="Socket5-ä»£ç†">Socket5 ä»£ç†</h4><p>Git é»˜è®¤çš„ Socket5 ä»£ç†åº”è®¾ç½®ä¸ºï¼š(å…¶ä¸­ server æ˜¯æœåŠ¡å™¨åœ°å€ï¼Œ<em>port</em>æ˜¯ä»£ç†ç«¯å£)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy socks5:&#x2F;&#x2F;server:port</span><br><span class="line">git config --global https.proxy socks5:&#x2F;&#x2F;server:port</span><br></pre></td></tr></table></figure><p>æœ¬åœ°æœåŠ¡å™¨çš„ IPV4 åœ°å€å°±æ˜¯ï¼š127.0.0.1ï¼Œç«¯å£å¡«ä¸Šé¢ Clash ä¸­çš„ Socket5 ä»£ç†ç«¯å£</p><p>ä»¥æˆ‘çš„æœ¬åœ°ä»£ç†ç«¯å£ä¸ºä¾‹ï¼Œåœ¨ Git bash/Windows ç»ˆç«¯ä¸‹è¾“å…¥ä¸‹é¢å‘½ä»¤å›è½¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global http.proxy socks5:&#x2F;&#x2F;127.0.0.1:7891</span><br><span class="line">$ git config --global https.proxy socks5:&#x2F;&#x2F;127.0.0.1:7891</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Socket5 ä»£ç†è®¾ç½®å®Œæˆ</p><h4 id="HTTP-ä»£ç†">HTTP ä»£ç†</h4><p>Git é»˜è®¤çš„ HTTP ä»£ç†åº”è®¾ç½®ä¸ºï¼š(å…¶ä¸­ server æ˜¯æœåŠ¡å™¨åœ°å€ï¼Œportæ˜¯ä»£ç†ç«¯å£)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global http.proxy http:&#x2F;&#x2F;server:port</span><br><span class="line">$ git config --global https.proxy http:&#x2F;&#x2F;server:port</span><br></pre></td></tr></table></figure><p>æœ¬åœ°æœåŠ¡å™¨çš„ IPV4 åœ°å€å°±æ˜¯ï¼š127.0.0.1ï¼Œç«¯å£å¡«ä¸Šé¢ Clash ä¸­çš„ HTTP ä»£ç†ç«¯å£</p><p>ä»¥æˆ‘çš„æœ¬åœ°ä»£ç†ç«¯å£ä¸ºä¾‹ï¼Œåœ¨ Git bash/Windows ç»ˆç«¯ä¸‹è¾“å…¥ä¸‹é¢å‘½ä»¤å›è½¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global http.proxy http:&#x2F;&#x2F;127.0.0.1:7890</span><br><span class="line">$ git config --global https.proxy https:&#x2F;&#x2F;127.0.0.1:7890</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><ol><li><p>âœ…Git å’Œ Node.js çš„æ­£ç¡®å®‰è£…åä½ å°±å¯ä»¥åœ¨æœ¬åœ°å®‰è£… Hexo äº†ï¼ŒğŸ˜‰ä»¥ä¸‹å‘½ä»¤å‡åœ¨ Git Bash é‡Œé¢è¿›è¡Œã€‚</p></li><li><p>å…¨å±€å®‰è£…Hexoï¼ˆåŠå¢™çŠ¶æ€ï¼Œéœ€è¦ä»£ç†&amp;å®‰è£…æ·˜å®é•œåƒcnpmï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">npm install -g hexo-cli </span><br></pre></td></tr></table></figure></li><li><p>åˆå§‹åŒ–<code>Hexo</code>{æ–°å»ºçš„åšå®¢æ–‡ä»¶å¤¹ä¸‹è¿›è¡Œï¼Œå¦‚ï¼š<code>hexo</code>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init hexo</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ hexo ç›®å½•å†…å³é”®æ‰“å¼€ Git Bashï¼Œä½¿ç”¨ NPM å®‰è£…å¿…é¡»çš„ä¾èµ–ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure></li><li><p>å…³è” <strong><a href="http://USERname.github.io">USERname.github.io</a></strong>ä»“åº“ ã€ã€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;username&quot; # usernameæ˜¯ä½ çš„Githubç”¨æˆ·åï¼Œæ³¨æ„å¤§å°å†™ä¿æŒä¸€è‡´</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;your email address&quot; # your email addresså¡«å†™ä½ çš„Githubæ³¨å†Œç”¨çš„é‚®ç®±</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa -C &quot;your email address&quot;  # ç”ŸæˆSSHå…¬é’¥ï¼Œyour email addressåŒä¸Šå¡«</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>æ­¤éƒ¨åˆ†åªæ˜¯å¤§è‡´è¯´æ˜ï¼Œå…·ä½“è¯·æŸ¥çœ‹<a href="https://hexo.io/zh-cn/docs/">å®˜æ–¹æ–‡æ¡£</a>----(å¤ªæ‡’äº†ä¸æƒ³å†™äº†ğŸ˜ª)</p></li></ol><h3 id="å¿…é¡»æ’ä»¶ï¼ˆè‡ªç”¨ï¼‰">å¿…é¡»æ’ä»¶ï¼ˆè‡ªç”¨ï¼‰</h3><ol><li><p>Hexoä¸»é¢˜ä¸‹è½½å¦‚ï¼šbutterfly</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;hexo-theme-butterfly.git themes&#x2F;butterfly</span><br></pre></td></tr></table></figure></li><li><p>ä¸»é¢˜æ¸²æŸ“æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure></li><li><p>Git æ¨é€æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li><p>éŸ³ä¹æ’­æ”¾å™¨æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure></li><li><p>å“”å“©å“”å“©è¿½ç•ªé¡µé¢ç”Ÿæˆæ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-bilibili-bangumi --save</span><br></pre></td></tr></table></figure></li><li><p>RSS ç”Ÿæˆæ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></li><li><p>æ–‡ç« ç½®é¡¶æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line"></span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure></li><li><p>æœ¬åœ°æœç´¢æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></li><li><p>å­—æ•°ç»Ÿè®¡æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure></li><li><p>æ°¸ä¹…é“¾æ¥ç”Ÿæˆæ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure></li><li><p>ç™¾åº¦ Sitemap ç”Ÿæˆæ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-baidu-sitemap@0.1.4 --save</span><br></pre></td></tr></table></figure></li><li><p>ç™¾åº¦ä¸»åŠ¨æ¨é€æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure></li><li><p>SiteMap ç”Ÿæˆæ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure></li></ol><h3 id="æœ€å">æœ€å</h3><ul><li>é…ç½®æ–‡ä»¶åº”åŠ å…¥ä»¥ä¸‹å†…å®¹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># RSSè®¢é˜…æ”¯æŒ</span><br><span class="line">plugin:</span><br><span class="line">- hexo-generator-feed</span><br><span class="line"></span><br><span class="line"># Feed Atom</span><br><span class="line">feed:</span><br><span class="line">type: atom</span><br><span class="line">path: atom.xml</span><br><span class="line">limit: 20</span><br><span class="line"></span><br><span class="line">abbrlink: </span><br><span class="line">    alg: crc16 #ç®—æ³•ï¼š </span><br><span class="line">    crc16(default) and crc32 rep: hex #è¿›åˆ¶ï¼š dec(default) and hex: dec #è¾“å‡ºè¿›åˆ¶ï¼šåè¿›åˆ¶å’Œåå…­è¿›åˆ¶ï¼Œé»˜è®¤ä¸º10è¿›åˆ¶ã€‚ä¸¨decä¸ºåè¿›åˆ¶ï¼Œhexä¸ºåå…­è¿›åˆ¶</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">bangumi:</span><br><span class="line">  enable: true</span><br><span class="line">  path: bangumis&#x2F;index.html</span><br><span class="line">  vmid: 483622363</span><br><span class="line">  title: &#39;è¿½ç•ªåˆ—è¡¨ğŸ‘€&#39;</span><br><span class="line">  quote: &#39;ç”Ÿå‘½ä¸æ¯ï¼Œè¿½ç•ªä¸æ­¢ï¼ğŸ›´&#39;</span><br><span class="line">  show: 1</span><br><span class="line">  loading:</span><br><span class="line">  metaColor:</span><br><span class="line">  color: &quot;#ffc0cb&quot;</span><br><span class="line">  webp:</span><br><span class="line">  progress: true</span><br><span class="line">  </span><br><span class="line"># è°·æ­Œã€ç™¾åº¦ç«™ç‚¹åœ°å›¾ç”Ÿæˆ</span><br><span class="line">Plugins:</span><br><span class="line">- hexo-generator-baidu-sitemap</span><br><span class="line">- hexo-generator-sitemap</span><br><span class="line"></span><br><span class="line">baidusitemap:</span><br><span class="line">    path: baidusitemap.xml</span><br><span class="line">sitemap:</span><br><span class="line">    path: sitemap.xml</span><br></pre></td></tr></table></figure><h3 id="ç¾åŒ–ä»£ç js-cssåˆ†äº«">ç¾åŒ–ä»£ç js cssåˆ†äº«</h3><ol><li><p>å¾®åšå›¾ç‰‡æ˜¾ç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name&#x3D;&quot;referrer&quot; content&#x3D;&quot;no-referrer&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ˜Ÿæ˜Ÿè·Ÿéšé¼ æ ‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;sviptzk&#x2F;HexoStaticFile@latest&#x2F;Hexo&#x2F;js&#x2F;mouse_snow.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li><li><p>comments-Valineåšä¸»ä»£ç ä¿®æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;HCLonely&#x2F;Valine@latest&#x2F;dist&#x2F;Valine.min.js</span><br></pre></td></tr></table></figure></li><li><p>çœ‹æ¿å¨˜<a href="https://github.com/stevenjoezhang/live2d-widget">æŠŠèŒèŒå“’çš„çœ‹æ¿å¨˜æŠ±å›å®¶ </a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;stevenjoezhang&#x2F;live2d-widget@latest&#x2F;autoload.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li><li><p>çœ‹æ¿å¨˜æ’ä»¶<a href="https://github.com/fghrsh/live2d_demo">ä¼ é€é—¨ğŸ‘‰</a></p></li><li><p>ç”Ÿæˆè‡ªå·±çš„sitemapæ–‡ä»¶</p></li></ol> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é‡æ–°æ¥è¿‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººé—´ä¸€è¶Ÿï¼Œç§¯æå‘ä¸Š</title>
      <link href="/pictures-wei.html"/>
      <url>/pictures-wei.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200810180918.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200810180917.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200810180916.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200810180915.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200810180914.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200810180913.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200810180912.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200810180911.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/111/20200822162549.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/111/20200822162548.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/111/20200822162547.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/111/20200822162546.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture@master/111/20200822162545.jpg" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> ç¾æ–‡ç¾å›¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡æ¡ˆ </tag>
            
            <tag> picture </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤©æ°”ä¹‹å­</title>
      <link href="/tianqizhizi.html"/>
      <url>/tianqizhizi.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://p.ananas.chaoxing.com/star3/origin/4fd26a2fdc156f7bd65a67edca382d49.png?rw=3840&amp;rh=2160&amp;_fileSize=8910069&amp;_orientation=1" alt=""></p><p><img src="https://p.ananas.chaoxing.com/star3/origin/ddec47405f6c5d210324623b9669f3db.jpg?rw=864&amp;rh=1920&amp;_fileSize=65984&amp;_orientation=0" alt=""><img src="https://p.ananas.chaoxing.com/star3/origin/c71deaa1da150cae283f7fab92b230b2.jpg?rw=864&amp;rh=1920&amp;_fileSize=66198&amp;_orientation=0" alt=""></p><p><img src="https://p.ananas.chaoxing.com/star3/origin/ee4abde4b3f25660210a4a2f9e5aea52.jpg?rw=864&amp;rh=1920&amp;_fileSize=176188&amp;_orientation=0" alt=""><img src="https://p.ananas.chaoxing.com/star3/origin/c6656537bf2e31ff6edda18b4ce5da8b.jpg?rw=864&amp;rh=1920&amp;_fileSize=138948&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/d7ac92699ab38340f7c3275421793b55.jpg?rw=600&amp;rh=600&amp;_fileSize=32282&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/f25662110dda885c4a313faf9ec24b98.jpg?rw=864&amp;rh=1920&amp;_fileSize=192828&amp;_orientation=0" alt=""><img src="https://p.ananas.chaoxing.com/star3/origin/91a7a44a057b3ac52ff799ae70c6a5b1.jpg?rw=864&amp;rh=1920&amp;_fileSize=174657&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/f9db7fd7ae4d4f9e6c0306aa04634ba2.jpg?rw=864&amp;rh=1920&amp;_fileSize=145142&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/1b3c6ce64691f13c1e2fc0dbcada6858.jpg?rw=600&amp;rh=600&amp;_fileSize=28849&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/7940c93a6a05ef0794be4ba60265f178.jpg?rw=600&amp;rh=600&amp;_fileSize=71678&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/821755a6b514b9e2bda7956bcd927c0c.jpg?rw=600&amp;rh=600&amp;_fileSize=25327&amp;_orientation=0" alt=""></p><p><img src="https://p.ananas.chaoxing.com/star3/origin/e92aad8d01b58657d05bae295eaa1d92.jpg?rw=600&amp;rh=600&amp;_fileSize=79956&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/b72104d676d3b3bf83587674ef3e2e84.jpg?rw=600&amp;rh=600&amp;_fileSize=71778&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/89f8403fdbc729860f19a18217ae8102.jpg?rw=600&amp;rh=600&amp;_fileSize=59466&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/dafffed31de17fbbc0da85b3546c9aa0.jpg?rw=600&amp;rh=600&amp;_fileSize=26084&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/e56b66b6bc82b3f1e15f72feee6507f1.jpg?rw=600&amp;rh=600&amp;_fileSize=28098&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/4f6b9f719bc323c1f66d056ef8b916fc.jpg?rw=600&amp;rh=600&amp;_fileSize=45166&amp;_orientation=0" alt=""><br><img src="https://p.ananas.chaoxing.com/star3/origin/a7cee3dc46ac1829381d2115594a617e.jpg?rw=600&amp;rh=600&amp;_fileSize=53707&amp;_orientation=0" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> ç¾æ–‡ç¾å›¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> picture </tag>
            
            <tag> ç¾å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>githubæ€»ç»“</title>
      <link href="/%E9%A3%9F%E7%94%A8%E6%95%99%E7%A8%8B.html"/>
      <url>/%E9%A3%9F%E7%94%A8%E6%95%99%E7%A8%8B.html</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h3 id="å“”å“©å“”å“©ç›´æ’­ç­¾åˆ°"><a href="https://github.com/Ysnsn/bilibili-sign">å“”å“©å“”å“©ç›´æ’­ç­¾åˆ°</a></h3><ul><li>å“”å“©å“”å“©ç›´æ’­è‡ªåŠ¨ç­¾åˆ°, Github Actions éƒ¨ç½²</li><li>æ•ˆæœå›¾<br><img src="https://p.ananas.chaoxing.com/star3/origin/7d06795fea7ea2bb283ae9df79fe51e4.png?rw=1416&amp;rh=878&amp;_fileSize=114159&amp;_orientation=1" alt=""></li></ul><h3 id="wpsäº‘å‡½æ•°æ‰“å¡"><a href="https://github.com/Ysnsn/wps-sign">wpsäº‘å‡½æ•°æ‰“å¡</a></h3><ul><li>è…¾è®¯äº‘å‡½æ•°æ‰“å¡ï¼šæ¯å¤©è‡ªåŠ¨ç­”é¢˜é‚€è¯·äºº</li><li><a href="https://zt.wps.cn/2018/clock_in?csource=pc_clock_oldactivity">https://zt.wps.cn/2018/clock_in?csource=pc_clock_oldactivity</a></li></ul><h3 id="oneindexæ­å»ºç½‘ç›˜https-github-com-Ysnsn-oneindex">oneindexæ­å»ºç½‘ç›˜https://github.com/Ysnsn/oneindex</h3><ul><li>æ¼”ç¤ºç«™ <a href="http://ns.s1213.icu/">http://ns.s1213.icu/</a></li><li>ä¸å ç”¨æœåŠ¡å™¨ç©ºé—´ï¼Œä¸èµ°æœåŠ¡å™¨æµé‡ï¼Œç›´æ¥åˆ—å‡º OneDrive ç›®å½•ï¼Œæ–‡ä»¶ç›´é“¾ä¸‹è½½ã€‚ä¸onemanagerç›¸æ¯”å„æœ‰ä¼˜ç¼ºç‚¹ã€‚</li></ul><h3 id="ç½‘æ˜“äº‘ç­¾åˆ°æ‰“å¡GitHub-action"><a href="https://github.com/Ysnsn/wangyiyun-action">ç½‘æ˜“äº‘ç­¾åˆ°æ‰“å¡GitHub+action</a></h3><ul><li>github + actions éƒ¨ç½²ç¨³å®šå¯é </li><li>ç¤ºä¾‹<img src="https://p.ananas.chaoxing.com/star3/origin/fa9ab4101996638f7142b9dde1b52687.png?rw=1380&amp;rh=561&amp;_fileSize=51847&amp;_orientation=1" alt=""></li></ul><h3 id="Nativefierä¸ºWhatsApp-Webï¼ˆæˆ–ä»»ä½•ç½‘é¡µï¼‰åˆ¶ä½œæœ¬æœºåŒ…è£…"><a href="https://github.com/jiahaog/nativefier">Nativefierä¸ºWhatsApp Webï¼ˆæˆ–ä»»ä½•ç½‘é¡µï¼‰åˆ¶ä½œæœ¬æœºåŒ…è£…</a></h3><ul><li>èƒ½å¤Ÿå°†ä»»ä½•ç½‘é¡µè½¬æ¢ä¸ºæœ¬åœ°exeåº”ç”¨</li><li>æ•ˆæœå›¾<br><img src="https://p.ananas.chaoxing.com/star3/origin/d7f09395a3bbecf2156293825d636903.jpg?rw=1920&amp;rh=1080&amp;_fileSize=191388&amp;_orientation=1" alt=""></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g nativefier</span><br><span class="line">nativefier <span class="string">&quot;ç½‘å€&quot;</span></span><br></pre></td></tr></table></figure><h3 id="å½©è™¹å±"><a href="https://github.com/SaekiRaku/vscode-rainbow-fart">å½©è™¹å±</a></h3><ul><li>ä¸€ä¸ªåœ¨ä½ ç¼–ç¨‹æ—¶ç–¯ç‹‚ç§°èµä½ çš„ VSCodeæ‰©å±•åœ¨ç¼–ç æ—¶ä¼šä¸æ–­ç»™æ‚¨ä»¥èµç¾ï¼Œå®ƒå°†æ£€æŸ¥ä»£ç çš„å…³é”®å­—ä»¥æ’­æ”¾åˆé€‚çš„å£°éŸ³ã€‚</li><li><a href="https://saekiraku.github.io/vscode-rainbow-fart/#/zh/README.md">æ¼”ç¤ºç«™</a></li><li>è§†é¢‘</li></ul><video id="video" controls="" preload="none" poster="">      <source id="mp4" src="https://saekiraku.oss-cn-beijing.aliyuncs.com/github/vscode-rainbow-fart/showoff-1.mp4" type="video/mp4">      </video><h3 id="ç½‘æ˜“äº‘æ‰“å¡æ¯æ—¥ä¸‰ç™¾é¦–-å·²å¼ƒç”¨">~~<a href="https://github.com/ZainCheung/netease-cloud">ç½‘æ˜“äº‘æ‰“å¡æ¯æ—¥ä¸‰ç™¾é¦–</a>~~å·²å¼ƒç”¨</h3><ul><li><p>æ¯å¤©è‡ªåŠ¨ç™»é™†å¬å®Œ300é¦–æ­Œ</p></li><li><p>æ¯å¤©è‡ªåŠ¨å‘ä½ çš„å¾®ä¿¡æ¨é€å¬æ­Œä»»åŠ¡è¿›åº¦</p></li><li><p>è¿™ä¸ªé¡¹ç›®åˆ†ä¸ºPythonå®¢æˆ·ç«¯å’ŒAPIæ¥å£ï¼ˆæœåŠ¡å™¨ï¼‰<strong>æ”¯æŒäº†äº‘å‡½æ•°</strong>ï¼Œä¸€å…±ä¸¤ä¸ªé¡¹ç›®ï¼Œå„æœ‰ä¸‰ç§éƒ¨ç½²æ–¹æ³•ã€‚Pythoné¡¹ç›®çš„éƒ¨ç½²æœ€ç®€å•çš„æ˜¯<strong>äº‘å‡½æ•°æ³•</strong>ï¼ŒAPIé¡¹ç›®çš„éƒ¨ç½²æœ€ç®€å•çš„æ˜¯<strong>ç›´æ¥å¤åˆ¶é¡¹ç›®æ³•</strong>ã€‚</p></li></ul><h3 id="ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆè®°"><a href="https://suulnnka.github.io/BullshitGenerator/index.html">ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆè®°</a></h3><ul><li>æˆªå›¾<img src="https://p.ananas.chaoxing.com/star3/origin/f9fadfba21df3fb9c734915d9057d5a7.png?rw=1900&amp;rh=853&amp;_fileSize=857936&amp;_orientation=1" alt=""></li></ul><h3 id="onemanageræ­å»ºç½‘ç›˜"><a href="https://github.com/Ysnsn/OneManager-php">onemanageræ­å»ºç½‘ç›˜</a></h3><ul><li>æ”¯æŒäº‘å‡½æ•° &amp;Heroku &amp;VPS æˆ–ç©ºé—´ &amp;FGåä¸ºäº‘å‡½æ•°å·¥ä½œæµ</li><li><a href="https://ysnsn.herokuapp.com/">æ¼”ç¤ºç«™</a></li></ul><h3 id="å¤©ç¿¼äº‘æ‰“å¡ç­¾åˆ°"><a href="https://github.com/Ysnsn/cloud189-sign">å¤©ç¿¼äº‘æ‰“å¡ç­¾åˆ°</a></h3><ul><li><p>ä½¿ç”¨github actions æ¯å¤©è‡ªåŠ¨æ‰“å¡ç­¾åˆ°</p></li><li><p>åŸåœ°å€ <a href="https://github.com/peng4740/Cloud189Checkin-Actions">https://github.com/peng4740/Cloud189Checkin-Actions</a></p></li></ul><h3 id="ğŸ‘€å¾®ä¿¡-QQ-TIMé˜²æ’¤å›è¡¥ä¸"><a href="https://github.com/huiyadanli/RevokeMsgPatcher">ğŸ‘€å¾®ä¿¡/QQ/TIMé˜²æ’¤å›è¡¥ä¸</a></h3><ul><li>æˆªå›¾<img src="https://p.ananas.chaoxing.com/star3/origin/d83c2c5b56d2ddff9de9f7f99fde4435.png?rw=857&amp;rh=316&amp;_fileSize=79985&amp;_orientation=1" alt=""></li></ul><h3 id="onepoint"><a href="https://github.com/ukuq/onepoint">onepoint</a></h3><ul><li><p>ä¸€ä¸ªè½»é‡çº§ã€å¤šå¹³å°ã€å¤šç§ç½‘ç›˜çš„æ–‡ä»¶ç›®å½•ç´¢å¼•å’Œç®¡ç†å·¥å…·ã€‚</p></li><li><p>æ”¯æŒonedrive å›½é™…ç‰ˆ/ä¸–çºªäº’è”ç‰ˆ/æ— å…¨å±€ç®¡ç†å‘˜ç‰ˆ &amp;google drive v3API/goindexå…¼å®¹æ¥å£ &amp; coding å›¢é˜Ÿç½‘ç›˜ &amp; æœ¬æœºæ–‡ä»¶ç³»ç»Ÿ  &amp;  webdav(dev) &amp; è‡ªå®šä¹‰é“¾æ¥</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> GitHub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç²¾å½©çŸ­å¥, åè¨€å“²ç†</title>
      <link href="/meiwen.html"/>
      <url>/meiwen.html</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="ç»å¸¸æ›´æ–°-æ¥æºäºç½‘ç»œ">ç»å¸¸æ›´æ–°-----æ¥æºäºç½‘ç»œ</h2></blockquote><ol start="37"><li>ä¸ä¸ä¹‰ä½œæ–—äº‰æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä½†äººå¹¶ä¸ä»…ä»…æ˜¯ä¾é ä¸é‚ªæ¶ä½œæ–—äº‰è€Œæ´»ç€ï¼Œä»–ä»¬æ˜¯ä¾é é€‰æ‹©è‡ªå·±çš„ç›®æ ‡è€Œæ´»ç€ã€‚â€”â€”å¶ç¤¼åº­</li></ol><blockquote><h2 id="2020-08-19-12-06-03">2020-08-19 12:06:03</h2></blockquote><ol start="36"><li>ä¸–ä¿—ï¼Œä¸è¿‡æ˜¯é™Œç”Ÿäººçš„ä¸€å¼ å˜´è€Œå·²ï¼Œåè€Œæœ€åœ¨ä¹çš„äººæ‰æ˜¯è¶Šéš¾ä»¥å¯¹æŠ—çš„ã€‚â€”â€”éƒ­å¼ºç”Ÿ</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200817225741.jpeg" alt=""></p><ol start="35"><li><p>æ¢¦æƒ³åœ¨è¿œæ–¹ï¼Œåªè¦ä½ è‚¯ä»˜å‡ºåå‡ å¹´çš„ä»£ä»·ï¼Œæˆ–è®¸ä½ å–œæ¬¢çš„äººå°±è¿‘åœ¨çœ¼å‰äº†ã€‚</p></li><li><p>Dreams are far away, as long as you are willing to pay the price of more than ten years, maybe the person you like is near your eyes.<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200817225656.jpeg" alt=""></p></li><li><p>æˆ‘çœ‹è§ä¸€é“å…‰ï¼Œæ”¶äº†æ˜¥åä¸ç§‹å®ï¼Œå¤ç¹ä¸å†¬ç››ï¼Œæœ€ç»ˆè—åœ¨ä½ çœ¼é‡Œ</p></li><li><p>æ²¡æœ‰è°çš„ç”Ÿæ´»ä¼šä¸€ç›´å®Œç¾ï¼Œä½†æ— è®ºä»€ä¹ˆæ—¶å€™éƒ½è¦çœ¼çœ‹å‰æ–¹ï¼Œæ»¡æ€€å¸Œæœ›å°±ä¼šæ‰€å‘æŠ«é¡ã€‚-â€”å·«å“²ã€Šæ’’é‡ã€‹</p></li><li><p>æ˜¥é£åé‡Œï¼Œäº”åé‡Œï¼Œä¸€ç™¾é‡Œï¼Œä½“æµ‹å…«ç™¾ç±³ï¼Œæµ·åº•ä¸¤ä¸‡é‡Œï¼Œå¾·èŠ™å·§å…‹åŠ›ï¼Œé¦™è‰å‘³å…«å–œï¼Œå¯å¯å¸ƒæœ—å°¼ï¼Œæ¦´è²è èèœœï¼ŒèŠå£«ç‰ç±³ç²’ï¼Œé¸¡æ±åœŸè±†æ³¥ï¼Œé»‘æ¤’ç‰›é‡Œè„Šï¼Œé»„ç„–è¾£å­é¸¡ï¼Œçº¢çƒ§æ’éª¨é…±é†‹é±¼ï¼Œä¸å¦‚ä½ ï¼Œå…¨éƒ½ä¸å¦‚ä½ ã€‚</p></li><li><p>å¤©ç©ºæ˜¯è“è‰²çš„ï¼Œå¤ªé˜³æ˜¯é»„è‰²çš„ï¼Œå¤§åœ°æ˜¯æ£•è‰²çš„ï¼Œæµ·æ´‹æ˜¯è“è‰²çš„ï¼Œè‰æ˜¯ç»¿è‰²çš„ï¼Œé²œèŠ±æ˜¯äº”é¢œå…­è‰²çš„ï¼Œå¿ƒè·³æ˜¯çº¢è‰²çš„??è€Œä½ æ˜¯å±äºæˆ‘ä¸–ç•Œçš„é¢œè‰²</p></li><li><p>å²æœˆæŸ“ä¸Šçš„éœœé›ªã€‚å…‰éŸ³è¸Ÿè¹°ä¹‹åï¼Œç»å¹´é‡Œä¸€æˆä¸å˜çš„ï¼Œä¸æ˜¯æµå¹´é‡Œçš„èŠ±å¼€èŠ±è½ï¼Œä¹Ÿä¸æ˜¯æœˆè‰²ä¸‹çš„æ‚²æ¬¢ç¦»åˆã€‚ç»å¹´æµé€åï¼Œä¾æ—§æ²¡æœ‰æ”¹å˜çš„ï¼Œæ˜¯æ­¤é—´æ¸©æš–è€Œè¯šå®çš„å¯¹ç™½ï¼Œäº¦å¦‚é‚£å¥æˆ‘å–œæ¬¢ä½ ã€‚â€”â€”ã€Šæ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ã€‹</p></li><li><p>æˆ‘è§è¿‡æ˜¥æ—¥å¤é£ï¼Œç§‹å¶å†¬é›ªï¼›ä¹Ÿè¸éå—æ°´åŒ—å±±ï¼Œä¸œéº“è¥¿å²­ï¼›å¯è¿™å››å­£æ˜¥ç§‹ï¼Œè‹å±±æ³±æ°´ï¼›éƒ½ä¸åŠä½ ï¼Œå†²æˆ‘å±•çœ‰ä¸€ç¬‘ã€‚</p></li><li><p>ç°åœ¨æ€»æ˜¯å«ç€è¿‡å»çš„æ˜äº®ç¢ç‰‡ï¼Œè¿‡å»ç ´ç¢åˆ°æ— æ³•ä¿®è¡¥ï¼Œå´æ€»ä¹Ÿä¸ä¼šå®Œå…¨æ¶ˆäº¡ã€‚â€”â€”å”å¨œÂ·å¡”ç‰¹ã€Šé‡‘ç¿…é›€ã€‹ â€‹â€‹</p></li><li><p>ä¸€ä»¶ä¸œè¥¿ï¼Œèº«ä»·å†é«˜ä¹Ÿä¸æ˜¯æ€§å‘½ã€‚ä¸‡ç‰©æœ‰çµï¼Œç”Ÿå‘½å¯è´µï¼Œç”Ÿå‘½é‡Œçš„å¿ƒæƒ…æ›´åŠ å¯è´µã€‚â€”â€”å´”æ›¼è‰</p></li><li><p>è®¸å¤šä¸œè¥¿æœªå¿…éœ€è¦å–œæ¬¢ï¼Œé˜…è¯»æ¸¸å†ï¼Œå…¶å®ä¹Ÿä¸ä¸ºéƒ½è®°ä¸‹æ¥ï¼Œåªæ˜¯ç•™ä¸ªå°è±¡ï¼Œåœ¨å¿ƒé‡Œç”Ÿæ ¹ã€‚æ—¥åè§¦æ™¯ç”Ÿæƒ…ï¼Œæ€»ä¼šæ‡‚çš„ã€‚â€”â€”å¼ ä½³ç®</p></li><li><p>è¿‡éŸ§æ€§çš„ç”Ÿæ´»è™½ç„¶æœ€å¥½ï¼Œä½†ç»ˆç©¶è¿˜æ˜¯ä¸ºäº†æœ‰æ‰€ä½œä¸ºï¼Œè€Œä¸æ˜¯æŠŠéŸ§æ€§æœ¬èº«å½“æˆç›®çš„ã€‚â€”â€”ä¼å›½</p></li><li><p>æˆ‘ä»¬ä¸€ç”Ÿä¸è¿‡æ˜¯æ¸…é†’åœ°ç©¿è¿‡æ¢¦å¢ƒï¼Œæ¯ä¸ªäººåªä¸è¿‡æ˜¯å²æœˆçš„ä¸€ä¸ªå¹½çµã€‚â€”â€”å¼—æœ—èŒ¨Â·å¡å¤«å¡ â€‹</p></li><li><p>æ— äººä¸æˆ‘ç«‹é»„æ˜ï¼Œæ— äººé—®æˆ‘ç²¥å¯æ¸©ï¼Œ</p></li></ol><ul><li>æ— äººä¸æˆ‘æ»ç¯ç†„ï¼Œæ— äººå…±æˆ‘ä¹¦åŠç”Ÿã€‚</li><li>æ— äººé™ªæˆ‘å¤œå·²æ·±ï¼Œæ— äººä¸æˆ‘æŠŠé…’åˆ†ã€‚</li><li>æ— äººæ‹­æˆ‘ç›¸æ³ªï¼Œæ— äººæ¢¦æˆ‘ä¸å‰ç¨‹ã€‚</li><li>æ— äººé™ªæˆ‘é¡¾æ˜Ÿè¾°ï¼Œæ— äººé†’æˆ‘èŒ¶å·²å†·ã€‚</li></ul><ol start="21"><li>ä¸è¦å¤±æœ›ï¼Œç”šè‡³å¯¹ä½ å¹¶ä¸æ„Ÿåˆ°å¤±æœ›è¿™ä¸€ç‚¹ä¹Ÿä¸è¦å¤±æœ›ï¼Œæ°æ°åœ¨ä¼¼ä¹ä¸€åˆ‡éƒ½å®Œäº†çš„æ—¶å€™ï¼Œæ–°çš„åŠ›é‡æ¥ä¸´ï¼Œç»™ä½ ä»¥æ”¯æŸ±ï¼Œè€Œè¿™æ­£è¡¨æ˜ä½ æ˜¯æ´»ç€çš„ã€‚â€”â€”[å¥¥åœ°åˆ©]å¡å¤«å¡ã€ŠåŸå ¡ã€‹<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200721150138.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200721150208.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200721150247.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200721150312.jpg" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200721150337.jpg" alt=""></li></ol><blockquote><h2 id="17-06-2020å¹´7æœˆ20æ—¥-æ˜ŸæœŸä¸€">17:06 2020å¹´7æœˆ20æ—¥, æ˜ŸæœŸä¸€</h2></blockquote><ol start="20"><li><p>ä½ ä¸ºä»€ä¹ˆè¦åŠªåŠ›ï¼Œå› ä¸ºæˆ‘å–œæ¬¢çš„äººéƒ½å¾ˆä¼˜ç§€ï¼Œæˆ‘å–œæ¬¢çš„ä¸œè¥¿éƒ½å¾ˆè´µï¼Œæˆ‘æƒ³å»çš„åœ°æ–¹éƒ½å¾ˆè¿œã€‚<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/picture/img/20200720123909.jpg" alt=""></p></li><li><p>è®©äººèˆ’æœçš„æ˜¯â€œäººæ°”â€ï¼Œæˆ–æ˜¯â€œå¸‚äº•â€æ°”ï¼Œæˆ‘å¾ˆå–œæ¬¢å®ƒä»¬ï¼Œè§‰å¾—è¿™æ‰æ˜¯ç”Ÿæ´»åŸæ¥çš„æ ·å­ã€‚â€”â€”æµæ²™</p></li><li><p>å¿™ç¢Œçš„ç°ä»£äººæ€»æ˜¯å‘å¤–è¿½æ±‚å¹¸ç¦å¿«ä¹çš„äººç”Ÿï¼Œå´ä¸çŸ¥å¹¸ç¦å¿«ä¹åŸæ˜¯ä¸å‡å¤–æ±‚ã€‚â€”â€”ä½•å¥å¹³</p></li><li><p>æ²¡æœ‰æ¢ç©¶ç»†èŠ‚çš„å¥½å¥‡å¿ƒï¼Œå¯¹ä¸€åˆ‡éƒ½æ˜¯æ¼ ç„¶ç½®ä¹‹çš„æ€åº¦ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ä¸€ç§è‡ªæˆ‘çš„è¾¹ç¼˜åŒ–ã€‚â€”â€”é™¶ç¦</p></li><li><p>å¸Œæœ›å’Œå›å¿†è‚²æœ‰ä¸€å¥³ï¼Œåå”¤è‰ºæœ¯ï¼Œå¥¹çš„å±…æ‰€è¿œç¦»äººç±»ç”¨æ ‘æˆé«˜æ‚¬è¢è¡«å……å½“æˆ˜æ——çš„ç»æœ›ä¹‹åœ°ã€‚â€”â€”å¨å»‰Â·å·´ç‰¹å‹’Â·å¶èŠã€Šå‡¯å°”ç‰¹çš„è–„æš®ã€‹ â€‹â€‹â€‹â€‹</p></li><li><p>ç”Ÿæ´»çš„ç›®çš„å°±æ˜¯ç”Ÿæ´»æœ¬èº«ã€‚ç”Ÿæ´»çš„æœ¬è´¨å³è¡¨é¢ã€‚ç”Ÿæ´»çš„æ„ä¹‰å°±æ˜¯ä¸éœ€è¦æ„ä¹‰ã€‚â€”â€”è©¹å§†æ–¯Â·ç´¢ç‰¹ã€Šå…‰å¹´ã€‹</p></li><li><p>åªæœ‰æˆ‘ä»¬çå¼€çœ¼ç›é†’è¿‡æ¥çš„æ—¶å€™ï¼Œé»æ˜æ‰ä¼šåˆ°æ¥ã€‚Â â€”â€”æ¢­ç½—ã€Šç“¦å°”ç™»æ¹–ã€‹</p></li><li><p>æˆ‘å¹´è½»è¿‡ï¼Œè½é­„è¿‡ï¼Œå¹¸ç¦è¿‡ï¼Œæˆ‘å¯¹ç”Ÿæ´»ä¸€å¾€æƒ…æ·±ã€‚â€”â€”é©¬å°”å…‹æ–¯ã€Šæ´»ç€ä¸ºäº†è®²è¿°ã€‹Â â€‹â€‹â€‹</p></li><li><p>äººä¸å¯ä»¥å¤ªå€”å¼ºï¼Œæ´»åœ¨ä¸–ç•Œä¸Šï¼Œä¸€æ–¹é¢éœ€è¦è®¤çœŸï¼Œæœ‰æ—¶å€™åªèƒ½æ— æ‰€è°“ã€‚â€”â€”æ±ªæ›¾ç¥º</p></li><li><p>ç›¸çˆ±çš„äººä»¬ä¹Ÿåªæ˜¯åœ¨é»‘æš—ä¸­å¹¶è‚©è¡Œèµ°ï¼Œæ‰€èƒ½åšåˆ°çš„ä»…æ˜¯å„è‡ªåŠªåŠ›è¿½æ±‚å¿ƒä¸­çš„å…‰æ˜ï¼Œå¹¶äº’ç›¸æ„Ÿå—åˆ°è¿™ç§åŠªåŠ›ï¼Œäº’ç›¸é¼“åŠ±ã€‚â€”â€”å‘¨å›½å¹³</p></li></ol><p><img src="https://p.ananas.chaoxing.com/star3/origin/fc030d946e7f2a25389ecb01f81eb701.jpg?rw=1500&amp;rh=1066&amp;_fileSize=986922&amp;_orientation=1" alt=""></p><ol start="10"><li><p>äººä¹‹ä¸ºå­¦ï¼Œä¸æ—¥è¿›åˆ™æ—¥é€€ã€‚â€”â€”é¡¾ç‚æ­¦</p></li><li><p>äººçš„å¤´è„‘è¶Šç©ºè™šï¼Œå°±è¶Šä¸æ„¿æ„å¡«æ»¡å®ƒï¼Œè¿™æ˜¯ä¸å—æ™®éè§„å¾‹æ”¯é…çš„å”¯ä¸€ä¾‹å¤–ã€‚â€”â€”é™€æ€å¦¥è€¶å¤«æ–¯åŸºã€Šé³„é±¼ã€‹</p></li><li><p>å¥½ä¸œè¥¿ä¸ä¸€å®šè´µï¼Œå¹³æ·¡çš„ä¸œè¥¿ä¹Ÿè‡ªæœ‰æ»‹å‘³ã€‚â€”â€”æ—æ¸…ç„</p></li><li><p>ç”Ÿæ´»å®‰é€¸æ—¶ä¼šåšå‡ºç»æœ›çš„è¯—ï¼Œç”Ÿæ´»çª˜è¿«æ—¶ä¼šä¸æ–­å†™å‡ºç”Ÿçš„å–œæ‚¦ã€‚â€”â€”å¤ªå®°æ²»ã€Šå¶ã€‹</p></li><li><p>å¹¸ç¦æ˜¯ä¸€ç§å¿ƒçµçš„æŒ¯é¢¤ã€‚å®ƒåƒä¼šå€¾å¬éŸ³ä¹çš„è€³æœµä¸€æ ·ï¼Œéœ€è¦ä¸æ–­åœ°è®­ç»ƒã€‚â€”â€”æ¯•æ·‘æ•</p></li><li><p>ç­‰å¾…çš„æœªå¿…èƒ½è·å¾—ï¼Œè€Œæœªæ›¾ç­‰å¾…çš„ä¸é€Ÿä¹‹å®¢å´é£å¿«æ¥åˆ°ï¼Œè€Œä¸”ç»å¯¹é©±ä¸èµ°ï¼Œé¿ä¸å¼€ã€‚â€”â€”å´å† ä¸­</p></li><li><p>æ²¡æœ‰å“ªä¸€æ¬¡å·¨å¤§çš„å†å²ç¾éš¾ä¸æ˜¯ä»¥å†å²çš„è¿›æ­¥ä¸ºè¡¥å¿çš„ã€‚â€”â€”æ©æ ¼æ–¯</p></li><li><p>åªæœ‰å½“ä½ æ·±å…¥äº†è§£ä¸€ä¸ªäººçš„å†…å¿ƒï¼Œç«™åœ¨ä»–çš„ç«‹åœºä¸Šçœ‹å¾…é—®é¢˜æ—¶ï¼Œä½ æ‰èƒ½çœŸæ­£ç†è§£ä»–ã€‚â€”â€”å“ˆç€Â·æ</p></li><li><p>å¹¸ç¦ä¹Ÿä¸é•¿é©»ï¼Œæœ‰æ—¶å¤©æ°”å¤ªå†·ï¼Œç«ç”Ÿä¸èµ·æ¥ï¼Œæ˜¯è®©äººç€æ€¥çš„ï¼Œåªå¥½æ‹¿ç€å†°é›ªç”¨æ‰‹æ…¢æ…¢è®©å®ƒèåŒ–ï¼Œè¾¹èè¾¹å¬ã€‚â€”â€”æ—æ¸…ç„</p></li><li><p>åƒçš„å…³ç³»å¾®è€Œå¦™ã€‚åˆ†ä¸€ä»½ç¾é£Ÿï¼Œç»™è°ä¸ç»™è°ï¼Œæˆ–è€…ï¼Œè¯·è°ä¸è¯·è°ï¼Œéƒ½æœ‰è®²ç©¶ï¼Œè½®å»“ç†æ¸…ï¼Œä¸èƒ½æ€ æ…¢å’Œé—å¿˜ã€‚</p></li></ol><p><img src="https://p.ananas.chaoxing.com/star3/origin/5d33958a82551f0f29fe747de2eefd29.jpeg?rw=1024&amp;rh=1024&amp;_fileSize=106485&amp;_orientation=1" alt=""></p><p>æ›²é›ªä¸­æ‚åˆ€è¡Œï¼Œä¸å…³åˆ€å‰‘åªå…³æƒ…ã€‚<br>è¥¿åŒ—æœ‰é›å‡¤ï¼Œå•è¡£å‡ºåŒ—å‡‰ï¼Œ<br>èº«æ—å”¯æœ‰é‚£ç¼ºé—¨ç‰™è€é»„ï¼Œå‘é…ä¸‰åƒé‡Œï¼Œä¸çŸ¥ä½•æ—¥èƒ½è¿”ä¹¡ã€‚<br>æ¯é€¢é­éš¾æ—¶ï¼Œé«˜å–Šé£ç´§æ‰¯å‘¼è«æƒŠæ…Œã€‚<br>å¾…åˆ°å½’æ¥æ—¥ï¼Œæåˆ€ä¸Šæ­¦å½“ï¼Œå¬é—»æŒæ•™ç‹é‡æ¥¼ï¼Œæ›¾ä¸¤æŒ‡æ–­å¤§æ±Ÿã€‚<br>å¤§é»„åº­ï¼Œé•¿ç”Ÿè²ï¼Œå‰‘ä¹å…­åƒé‡Œï¼Œå»é‚£æ­¦å¸åŸå¤´ä¸Šï¼Œå…«ç™¾ä¹‰ä»å†å‡ºå‡‰ã€‚<br>ç¾Šçš®è£˜ï¼Œæœ¨ç‰›é©¬ï¼Œå‰‘æ‹›æˆ–å‰‘ç½¡ï¼Œä¸¤è¢–é’è›‡å°½é”‹èŠ’ï¼Œå‰‘å¼€å¤©é—¨è°èƒ½æŒ¡ï¼Ÿ<br>å‹¾å¿ƒæ–—è§’é–å®‰ç‹ï¼Œä¸€åˆ€å¸ç”²èŠ¦è‹‡è¡ã€‚<br>è¡Œè‡³å¾½å±±é›ªåªä¸Šï¼Œæ•¬åŸæ’¼æ˜†ä»‘ï¼Œæ–¹çŸ¥èšèœ‰æ’¼å¤§æ ‘ï¼Œå¯æ•¬ä¸è‡ªé‡ï¼<br>å­¤èº«å…¥åŒ—è½ï¼Œå³¡è°·å…¥é‡‘åˆšã€‚<br>æ˜¥é›·ä¸€åˆ€ä»™äººè·ªï¼Œæ˜¥ç§‹ä¸€å‰‘å®ˆæ•¦ç…Œï¼Œä¸ºé‚£ä¸€é¢—å¥½å¤´é¢…ï¼Œæ‹¼çš„ä¸¤é¬“å°½è‹èŒ«ã€‚<br>æ€ç—…è™ï¼Œæ–©äººçŒ«ï¼Œå†è´¥ç¥æ­¦åŸä¸­ä¸€å¤´è€å¤©è±¡ã€‚<br>å±±æ²³åº™å ‚çš†é€€æ•£ï¼Œä¹æ¥¼ä¹‹ä¸Šè§ˆé£å…‰ï¼Œå¯ç»ˆç©¶å¯¹ä¸èµ·ï¼Œé‚£å¼¹çµç¶çš„å°å§‘å¨˜ã€‚<br>æ­¦å¸åŸé‡Œæ­¦å¸å‡ºï¼ŒåŒ—å‡‰å¢ƒå†…åŒ—å‡‰ç‹ï¼Œå‘µå‘µä¸€å£°å“ï¼Œç‹ä»™èŠä¹Ÿæ­»åœ¨æˆ‘æ‰‹ä¸Šï¼<br>æŠ—å¤©é›·ï¼Œæ–©è½é¾™ï¼Œè½¬æˆ˜åƒé‡ŒæŠ–å¨é£ã€‚<br>å¤ªå®‰åŸé‡Œæˆ˜æ›¹é‚“ï¼Œé’¦å¤©ç›‘å†…æ€ä»™ç¿ã€‚<br>é£é›ªé¾™éª‘ä¸‹å¹¿é™µï¼Œä¸éœ€æ¥ä¸–è®¤é…’çªã€‚<br>å¯æ€œæˆ‘ï¼Œè¥¿åŒ—å¢ƒå†…ä¸€è—©ç‹ï¼Œæ­¦è¯„å®—å¸ˆæ— äººæŒ¡ï¼Œåˆ°å¤´æ¥ï¼Œå¯çŸ¥ä¸ºè°è¾›è‹¦ä¸ºè°å¿™ï¼Ÿ<br>ä¸ä¸ºé‚£èµµå®¶å¤©å­å®ˆå›½é—¨ï¼Œåªä¸ºé‚£å¾å¿ƒå®‰å¤„å³å¾ä¹¡ã€‚<br>å¾…åˆ°é‚£ï¼Œå‡‰å·åŸé‡Œå¤©æ°”å‡‰ï¼Œæˆ‘ä¾¿åœ¨ï¼Œæ´›é˜³åŸé‡Œè§‚è½é˜³ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¾æ–‡ç¾å›¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åè¨€ </tag>
            
            <tag> åå¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdownè¯­æ³•</title>
      <link href="/markdown.html"/>
      <url>/markdown.html</url>
      
        <content type="html"><![CDATA[<h2 id="å¦‚æœæœ‰ä¸€ä¸ªå¥½çš„markdownç¼–è¾‘å™¨ä¸‹é¢çš„åŸºæœ¬å°±ä¸ç”¨çœ‹äº†-æ¨ètypora"><strong>å¦‚æœæœ‰ä¸€ä¸ªå¥½çš„markdownç¼–è¾‘å™¨ä¸‹é¢çš„åŸºæœ¬å°±ä¸ç”¨çœ‹äº†</strong>      <a href="https://typora.io/">æ¨ètypora</a></h2><h3 id="ä¸€ã€æ ‡é¢˜">ä¸€ã€æ ‡é¢˜</h3><ul><li><p>åœ¨æƒ³è¦è®¾ç½®ä¸ºæ ‡é¢˜çš„æ–‡å­—å‰é¢åŠ #æ¥è¡¨ç¤º</p></li><li><p>ä¸€ä¸ª#æ˜¯ä¸€çº§æ ‡é¢˜ï¼ŒäºŒä¸ª#æ˜¯äºŒçº§æ ‡é¢˜ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ”¯æŒå…­çº§æ ‡é¢˜ã€‚</p></li><li><p>æ³¨ï¼šæ ‡å‡†è¯­æ³•ä¸€èˆ¬åœ¨#åè·Ÿä¸ªç©ºæ ¼å†å†™æ–‡å­—.</p></li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># è¿™æ˜¯ä¸€çº§æ ‡é¢˜</span><br><span class="line">## è¿™æ˜¯äºŒçº§æ ‡é¢˜</span><br><span class="line">### è¿™æ˜¯ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### è¿™æ˜¯å››çº§æ ‡é¢˜</span><br><span class="line">##### è¿™æ˜¯äº”çº§æ ‡é¢˜</span><br><span class="line">###### è¿™æ˜¯å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><h3 id="äºŒã€å­—ä½“">äºŒã€å­—ä½“</h3><h4 id="åŠ ç²—">åŠ ç²—</h4><ul><li>è¦åŠ ç²—çš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸¤ä¸ª*å·åŒ…èµ·æ¥</li></ul><h4 id="æ–œä½“">æ–œä½“</h4><ul><li>è¦å€¾æ–œçš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸€ä¸ª*å·åŒ…èµ·æ¥</li></ul><h4 id="æ–œä½“åŠ ç²—">æ–œä½“åŠ ç²—</h4><ul><li>è¦å€¾æ–œå’ŒåŠ ç²—çš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸‰ä¸ª*å·åŒ…èµ·æ¥</li></ul><h4 id="åˆ é™¤çº¿">åˆ é™¤çº¿</h4><ul><li>è¦åŠ åˆ é™¤çº¿çš„æ–‡å­—å·¦å³åˆ†åˆ«ç”¨ä¸¤ä¸ª~~å·åŒ…èµ·æ¥</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">**è¿™æ˜¯åŠ ç²—çš„æ–‡å­—**</span><br><span class="line">*è¿™æ˜¯å€¾æ–œçš„æ–‡å­—*&#96;</span><br><span class="line">***è¿™æ˜¯æ–œä½“åŠ ç²—çš„æ–‡å­—***</span><br><span class="line">~~è¿™æ˜¯åŠ åˆ é™¤çº¿çš„æ–‡å­—~~</span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€å¼•ç”¨">ä¸‰ã€å¼•ç”¨</h3><ul><li>åœ¨å¼•ç”¨çš„æ–‡å­—å‰åŠ &gt;å³å¯ã€‚å¼•ç”¨ä¹Ÿå¯ä»¥åµŒå¥—ï¼Œå¦‚åŠ ä¸¤ä¸ª&gt;&gt;ä¸‰ä¸ª&gt;&gt;&gt;<br>nä¸ªâ€¦<br>è²Œä¼¼å¯ä»¥ä¸€ç›´åŠ ä¸‹å»ï¼Œä½†æ²¡ç¥é©¬åµç”¨</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹</span><br><span class="line">&gt;&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹</span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹</span><br></pre></td></tr></table></figure><h3 id="å››ã€åˆ†å‰²çº¿">å››ã€åˆ†å‰²çº¿</h3><ul><li>ä¸‰ä¸ªæˆ–è€…ä¸‰ä¸ªä»¥ä¸Šçš„ - æˆ–è€… * éƒ½å¯ä»¥ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">----</span><br><span class="line">***</span><br><span class="line">*****</span><br></pre></td></tr></table></figure><h3 id="äº”ã€å›¾ç‰‡">äº”ã€å›¾ç‰‡</h3><ul><li>è¯­æ³•ï¼š</li></ul><p>![å›¾ç‰‡alt](å›¾ç‰‡åœ°å€ â€˜â€˜å›¾ç‰‡titleâ€™â€™)</p><p>å›¾ç‰‡altå°±æ˜¯æ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸‹é¢çš„æ–‡å­—ï¼Œç›¸å½“äºå¯¹å›¾ç‰‡å†…å®¹çš„è§£é‡Šã€‚<br>å›¾ç‰‡titleæ˜¯å›¾ç‰‡çš„æ ‡é¢˜ï¼Œå½“é¼ æ ‡ç§»åˆ°å›¾ç‰‡ä¸Šæ—¶æ˜¾ç¤ºçš„å†…å®¹ã€‚titleå¯åŠ å¯ä¸åŠ </p><h3 id="å…­ã€è¶…é“¾æ¥">å…­ã€è¶…é“¾æ¥</h3><ul><li>è¯­æ³•ï¼š</li></ul><p><a href="%E8%B6%85%E9%93%BE%E6%8E%A5%E5%9C%B0%E5%9D%80" title="è¶…é“¾æ¥title">è¶…é“¾æ¥å</a><br>titleå¯åŠ å¯ä¸åŠ <br>ç¤ºä¾‹ï¼š</p><p><a href="http://baidu.com">ç™¾åº¦</a></p><p><a href="è¶…é“¾æ¥åœ°å€" target="_blank">è¶…é“¾æ¥å</a></p><p>ç¤ºä¾‹<br><a href="https://www.jianshu.com/u/1f5ac0cf6a8b" target="_blank">ç®€ä¹¦</a></p><h3 id="ä¸ƒã€åˆ—è¡¨">ä¸ƒã€åˆ—è¡¨</h3><ul><li><p>æ— åºåˆ—è¡¨</p></li><li><p>è¯­æ³•ï¼š</p></li><li><p>æ— åºåˆ—è¡¨ç”¨ - + * ä»»ä½•ä¸€ç§éƒ½å¯ä»¥</p><ul><li>åˆ—è¡¨å†…å®¹</li></ul><ul><li>åˆ—è¡¨å†…å®¹</li></ul><ul><li>åˆ—è¡¨å†…å®¹</li></ul></li></ul><p>æ³¨æ„ï¼š- + * è·Ÿå†…å®¹ä¹‹é—´éƒ½è¦æœ‰ä¸€ä¸ªç©ºæ ¼</p><p>è¯­æ³•ï¼š<br>æ•°å­—åŠ ç‚¹</p><ol><li>åˆ—è¡¨å†…å®¹</li><li>åˆ—è¡¨å†…å®¹</li><li>åˆ—è¡¨å†…å®¹</li></ol><p>æ³¨æ„ï¼šåºå·è·Ÿå†…å®¹ä¹‹é—´è¦æœ‰ç©ºæ ¼</p><p>ä¸Šä¸€çº§å’Œä¸‹ä¸€çº§ä¹‹é—´æ•²ä¸‰ä¸ªç©ºæ ¼å³å¯</p><p>ä¸€çº§æ— åºåˆ—è¡¨å†…å®¹</p><p>äºŒçº§æ— åºåˆ—è¡¨å†…å®¹<br>äºŒçº§æ— åºåˆ—è¡¨å†…å®¹<br>äºŒçº§æ— åºåˆ—è¡¨å†…å®¹<br>ä¸€çº§æ— åºåˆ—è¡¨å†…å®¹</p><p>äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹<br>äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹<br>äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹<br>ä¸€çº§æœ‰åºåˆ—è¡¨å†…å®¹</p><p>äºŒçº§æ— åºåˆ—è¡¨å†…å®¹<br>äºŒçº§æ— åºåˆ—è¡¨å†…å®¹<br>äºŒçº§æ— åºåˆ—è¡¨å†…å®¹<br>ä¸€çº§æœ‰åºåˆ—è¡¨å†…å®¹</p><p>äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹<br>äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹<br>äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹</p><h3 id="å…«ã€è¡¨æ ¼">å…«ã€è¡¨æ ¼</h3><ul><li>è¯­æ³•ï¼š</li></ul><table><thead><tr><th>è¡¨å¤´</th><th style="text-align:center">è¡¨å¤´</th><th style="text-align:right">è¡¨å¤´</th></tr></thead><tbody><tr><td>å†…å®¹</td><td style="text-align:center">å†…å®¹</td><td style="text-align:right">å†…å®¹</td></tr><tr><td>å†…å®¹</td><td style="text-align:center">å†…å®¹</td><td style="text-align:right">å†…å®¹</td></tr></tbody></table><p>ç¬¬äºŒè¡Œåˆ†å‰²è¡¨å¤´å’Œå†…å®¹ã€‚</p><ul><li>æœ‰ä¸€ä¸ªå°±è¡Œï¼Œä¸ºäº†å¯¹é½ï¼Œå¤šåŠ äº†å‡ ä¸ª<br>æ–‡å­—é»˜è®¤å±…å·¦<br>-ä¸¤è¾¹åŠ ï¼šè¡¨ç¤ºæ–‡å­—å±…ä¸­<br>-å³è¾¹åŠ ï¼šè¡¨ç¤ºæ–‡å­—å±…å³<br>æ³¨ï¼šåŸç”Ÿçš„è¯­æ³•ä¸¤è¾¹éƒ½è¦ç”¨ | åŒ…èµ·æ¥ã€‚æ­¤å¤„çœç•¥<br>ç¤ºä¾‹ï¼š</li></ul><table><thead><tr><th>å§“å</th><th style="text-align:center">æŠ€èƒ½</th><th style="text-align:right">æ’è¡Œ</th></tr></thead><tbody><tr><td>åˆ˜å¤‡</td><td style="text-align:center">å“­</td><td style="text-align:right">å¤§å“¥</td></tr><tr><td>å…³ç¾½</td><td style="text-align:center">æ‰“</td><td style="text-align:right">äºŒå“¥</td></tr><tr><td>å¼ é£</td><td style="text-align:center">éª‚</td><td style="text-align:right">ä¸‰å¼Ÿ</td></tr></tbody></table><p>å§“åæŠ€èƒ½æ’è¡Œ<br>åˆ˜å¤‡å“­å¤§å“¥<br>å…³ç¾½æ‰“äºŒå“¥<br>å¼ é£éª‚ä¸‰å¼Ÿ</p><h3 id="ä¹ã€ä»£ç ">ä¹ã€ä»£ç </h3><ul><li><p>è¯­æ³•ï¼š</p></li><li><p>å•è¡Œä»£ç : ä»£ç ä¹‹é—´åˆ†åˆ«ç”¨ä¸€ä¸ªåå¼•å·åŒ…èµ·æ¥</p><p><code>ä»£ç å†…å®¹</code><br>ä»£ç å—ï¼šä»£ç ä¹‹é—´åˆ†åˆ«ç”¨ä¸‰ä¸ªåå¼•å·åŒ…èµ·æ¥ï¼Œä¸”ä¸¤è¾¹çš„åå¼•å·å•ç‹¬å ä¸€è¡Œ</p></li></ul><p>(<code>)   ä»£ç ...   ä»£ç ...   ä»£ç ... (</code>)</p><p>ç¤ºä¾‹ï¼š</p><p>å•è¡Œä»£ç </p><p><code>create database hero;</code><br>ä»£ç å—</p><p>(<code>)     function fun()&#123;          echo &quot;è¿™æ˜¯ä¸€å¥éå¸¸ç‰›é€¼çš„ä»£ç &quot;;     &#125;     fun(); (</code>)<br>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>å•è¡Œä»£ç </p><p>create database hero;</p><p>ä»£ç å—</p><p>function fun(){<br>echo â€œè¿™æ˜¯ä¸€å¥éå¸¸ç‰›é€¼çš„ä»£ç â€;<br>}<br>fun();</p><h4 id="åã€æµç¨‹å›¾">åã€æµç¨‹å›¾</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">st&#x3D;&gt;start: å¼€å§‹</span><br><span class="line">op&#x3D;&gt;operation: My Operation</span><br><span class="line">cond&#x3D;&gt;condition: Yes or No?</span><br><span class="line">e&#x3D;&gt;end</span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br><span class="line">&amp;&#96;&#96;&#96;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ’å…¥è§†é¢‘-éŸ³é¢‘">æ’å…¥è§†é¢‘&amp;éŸ³é¢‘</h4><video id="video" controls="" preload="none" poster="">      <source id="mp4" src="https://saekiraku.oss-cn-beijing.aliyuncs.com/github/vscode-rainbow-fart/showoff-1.mp4" type="video/mp4">      </video><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;video id&#x3D;&quot;video&quot; controls&#x3D;&quot;&quot; preload&#x3D;&quot;none&quot; poster&#x3D;&quot;&quot;&gt;</span><br><span class="line">      &lt;source id&#x3D;&quot;mp4&quot; src&#x3D;&quot;https:&#x2F;&#x2F;saekiraku.oss-cn-beijing.aliyuncs.com&#x2F;github&#x2F;vscode-rainbow-fart&#x2F;showoff-1.mp4&quot; type&#x3D;&quot;video&#x2F;mp4&quot;&gt;</span><br><span class="line">      &lt;&#x2F;video&gt;</span><br></pre></td></tr></table></figure><audio id="audio" controls="" preload="none">      <source id="mp3" src="http://qiniu.cloud.fandong.me/Music_iP%E8%B5%B5%E9%9C%B2%20-%20%E7%A6%BB%E6%AD%8C%20%28Live%29.mp3">      </audio><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio id&#x3D;&quot;audio&quot; controls&#x3D;&quot;&quot; preload&#x3D;&quot;none&quot;&gt;</span><br><span class="line">      &lt;source id&#x3D;&quot;mp3&quot; src&#x3D;&quot;http:&#x2F;&#x2F;qiniu.cloud.fandong.me&#x2F;Music_iP%E8%B5%B5%E9%9C%B2%20-%20%E7%A6%BB%E6%AD%8C%20%28Live%29.mp3&quot;&gt;</span><br><span class="line">      &lt;&#x2F;audio&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> åŸºæœ¬ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ï¼Ÿåœ¨ï¼Ÿ</title>
      <link href="/xindong.html"/>
      <url>/xindong.html</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸ˜˜ä»Šå¤©å–äº†é›ªç¢§ï¼Œåƒäº†ç»´ç”Ÿç´ bå¯è¿˜æ˜¯å¿˜ä¸äº†ä½ ä¸ªå‚»ç¢§ã€‚"><strong>ğŸ˜˜ä»Šå¤©å–äº†é›ªç¢§ï¼Œåƒäº†ç»´ç”Ÿç´ bå¯è¿˜æ˜¯å¿˜ä¸äº†ä½ ä¸ªå‚»ç¢§ã€‚</strong></h2><h2 id="ğŸ˜ä»Šå¤©å–äº†è„‰åŠ¨å•Šï¼Œå‰²äº†åŠ¨è„‰å•Šï¼Œç„¶åä¸€åŠ¨ä¸åŠ¨äº†ã€‚"><strong>ğŸ˜ä»Šå¤©å–äº†è„‰åŠ¨å•Šï¼Œå‰²äº†åŠ¨è„‰å•Šï¼Œç„¶åä¸€åŠ¨ä¸åŠ¨äº†ã€‚</strong></h2><h2 id="ğŸ¤ä»Šå¤©å–äº†è„‰åŠ¨å•Šï¼Œåƒäº†æœå†»å•Šï¼Œè¿˜æ˜¯å¿ä¸ä½å¯¹ä½ å¿ƒåŠ¨å•Šã€‚"><strong>ğŸ¤ä»Šå¤©å–äº†è„‰åŠ¨å•Šï¼Œåƒäº†æœå†»å•Šï¼Œè¿˜æ˜¯å¿ä¸ä½å¯¹ä½ å¿ƒåŠ¨å•Šã€‚</strong></h2><h2 id="ğŸ­æ­ªä¸æ˜¯å§ä»Šå¤©çœ‹äº†æ™ºæ…§æ ‘å“‡åƒäº†éº¦ä¸½ç´ å“‡ä½†æ˜¯è¿˜æ˜¯å¿ä¸ä½æŠŠä¸­æŒ‡å¯¹ä½ ç«–å•Š">ğŸ­<strong>æ­ªä¸æ˜¯å§ä»Šå¤©çœ‹äº†æ™ºæ…§æ ‘å“‡åƒäº†éº¦ä¸½ç´ å“‡ä½†æ˜¯è¿˜æ˜¯å¿ä¸ä½æŠŠä¸­æŒ‡å¯¹ä½ ç«–å•Š.</strong></h2><p><img src="http://b374.photo.store.qq.com/psb?/V14NO2zx3ACx8B/IEvZ82cDztYIhZuD27Jl7aJ3fe49t2*FWlwuqae2v24!/b/dHYBAAAAAAAA&amp;bo=yADIAMgAyAABByA!&amp;rf=viewer_4" alt=""></p><p><img src="https://s1.ax1x.com/2020/06/28/N2bnXt.jpg" alt=""><br><img src="https://s1.ax1x.com/2020/06/23/NtnPaD.jpg" alt=""></p><p>This is my website, click the button <a class="btn-beautify button--animated " href="http://www.jerryc.me"   title="JerryC"><span>JerryC</span></a><br>This is my website, click the button <a class="btn-beautify button--animated " href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><br>This is my website, click the button <a class="btn-beautify button--animated outline" href="http://www.jerryc.me"   title="JerryC"><span>JerryC</span></a><br>This is my website, click the button <a class="btn-beautify button--animated outline" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><br>This is my website, click the button <a class="btn-beautify button--animated larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a></p><p>This is my website, click the button <a class="btn-beautify button--animated " href="http://www.jerryc.me"   title="JerryC"><span>JerryC</span></a><br>This is my website, click the button <a class="btn-beautify button--animated " href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><br>This is my website, click the button <a class="btn-beautify button--animated outline" href="http://www.jerryc.me"   title="JerryC"><span>JerryC</span></a><br>This is my website, click the button <a class="btn-beautify button--animated outline" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><br>This is my website, click the button <a class="btn-beautify button--animated larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a></p><a class="btn-beautify button--animated block" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated block center larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated block right outline larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated blue larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated pink larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated red larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated purple larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated orange larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated green larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><div class="btn-center"><a class="btn-beautify button--animated outline larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated outline blue larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated outline pink larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated outline red larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated outline purple larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated outline orange larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a><a class="btn-beautify button--animated outline green larger" href="http://www.jerryc.me"   title="JerryC"><i class="far fa-hand-point-right fa-fw"></i><span>JerryC</span></a></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,larger %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,larger %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,block %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,block center larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,block right outline larger %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,blue larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,pink larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,red larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,purple larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,orange larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,green larger %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class&#x3D;&quot;btn-center&quot;&gt;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline blue larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline pink larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline red larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline purple larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline orange larger %&#125;</span><br><span class="line">&#123;% btn &#39;http:&#x2F;&#x2F;www.jerryc.me&#39;,JerryC,far fa-hand-point-right,outline green larger %&#125;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><ol><li>ä½ å¥½ï¼</li><li>çœ‹ä»€ä¹ˆçœ‹</li><li>æˆ‘å¾ˆå¸…å—ï¼ï¼ï¼</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ol&gt;</span><br><span class="line">&lt;li&gt;ä½ å¥½ï¼&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li&gt;çœ‹ä»€ä¹ˆçœ‹&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li&gt;æˆ‘å¾ˆå¸…å—ï¼ï¼ï¼&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ol&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ä½ è¦é•œåƒçš„ç½‘ç«™.</span><br><span class="line">const upstream &#x3D; &#39;www.google.com&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é•œåƒç½‘ç«™çš„ç›®å½•ï¼Œæ¯”å¦‚ä½ æƒ³é•œåƒæŸä¸ªç½‘ç«™çš„äºŒçº§ç›®å½•åˆ™å¡«å†™äºŒçº§ç›®å½•çš„ç›®å½•åï¼Œé•œåƒ google ç”¨ä¸åˆ°ï¼Œé»˜è®¤å³å¯.</span><br><span class="line">const upstream_path &#x3D; &#39;&#x2F;&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é•œåƒç«™æ˜¯å¦æœ‰æ‰‹æœºè®¿é—®ä¸“ç”¨ç½‘å€ï¼Œæ²¡æœ‰åˆ™å¡«ä¸€æ ·çš„.</span><br><span class="line">const upstream_mobile &#x3D; &#39;www.google.com&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å±è”½å›½å®¶å’Œåœ°åŒº.</span><br><span class="line">const blocked_region &#x3D; [&#39;KP&#39;, &#39;SY&#39;, &#39;PK&#39;, &#39;CU&#39;]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å±è”½ IP åœ°å€.</span><br><span class="line">const blocked_ip_address &#x3D; [&#39;0.0.0.0&#39;, &#39;127.0.0.1&#39;]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é•œåƒç«™æ˜¯å¦å¼€å¯ HTTPS.</span><br><span class="line">const https &#x3D; true</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ–‡æœ¬æ›¿æ¢.</span><br><span class="line">const replace_dict &#x3D; &#123;</span><br><span class="line">    &#39;$upstream&#39;: &#39;$custom_domain&#39;,</span><br><span class="line">    &#39;&#x2F;&#x2F;google.com&#39;: &#39;&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä»¥ä¸‹ä¿æŒé»˜è®¤ï¼Œä¸è¦åŠ¨</span><br><span class="line">addEventListener(&#39;fetch&#39;, event &#x3D;&gt; &#123;</span><br><span class="line">    event.respondWith(fetchAndApply(event.request));</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">async function fetchAndApply(request) &#123;</span><br><span class="line"></span><br><span class="line">    const region &#x3D; request.headers.get(&#39;cf-ipcountry&#39;).toUpperCase();</span><br><span class="line">    const ip_address &#x3D; request.headers.get(&#39;cf-connecting-ip&#39;);</span><br><span class="line">    const user_agent &#x3D; request.headers.get(&#39;user-agent&#39;);</span><br><span class="line"></span><br><span class="line">    let response &#x3D; null;</span><br><span class="line">    let url &#x3D; new URL(request.url);</span><br><span class="line">    let url_hostname &#x3D; url.hostname;</span><br><span class="line"></span><br><span class="line">    if (https &#x3D;&#x3D; true) &#123;</span><br><span class="line">        url.protocol &#x3D; &#39;https:&#39;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        url.protocol &#x3D; &#39;http:&#39;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (await device_status(user_agent)) &#123;</span><br><span class="line">        var upstream_domain &#x3D; upstream;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        var upstream_domain &#x3D; upstream_mobile;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    url.host &#x3D; upstream_domain;</span><br><span class="line">    if (url.pathname &#x3D;&#x3D; &#39;&#x2F;&#39;) &#123;</span><br><span class="line">        url.pathname &#x3D; upstream_path;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        url.pathname &#x3D; upstream_path + url.pathname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (blocked_region.includes(region)) &#123;</span><br><span class="line">        response &#x3D; new Response(&#39;Access denied: WorkersProxy is not available in your region yet.&#39;, &#123;</span><br><span class="line">            status: 403</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; else if (blocked_ip_address.includes(ip_address)) &#123;</span><br><span class="line">        response &#x3D; new Response(&#39;Access denied: Your IP address is blocked by WorkersProxy.&#39;, &#123;</span><br><span class="line">            status: 403</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        let method &#x3D; request.method;</span><br><span class="line">        let request_headers &#x3D; request.headers;</span><br><span class="line">        let new_request_headers &#x3D; new Headers(request_headers);</span><br><span class="line"></span><br><span class="line">        new_request_headers.set(&#39;Host&#39;, url.hostname);</span><br><span class="line">        new_request_headers.set(&#39;Referer&#39;, url.hostname);</span><br><span class="line"></span><br><span class="line">        let original_response &#x3D; await fetch(url.href, &#123;</span><br><span class="line">            method: method,</span><br><span class="line">            headers: new_request_headers</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        let original_response_clone &#x3D; original_response.clone();</span><br><span class="line">        let original_text &#x3D; null;</span><br><span class="line">        let response_headers &#x3D; original_response.headers;</span><br><span class="line">        let new_response_headers &#x3D; new Headers(response_headers);</span><br><span class="line">        let status &#x3D; original_response.status;</span><br><span class="line"></span><br><span class="line">        new_response_headers.set(&#39;access-control-allow-origin&#39;, &#39;*&#39;);</span><br><span class="line">        new_response_headers.set(&#39;access-control-allow-credentials&#39;, true);</span><br><span class="line">        new_response_headers.delete(&#39;content-security-policy&#39;);</span><br><span class="line">        new_response_headers.delete(&#39;content-security-policy-report-only&#39;);</span><br><span class="line">        new_response_headers.delete(&#39;clear-site-data&#39;);</span><br><span class="line"></span><br><span class="line">        const content_type &#x3D; new_response_headers.get(&#39;content-type&#39;);</span><br><span class="line">        if (content_type.includes(&#39;text&#x2F;html&#39;) &amp;&amp; content_type.includes(&#39;UTF-8&#39;)) &#123;</span><br><span class="line">            original_text &#x3D; </span><br><span class="line">              await replace_response_text(original_response_clone, upstream_domain, url_hostname);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            original_text &#x3D; original_response_clone.body</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        response &#x3D; new Response(original_text, &#123;</span><br><span class="line">            status,</span><br><span class="line">            headers: new_response_headers</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    return response;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">async function replace_response_text(response, upstream_domain, host_name) &#123;</span><br><span class="line">    let text &#x3D; await response.text()</span><br><span class="line"></span><br><span class="line">    var i, j;</span><br><span class="line">    for (i in replace_dict) &#123;</span><br><span class="line">        j &#x3D; replace_dict[i]</span><br><span class="line">        if (i &#x3D;&#x3D; &#39;$upstream&#39;) &#123;</span><br><span class="line">            i &#x3D; upstream_domain</span><br><span class="line">        &#125; else if (i &#x3D;&#x3D; &#39;$custom_domain&#39;) &#123;</span><br><span class="line">            i &#x3D; host_name</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (j &#x3D;&#x3D; &#39;$upstream&#39;) &#123;</span><br><span class="line">            j &#x3D; upstream_domain</span><br><span class="line">        &#125; else if (j &#x3D;&#x3D; &#39;$custom_domain&#39;) &#123;</span><br><span class="line">            j &#x3D; host_name</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        let re &#x3D; new RegExp(i, &#39;g&#39;)</span><br><span class="line">        text &#x3D; text.replace(re, j);</span><br><span class="line">    &#125;</span><br><span class="line">    return text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">async function device_status(user_agent_info) &#123;</span><br><span class="line">    var agents &#x3D; [&quot;Android&quot;, &quot;iPhone&quot;, &quot;SymbianOS&quot;, &quot;Windows Phone&quot;, &quot;iPad&quot;, &quot;iPod&quot;];</span><br><span class="line">    var flag &#x3D; true;</span><br><span class="line">    for (var v &#x3D; 0; v &lt; agents.length; v++) &#123;</span><br><span class="line">        if (user_agent_info.indexOf(agents[v]) &gt; 0) &#123;</span><br><span class="line">            flag &#x3D; false;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Heroku-å…è´¹å®¹å™¨æœåŠ¡ç”³è¯·ï¼Œæ­å»º-V2-CF-æ–¹æ³•æ•™ç¨‹">Heroku å…è´¹å®¹å™¨æœåŠ¡ç”³è¯·ï¼Œæ­å»º V2+CF æ–¹æ³•æ•™ç¨‹</h2><p>Heroku æ˜¯ä¸€ä¸ªæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„äº‘å¹³å°å³æœåŠ¡ï¼Œå¹¶ä¸”æä¾›å…è´¹çš„å®¹å™¨æœåŠ¡ï¼ˆç¾å›½ã€æ¬§æ´²èŠ‚ç‚¹ï¼‰ï¼Œæœ¬æ–‡å°±ä»¥å…è´¹å®¹å™¨ä¸ºä¾‹ï¼Œæ­å»º V2 å¹¶é…ç½® CF åŠ é€Ÿï¼Œä½ æ‡‚å¾—ï¼<br>æ³¨æ„ï¼šHeroku æœ‰æ»¥ç”¨å±é™©ï¼Œåæœå¯èƒ½å°±æ˜¯å°ç¦è´¦å·å“¦ï¼</p><p>ä¸€ã€é…ç½®Heroku<br>1ã€é¦–å…ˆæ³¨å†ŒHerokuè´¦å·ï¼Œç‚¹å‡»é€šè¿‡ <a href="https://dashboard.heroku.com">https://dashboard.heroku.com</a>  æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œæ³¨å†Œæ—¶å€™ä¸èƒ½ä½¿ç”¨QQé‚®ç®±ï¼š<br>2ã€æ³¨å†ŒæˆåŠŸä»¥åç™»å½•ï¼Œç™»å½•ä»¥åç‚¹å‡» <a href="https://dashboard.heroku.com/new?template=https%3A%2F%2Fgithub.com%2Fbclswl0827%2Fv2ray-heroku">æˆ‘æˆ‘æˆ‘æˆ‘</a>  éƒ¨ç½²åº”ç”¨ï¼åç§°éšä¾¿å¡«å†™å°±è¡Œäº†ï¼Œç„¶åç‚¹å‡» Deploy app ç³»ç»Ÿä¼šè‡ªåŠ¨éƒ¨ç½²ï¼š</p><p>3ã€éƒ¨ç½²å®Œæˆä»¥åï¼Œç‚¹å‡» Settings å†ç‚¹å‡» Reveal Config Vars å°±å¯ä»¥çœ‹è§ UUIDäº†ï¼è®°ä¸‹è‡ªå·±çš„UUIDç­‰ä¼šè¿˜æ˜¯ç”¨åˆ°ï¼š<br>4ã€æ¥ç€ä¸‹æ»‘ï¼Œçœ‹è§Domainsé¡¹åæœ‰ä¸ªåŸŸåï¼https://*****.herokuapp.com/ è®°ä¸‹åŸŸåï¼Œç¨åé…ç½®CloudFlare åå‘ä»£ç†ä¼šç”¨åˆ°ï¼š</p><p>äºŒã€é…ç½®CloudFlareåå‘ä»£ç†<br>1ã€é¦–å…ˆç™»é™†CloudFlareå®˜ç½‘ï¼Œç„¶åç‚¹å‡» å³ä¾§çš„ Workers ï¼š<br>2ã€æ¥ç€ç‚¹å‡»åˆ›å»º Workers ï¼š</p><p>3ã€æ¥ç€å¤åˆ¶ä¸‹æ–¹ä»£ç ï¼Œå¹¶æ·»åŠ è¿›å»ï¼æ³¨æ„æŠŠä¸‹é¢çš„ä¸­æ–‡æ›¿æ¢æˆä½ ä¹‹å‰åœ¨Domainsé¡¹çœ‹è§çš„é‚£ä¸ªåŸŸåå‰ç¼€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">addEventListener(</span><br><span class="line">  &quot;fetch&quot;,event &#x3D;&gt; &#123;</span><br><span class="line">     let url&#x3D;new URL(event.request.url);</span><br><span class="line">     url.hostname&#x3D;&quot;ä½ çš„herokuåŸŸå.herokuapp.com&quot;;</span><br><span class="line">     let request&#x3D;new Request(url,event.request);</span><br><span class="line">     event. respondWith(</span><br><span class="line">       fetch(request)</span><br><span class="line">     )</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼CFå°±é…ç½®å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å¼€å§‹é…ç½®V2å®¢æˆ·ç«¯ï¼</p><p>ä¸‰ã€é…ç½®V2å®¢æˆ·ç«¯<br>1ã€é…ç½®å®¢æˆ·ç«¯ï¼Œè¯·æŒ‰ç…§å›¾ç‰‡çš„è¦æ±‚è®¾ç½®ï¼Œå¦åˆ™ä¸èƒ½è”ç½‘ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Ysnsn/img@master/2020/09/12/17ac8e74b1f6de08a588540870fa1ccd.png" alt=""><br>å››ã€è‡ªé€‰IP<br>ä¸‹è½½è‡ªé€‰IPç¨‹åºï¼Œç„¶åwindowsç³»ç»Ÿè¿è¡Œå³å¯ï¼Œå…¨è‡ªåŠ¨åŒ–ã€‚</p><a class="btn-beautify button--animated outline pink larger" href="https://ysnsn.herokuapp.com/yn/%E7%94%B5%E8%84%91%E8%BD%AF%E4%BB%B6/CF%E4%BC%98%E9%80%89%E8%8A%82%E7%82%B9fping-msys2.0.zip"   title="ç‚¹æˆ‘ä¸‹è½½"><i class="fas fa-download fa-fw"></i><span>ç‚¹æˆ‘ä¸‹è½½</span></a><p>4ã€å®é™…æ•ˆæœå›¾ï¼ˆç¨³å®š 3 -5Wï¼‰</p><h2 id="ä½¿ç”¨è‡ªå·±çš„-Live2d-çœ‹æ¿å¨˜">ä½¿ç”¨è‡ªå·±çš„ Live2d çœ‹æ¿å¨˜</h2><p>æ¯æ¬¡çœ‹åˆ«äººåšå®¢æˆ–è€…ç½‘ç«™çš„æ—¶å€™ï¼Œåˆ«äººç½‘ç«™éƒ½æœ‰å¥½çœ‹çš„çœ‹æ¿å¨˜ï¼Œå³ä½¿å®‰è£…äº† helper-live2d ä½†æä¾›çš„ Live2d å¤ªå°‘äº†<br>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„ Live2d å‘¢ï¼Ÿ<br>çœ‹ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹éƒ½æ˜¯ä¹±ä¸ƒå…«ç³Ÿçš„ï¼Œçœ‹ä¹Ÿçœ‹ä¸æ‡‚ï¼Œè‡ªå·±ç ”ç©¶äº†ä¸€ä¸‹ï¼ŒæˆåŠŸäº†ï¼<br>åˆ†äº«å‡ºæ¥ï¼Œè®©æ›´å¤šäººå°‘è¸©å‘ï¼Œè¿™é‡Œæˆ‘ä»¥ç´«ç½—å…°æ°¸æ’èŠ±å›­çš„è–‡å°”è‰ç‰¹Â·ä¼ŠèŠ™åŠ ç™»å°å§å§çš„ Live2d æ¨¡å‹ä½œä¸ºæ¼”ç¤ºï¼Œç»“æŸåä¼šå¥‰ä¸Šå‡ ä¸ªå¥½çœ‹çš„æ¨¡å‹<br>å¦‚æœä½ æœ‰å¥½çœ‹çš„æ¨¡å‹å¯ä»¥ä¸æˆ‘åˆ†äº« (å¥½ä¸œè¥¿è¦å­¦ä¼šåˆ†äº«)</p><p>ä½¿ç”¨ helper-live2d çš„ Live2d æ’ä»¶ <a href="https://github.com/EYHN/hexo-helper-live2d">https://github.com/EYHN/hexo-helper-live2d</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸåï¼Œåœ¨ hexo æ ¹ç›®å½•çš„_config.yml æ·»åŠ å¦‚ä¸‹é…ç½® (å¯ä»¥å†™åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œ)</p><p>åŸºç¡€é…ç½®</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># å¼€å¯live2d</span></span><br><span class="line">  <span class="comment"># enable: false</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span> <span class="comment"># é»˜è®¤</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2d/</span> <span class="comment"># æ’ä»¶åœ¨ç«™ç‚¹ä¸Šçš„æ ¹ç›®å½•(ç›¸å¯¹è·¯å¾„)</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span> <span class="comment"># è„šæœ¬æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span> <span class="comment"># æ¨¡å‹æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span></span><br><span class="line">  <span class="comment"># scriptFrom: jsdelivr # jsdelivr CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: unpkg # unpkg CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # ä½ çš„è‡ªå®šä¹‰ url</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span> <span class="comment"># æ ‡ç­¾æ¨¡å¼, æ˜¯å¦ä»…æ›¿æ¢ live2d tagæ ‡ç­¾è€Œéæ’å…¥åˆ°æ‰€æœ‰é¡µé¢ä¸­</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span> <span class="comment"># è°ƒè¯•, æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-wanko</span> <span class="comment"># npm-module package name</span></span><br><span class="line">    <span class="comment"># use: wanko # åšå®¢æ ¹ç›®å½•/live2d_models/ ä¸‹çš„ç›®å½•å</span></span><br><span class="line">    <span class="comment"># use: ./wives/wanko # ç›¸å¯¹äºåšå®¢æ ¹ç›®å½•çš„è·¯å¾„</span></span><br><span class="line">    <span class="comment"># use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # ä½ çš„è‡ªå®šä¹‰ url</span></span><br></pre></td></tr></table></figure><p>è¿›é˜¶é…ç½®<br>çœ‹å¦‚ä¸‹é…ç½®åœ¨åŸºç¡€é…ç½®çš„åŸºç¡€ä¸Šè¿›è¡Œæ·»åŠ ç›¸åº”çš„é…ç½®</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># æ˜¯å¦å¼€å¯live2d</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span> <span class="comment">## è„šæœ¬ä»æœ¬åœ°å¼•å…¥</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span> <span class="comment"># æ¨¡å‹æ ¹ç›®å½•(æŒ‡hexo gåç”Ÿæˆpublic\live2dwæ–‡ä»¶å)</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span> <span class="comment"># ä¾èµ–jsçš„æ–‡ä»¶å¤¹å(public\live2dw\lib)</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span> <span class="comment"># æ¨¡å‹å­˜æ”¾ç›®å½•(public\live2dw\assets)</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span> <span class="comment"># æ ‡è®°æ¨¡å¼(æœªçŸ¥) </span></span><br><span class="line">  <span class="attr">log:</span> <span class="literal">false</span> <span class="comment"># æ—¥å¿—</span></span><br><span class="line">  <span class="attr">model:</span> <span class="comment"># æ¨¡å‹</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-wanko</span> <span class="comment"># ä½¿ç”¨çš„æ¨¡å‹åç§°</span></span><br><span class="line">  <span class="attr">display:</span> <span class="comment"># æ˜¾ç¤º</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># æ˜¾ç¤ºåœ¨å³è¾¹(leftæ˜¾ç¤ºåœ¨å·¦è¾¹)</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span> <span class="comment"># å®½åº¦</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span> <span class="comment"># é«˜åº¦</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span> <span class="comment"># æ‰‹æœºç«¯æ˜¯å¦æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">react:</span></span><br><span class="line">    <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># é€æ˜åº¦</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æˆ‘åœ¨åŸºç¡€é…ç½®çš„åŸºç¡€ä¸Šæ·»åŠ çš„å‡ ä¸ªå±æ€§</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># Live2D</span><br><span class="line">## https:&#x2F;&#x2F;github.com&#x2F;EYHN&#x2F;hexo-helper-live2d</span><br><span class="line">live2d:</span><br><span class="line">  enable: true # å¼€å¯live2d</span><br><span class="line">  # enable: false</span><br><span class="line">  scriptFrom: local # é»˜è®¤</span><br><span class="line">  pluginRootPath: live2d&#x2F; # æ’ä»¶åœ¨ç«™ç‚¹ä¸Šçš„æ ¹ç›®å½•(ç›¸å¯¹è·¯å¾„)</span><br><span class="line">  pluginJsPath: lib&#x2F; # è„šæœ¬æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span><br><span class="line">  pluginModelPath: assets&#x2F; # æ¨¡å‹æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span><br><span class="line">  # scriptFrom: jsdelivr # jsdelivr CDN</span><br><span class="line">  # scriptFrom: unpkg # unpkg CDN</span><br><span class="line">  # scriptFrom: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;live2d-widget@3.x&#x2F;lib&#x2F;L2Dwidget.min.js # ä½ çš„è‡ªå®šä¹‰ url</span><br><span class="line">  tagMode: false # æ ‡ç­¾æ¨¡å¼, æ˜¯å¦ä»…æ›¿æ¢ live2d tagæ ‡ç­¾è€Œéæ’å…¥åˆ°æ‰€æœ‰é¡µé¢ä¸­</span><br><span class="line">  debug: false # è°ƒè¯•, æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—</span><br><span class="line">  display:</span><br><span class="line">     position: left</span><br><span class="line">  mobile:</span><br><span class="line">     show: false   </span><br><span class="line">  model:</span><br><span class="line">     scale: 1.2</span><br><span class="line">     use: weier</span><br></pre></td></tr></table></figure><p>é«˜çº§é…ç½®<br>å»ºè®®å°ç™½å¯ä»¥ä¸å¿…ç†ä¼šï¼Œé«˜ç©è¯·éšæ„ï¼Œå®˜æ–¹ API åœ°å€ï¼š<a href="https://l2dwidget.js.org/docs/class/src/index.js~L2Dwidget.html#instance-method-init">L2Dwidget | live2d-widget.js</a></p><p>ä½¿ç”¨æ¨¡å‹<br>è‡ªå®šä¹‰æ¨¡å‹<br>ä½¿ç”¨è‡ªå·±ä¸‹è½½å¥½çš„æ¨¡å‹<br>åœ¨ hexo æ ¹ç›®å½•æ–°å»º live2d_models æ–‡ä»¶å¤¹ï¼Œç„¶åæŠŠæ¨¡å‹æ”¾è¿›å»ï¼Œæœ€ååœ¨ live2d é…ç½®é‡Œçš„ model: ä¸‹çš„ use: è¾“å…¥æ¨¡å‹æ–‡ä»¶å¤¹å<br>åœ¨æˆ‘æä¾›çš„ live2d çš„å‹ç¼©åŒ…é‡Œæœ‰å‡ ä¸ªæ¨¡å‹ï¼Œè¿™é‡Œæˆ‘ä»¥è–‡å°”è‰ç‰¹Â·ä¼ŠèŠ™åŠ ç™»è¿›è¡Œæ¼”ç¤º</p><p>å°†è–‡å°”è‰ç‰¹Â·ä¼ŠèŠ™åŠ ç™»å¤åˆ¶åˆ°åˆšä»æ–°å»ºçš„ live2d_models æ–‡ä»¶å¤¹å†…ï¼Œç„¶åé‡å‘½åä¸º weier(å½“ç„¶è¿™ä¸ªåå­—æ˜¯ä½ è‡ªå®šä¹‰çš„)ï¼Œç„¶åè¿›å…¥ weier æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸ª 14.json æ–‡ä»¶ï¼Œå°†ä»–é‡å‘½åä¸º weier.model.json å…¶ä»–æ–‡ä»¶æ— éœ€ä¿®æ”¹ï¼Œæœ€ååœ¨ live2d é…ç½®é‡Œçš„ model: ä¸‹çš„ use: è¾“å…¥æ¨¡å‹æ–‡ä»¶å¤¹å (weier)</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">model:</span></span><br><span class="line">     <span class="attr">use:</span> <span class="string">weier</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ npm install {packagename} å®‰è£…æ¨¡å‹å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install live2d-widget-model-wanko</span><br></pre></td></tr></table></figure><p>ç›®å‰æœ‰å¦‚ä¸‹æ¨¡å‹æ¨¡å‹æ ·å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">live2d-widget-model-chitose</span><br><span class="line">live2d-widget-model-epsilon2_1</span><br><span class="line">live2d-widget-model-gf</span><br><span class="line">live2d-widget-model-haru&#x2F;01 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haru&#x2F;02 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haruto</span><br><span class="line">live2d-widget-model-hibiki</span><br><span class="line">live2d-widget-model-hijiki</span><br><span class="line">live2d-widget-model-izumi</span><br><span class="line">live2d-widget-model-koharu</span><br><span class="line">live2d-widget-model-miku</span><br><span class="line">live2d-widget-model-ni-j</span><br><span class="line">live2d-widget-model-nico</span><br><span class="line">live2d-widget-model-nietzsche</span><br><span class="line">live2d-widget-model-nipsilon</span><br><span class="line">live2d-widget-model-nito</span><br><span class="line">live2d-widget-model-shizuku</span><br><span class="line">live2d-widget-model-tororo</span><br><span class="line">live2d-widget-model-tsumiki</span><br><span class="line">live2d-widget-model-unitychan</span><br><span class="line">live2d-widget-model-wanko</span><br><span class="line">live2d-widget-model-z16</span><br></pre></td></tr></table></figure><p>æ¨¡å‹ä¸‹è½½åœ°å€</p><div class="btn-center"><a class="btn-beautify button--animated outline pink larger" href="https://656e-env-jxscvzag-1301289878.tcb.qcloud.la/live2dModel.zip"   title="ç‚¹æˆ‘ä¸‹è½½"><i class="fas fa-download fa-fw"></i><span>ç‚¹æˆ‘ä¸‹è½½</span></a></div>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
